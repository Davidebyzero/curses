! "curses-r7.z3", 117976 bytes
! Z-machine version 3, release 7, serial 930428
!
! Decompiled by Reform release 6, serial 040226
! using symbol file "curses-r7.reform"

! Grammar

Verb 'xdetermine'
    * 							-> XDeter
;

Verb 'xah'
    * special						-> XAh
;

Verb 'xdh'
    * special						-> XDh
;

Verb 'xasnc'
    * 							-> XAsnc
;

Verb 'xmaster'
    * 							-> XMaste
;

Verb 'xtravel'
    * 							-> XTravel
;

Verb 'xattic'
    * special						-> XAttack
;

Verb 'xcheat'
    * 							-> XCheat
;

Verb 'xallow'
    * special						-> XAllow
;

Verb 'plover' 'plugh' 'xyzzy'
    * 							-> Xyzzy
;

Verb 'hop' 'jump' 'skip'
    * 							-> Jump
    * 'over' noun					-> JumpOver
;

Verb 'chop' 'cut' 'prune' 'slice'
    * noun						-> Cut
;

Verb 'fill'
    * noun						-> Fill
;

Verb 'drink' 'sip' 'swallow'
    * noun						-> Drink
;

Verb 'burn' 'light'
    * noun						-> Burn
;

Verb 'attach' 'fasten' 'fix' 'tie'
    * noun						-> Tie
    * noun 'to' special					-> Tie
;

Verb 'clean' 'polish' 'rub' 'shine'
    * noun						-> Rub
;

Verb 'feel' 'fondle' 'grope' 'touch'
    * 							-> Touch
    * noun						-> TouchThing
;

Verb 'taste'
    * 							-> Taste
;

Verb 'hear' 'listen'
    * 							-> Listen
    * noun						-> Listen
    * 'to' noun						-> Listen
;

Verb 'smell' 'sniff'
    * 							-> Smell
    * noun						-> Smell
;

Verb 'think'
    * 							-> Think
;

Verb 'embrace' 'hug' 'kiss'
    * creature						-> Kiss
;

Verb 'awake' 'awaken' 'wake'
    * 							-> Wake
    * 'up'						-> Wake
    * creature						-> WakeOther
    * 'up' creature					-> WakeOther
;

Verb 'pray'
    * 							-> Pray
;

Verb 'blow'
    * held						-> Blow
;

Verb 'swing'
    * noun						-> Swing
    * 'on' noun						-> Swing
;

Verb 'dive' 'swim'
    * 							-> Swim
;

Verb 'squash' 'squeez'
    * noun						-> Squeeze
;

Verb 'buy' 'purchase'
    * special						-> Buy
;

Verb 'qq'
    * 							-> UnconditionalQuit
;

Verb 'ram'
    * noun						-> Ram
;

Verb 'climb' 'scale'
    * noun						-> Climb
;

Verb 'sing'
    * 							-> Sing
;

Verb 'peel'
    * noun						-> Take
    * 'off' noun					-> Take
;

Verb 'point'
    * noun 'at' noun					-> Point
;

Verb 'strike'
    * noun						-> Strike
;

Verb 'nap' 'sleep' 'snooze'
    * 							-> Sleep
;

Verb 'consum' 'eat' 'gobble' 'ingest' 'munch'
    * held						-> Eat
;

Verb 'ask'
    * creature 'about' special				-> Ask
;

Verb 'answer' 'say' 'shout' 'speak'
    * special 'to' creature				-> Answer
;

Verb 'help'
    * 							-> Help
    * special						-> HelpSpecial
;

Verb 'hint' 'hints'
    * 							-> Hint
;

Verb 'wait' 'z//'
    * 							-> Wait
;

Verb 'rip' 'tear'
    * 							-> Rip
    * 'down' noun					-> PullDown
    * noun						-> Rip
;

Verb 'attack' 'break' 'crack' 'destro' 'fight' 'hit' 'kill' 'murder' 'smash' 'torture' 'wreck'
    * noun						-> Attack
;

Verb 'consul'
    * held 'about' special				-> Consult2
;

Verb 'unlock'
    * noun 'with' held					-> Unlock
;

Verb 'lock'
    * noun 'with' held					-> Lock
;

Verb 'flip' 'switch' 'toggle'
    * noun						-> SwitchOn
    * noun 'on'						-> SwitchOn
    * noun 'off'					-> SwitchOff
    * 'on' noun						-> SwitchOn
    * 'off' noun					-> SwitchOff
;

Verb 'rotate' 'screw' 'turn' 'twist' 'unscrew'
    * noun						-> Turn
    * noun 'on'						-> SwitchOn
    * noun 'off'					-> SwitchOff
;

Verb 'clear' 'move' 'press' 'push' 'shift'
    * noun						-> Push
    * noun noun						-> PushDir
    * noun 'to' noun					-> Transfer
;

Verb 'drag' 'pull'
    * noun						-> Pull
    * 'down' noun					-> PullDown
;

Verb 'dig' 'exhume'
    * 							-> Dig
    * special						-> Dig
;

Verb 'set'
    * noun						-> Set
;

Verb 'wave'
    * 							-> WaveHands
    * noun						-> Wave
;

Verb 'frisk' 'search'
    * noun						-> SearchSub
;

Verb 'places'
    * 							-> Places
;

Verb 'object'
    * 							-> Objects
;

Verb 'wash'
    * special 'with' held				-> Wash
;

Verb 'bother' 'curses' 'darn' 'drat'
    * 							-> Mild
    * special						-> Mild
;

Verb 'bugger' 'curse' 'damn' 'fuck' 'shit' 'sod'
    * 							-> Strong
    * special						-> Strong
;

Verb 'sorry'
    * 							-> Sorry
;

Verb 'no'
    * 							-> YesNo
;

Verb 'y//' 'yes'
    * 							-> YesNo
;

Verb 'noscript'
    * 							-> ScriptOff
;

Verb 'script'
    * 							-> ScriptOn
    * 'off'						-> ScriptOff
    * 'on'						-> ScriptOn
;

Verb 'save'
    * 							-> Save
;

Verb 'restart'
    * 							-> Restart
;

Verb 'restore'
    * 							-> Restore
;

Verb 'die' 'q//' 'quit'
    * 							-> Quit
;

Verb 'check' 'describe' 'examine' 'read' 'watch' 'x//'
    * noun						-> Examine
;

Verb 'exit' 'out'
    * 							-> Exit
;

Verb 'lie'
    * 							-> Lie
    * 'down'						-> LieDown
;

Verb 'enter' 'in'
    * noun						-> Enter
;

Verb 'close' 'cover' 'shut'
    * noun						-> Close
;

Verb 'open' 'uncovered' 'undo' 'unwrap'
    * noun						-> Open
    * noun 'with' held					-> Unlock
;

Verb 'brief' 'normal'
    * 							-> Brief
;

Verb 'long' 'verbose'
    * 							-> Verbose
;

Verb 'short' 'superb'
    * 							-> Superbrief
;

Verb 'l//' 'look'
    * 							-> Look
    * 'at' noun						-> Examine
    * 'inside' noun					-> SearchSub
    * 'in' noun						-> SearchSub
    * 'under' noun					-> LookUnder
    * 'up' special					-> Consult2
    * 'up' special 'in' held				-> Consult
    * 'through' noun					-> SearchSub
;

Verb 'full' 'fullsc'
    * 							-> FullScore
;

Verb 'score'
    * 							-> Score
;

Verb 'i//' 'inventory'
    * 							-> Inv
;

Verb 'go' 'leave' 'run' 'walk'
    * 							-> VagueGo
    * noun						-> Go
    * 'into' noun					-> Enter
    * 'through' noun					-> Enter
;

Verb 'exhibition' 'reveal' 'show'
    * 'off'						-> Sing
    * noun 'to' creature				-> Show
;

Verb 'feed' 'give' 'offer' 'pay'
    * creature multiheld				-> GiveR
    * multiheld 'to' creature				-> GiveR
    * 'over' multiheld 'to' creature			-> GiveR
;

Verb 'discard' 'drop' 'throw'
    * multiheld						-> Drop
    * multiexcept 'in' noun				-> Insert
    * multiexcept 'into' noun				-> Insert
    * multiexcept 'down' noun				-> Insert
    * held 'at' noun					-> ThrowAt
;

Verb 'transfer'
    * noun 'to' noun					-> Transfer
;

Verb 'empty'
    * noun						-> Empty
    * noun 'to' noun					-> EmptyT
    * noun 'into' noun					-> EmptyT
;

Verb 'insert'
    * multiexcept 'in' noun				-> Insert
    * multiexcept 'into' noun				-> Insert
;

Verb 'put'
    * multiexcept 'in' noun				-> Insert
    * multiexcept 'into' noun				-> Insert
    * multiexcept 'on' noun				-> Insert
    * 'on' held						-> Wear
    * 'down' multiheld					-> Drop
    * multiheld 'down'					-> Drop
;

Verb 'disrobe' 'doff'
    * held						-> Disrobe
;

Verb 'assume' 'don' 'wear'
    * held						-> Wear
;

Verb 'extrac' 'remove' 'shed'
    * held						-> Disrobe
    * multi						-> Take
    * multiinside 'from' noun				-> Remove
;

Verb 'stand'
    * 							-> Exit
    * 'up'						-> Exit
;

Verb 'get' 'lift' 'pick' 'take'
    * 'out'						-> Exit
    * 'up'						-> Exit
    * 'inventory'					-> Inv
    * multi						-> Take
    * multiinside 'from' noun				-> Remove
    * 'in' noun						-> Enter
    * 'off' held					-> Disrobe
;

! Object tree


Object compass "compass"	! 1 / 0x1
  has	concealed;

Object -> n_obj "north wall"	! 2 / 0x2
  with	name 'n//' 'north' 'wall',
	article "the",
	door_dir n_to,
  has	scenery wall_attr;

Object -> s_obj "south wall"	! 3 / 0x3
  with	name 's//' 'south' 'wall',
	article "the",
	door_dir s_to,
  has	scenery wall_attr;

Object -> e_obj "east wall"	! 4 / 0x4
  with	name 'e//' 'east' 'wall',
	article "the",
	door_dir e_to,
  has	scenery wall_attr;

Object -> w_obj "west wall"	! 5 / 0x5
  with	name 'w//' 'west' 'wall',
	article "the",
	door_dir w_to,
  has	scenery wall_attr;

Object -> ne_obj "northeast wall"	! 6 / 0x6
  with	name 'ne' 'northeast' 'wall',
	article "the",
	door_dir ne_to,
  has	scenery wall_attr;

Object -> nw_obj "northwest wall"	! 7 / 0x7
  with	name 'nw' 'northwest' 'wall',
	article "the",
	door_dir nw_to,
  has	scenery wall_attr;

Object -> se_obj "southeast wall"	! 8 / 0x8
  with	name 'se' 'southeast' 'wall',
	article "the",
	door_dir se_to,
  has	scenery wall_attr;

Object -> sw_obj "southwest wall"	! 9 / 0x9
  with	name 'sw' 'southwest' 'wall',
	article "the",
	door_dir sw_to,
  has	scenery wall_attr;

Object -> ceiling "ceiling"	! 10 / 0xa
  with	name 'u//' 'up' 'ceiling',
	article "the",
	door_dir u_to,
  has	scenery wall_attr;

Object -> floor "floor"	! 11 / 0xb
  with	name 'd//' 'down' 'floor',
	article "the",
	door_dir d_to,
  has	scenery wall_attr;

Object thedark "Darkness"	! 12 / 0xc
  with	description "It is pitch dark, and you can't see a thing.",
  has	;

Object Grahams_Lair "Graham's Lair"	! 13 / 0xd
  with	description "A home for the bewildered. NE to stream, NW to lighthouse, SE to cupboard, SW to Folly, N to onboat, S to projector room, E to Shaftmid, W to Infroom, U to cliffs, D to cave.",
	n_to On_board_the_Phlebas,
	s_to Souvenirs_Room,
	e_to Dark_Shaft,
	w_to Infinity_Symbol,
	ne_to Garden_Stream,
	se_to Inside_Cupboard,
	nw_to Lighthouse,
	sw_to Folly,
	u_to Cliffs,
	d_to Universe_Maintenance_Room,
  has	light;

Object Attic "Attic"	! 14 / 0xe
  with	name 'beams' 'wiring' 'floor' 'floorboard',
	description "The attics, full of low beams and awkward angles, begin here in a relatively tidy area which extends north, south and east. The wooden floorboards seem fairly sound, just as well considering how heavy all these teachests are. But the old wiring went years ago, and there's no electric light.",
	n_to Old_Winery,
	s_to Old_Furniture,
	e_to Servants_Room,
	d_to hinged_trapdoor,
  has	;

Object -> hinged_trapdoor "hinged trapdoor"	! 15 / 0xf
  with	name 'hinged' 'trap' 'door' 'trapdooor',
	initial "A hinged trapdoor in the floor stands open, and light streams in from below.",
	after TrapdoorAfter,
	door_dir d_to,
	door_to House,
	describe "There is a closed trapdoor in the middle of the floor.",
  has	light door open openable static;

Object -> teachests "teachests"	! 16 / 0x10
  with	name 'tea' 'chests' 'teacher',
	description "Open-topped. You could easily look inside, if so minded.",
	article "some",
  has	container open scenery pluralname;

Object -> -> Meldrews_History "History of the Meldrews (vol. II)"	! 17 / 0x11
  with	name 'book' 'history',
	description "It was to have been the Honourable Peter Meldrew's life's work, a two-volume edition giving the definitive family history. Unfortunately, although he claimed to have hunted for evidence to the ends of the earth, he never could find a detail he wanted for volume I, and it was never published. Somehow, this typifies your family, and consulting this worthy book about your ancestors makes you realise what an uncanny knack they had for never quite achieving anything.^^Unless, of course, you count having an awful lot of children. So many Meldrews are listed here that you'll have to look them up individually.",
	article "the",
	devil_hint "What a boring old book!  There's nobody worth looking up.",
  has	concealed;

Object -> antique_jewellery_box "antique jewellery box"	! 18 / 0x12
  with	name 'antique' 'jewellery' 'box',
	description "A graceful lady's box, bearing the initials A. M. and engraved with a drawing of what seems to be a rabbit's foot.",
	article "an",
	initial "In one corner is a jewellery box, which had previously been hidden by the open trapdoor.",
	with_key delicate_gold_key,
	angel_hint "Try investigating the world of the romantic novel, out on the balconies of life.",
  has	concealed container transparent openable lockable locked;

Object -> -> four_leafed_clover "four-leafed clover"	! 19 / 0x13
  with	name 'four' 'leafed' 'clover',
	description "The fabulously lucky plant has a long stalk.",
	rod_assoc rod_of_luck,
	angel_hint "Not much use as it is, is it?",
  has	hidden_rod;

Object -> yourself "yourself"	! 21 / 0x15
  with	name 'me' 'myself' 'self',
	article "the",
	devil_hint "Perfect for little pointy forks.",
	angel_hint "Please, please. This isn't that kind of afterlife.",
  has	concealed animate proper;

Object -> -> crumpled_piece_of_paper "crumpled piece of paper"	! 22 / 0x16
  with	name 'crumpled' 'paper',
	description "   Things to do:^   1. Find map^   2. Phone airport to check parking^   3. Health forms...^and so on. Let's face it, 1. is more enticing than the rest put together.",
	devil_hint "Immensely useful, that.",
  has	moved;

Object -> -> electric_torch "electric torch"	! 23 / 0x17
  with	name 'electric' 'torch' 'compartment',
	description "The torch has a battery compartment which can be reached by opening it up.",
	article "an",
	after TorchAfter,
	devil_hint "Pity you can't change the batteries.",
  has	light moved container transparent openable;

Object -> -> -> old_smudged_battery "old smudged battery"	! 24 / 0x18
  with	name 'old' 'smudge' 'battery',
	article "an",
	number 200,
  has	;

Object -> -> chocolate_biscuit "chocolate biscuit"	! 25 / 0x19
  with	name 'chocolate' 'biscuit',
	description "Oatmeal covered with plain chocolate, since you ask.",
	devil_hint "I bet you didn't know that chocolate biscuit manufacturers are damned in perpetuity?  I'm afraid the chapters about that in the Old Testaments were lost, though, and now no-one can remember why.",
  has	moved edible;

Object rod_of_luck "Rod of Luck"	! 20 / 0x14
  with	name 'rod' 'of' 'luck',
	article "the",
	rod_action RodOfLuckAction,
	angel_hint "Well, if there's such a thing as luck, maybe this would help.",
  has	rod_attr;

Object Servants_Room "Servant's Room"	! 26 / 0x1a
  with	description "Once upon a time, servants in great houses lived in awful little crevices and excuses for rooms like this one. They must have been in permanent danger of suffocation, for there are no windows and only a doorway to the west. A bed is still kept here, and the sight of it brings on drowsiness in all this warm stuffy air. All you want to do is curl up and sleep.",
	w_to Attic,
  has	;

Object -> servants_bed "servant's bed"	! 27 / 0x1b
  with	name 'servant' 'bed',
  has	open enterable scenery;

Object -> old_striped_scarf "old striped scarf"	! 28 / 0x1c
  with	name 'old' 'scarf',
	description "Made by Dunn and Co., naturally, with four stripes: royal blue, emerald, dark grey and scarlet.",
	article "an",
	initial "An old striped scarf is hung up behind the doorway.",
	devil_hint "The very height of fashion, if you ignore the colours and wear it regardless.",
  has	clothing;

Object House "House"	! 29 / 0x1d
  with	after HouseAfter,
  has	light;

Object Old_Furniture "Old Furniture"	! 30 / 0x1e
  with	name 'armchair' 'umbrella' 'table',
	description "Scruffy old furniture is piled up here: armchairs with springs coming out, umbrella stands, a badly scratched cupboard, a table with one leg missing... You try to remember why you keep all this rubbish, and fail. Anyway the attic continues to the southeast.",
	n_to Attic,
	se_to Over_the_East_Wing,
  has	;

Object -> furniture "furniture"	! 31 / 0x1f
  with	name 'furniture',
	description "Nothing there, but that cupboard looks interesting.",
  has	scenery;

Object -> scratched_cupboard "scratched cupboard"	! 32 / 0x20
  with	name 'scratch' 'cupboard',
  has	container transparent open openable scenery;

Object -> -> gift_wrapped_parcel "gift-wrapped parcel"	! 33 / 0x21
  with	name 'gift' 'parcel',
	before ParcelBefore,
	devil_hint "Shame the wrapping paper won't come off.",
  has	;

Object -> -> medicine_bottle "guaranteed-unbreakable medicine bottle with a child-proof lock"	! 37 / 0x25
  with	name 'medicine' 'bottle',
	before MedicineBefore,
	devil_hint "These bottles can even survive long drops, so perhaps you should try fire.",
  has	container openable locked;

Object -> -> -> red_tablet "red tablet"	! 38 / 0x26
  with	name 'red//p' 'pill' 'tablet',
	devil_hint "This drug is for fun, it isn't an antidote. And it tastes gorgeous...",
  has	edible scored;

Object box_of_chocolates "box of chocolates"	! 34 / 0x22
  with	name 'box' 'of' 'chocolate',
	devil_hint "Far too nice to give to anybody else. In fact...",
  has	edible;

Object wrapping_paper "wrapping paper with reindeer on"	! 35 / 0x23
  with	name 'wrapping' 'paper' 'reinde',
	article "some",
	devil_hint "The reindeer have enormous significance.",
  has	;

Object postcard "postcard of the Champs-Elysees"	! 36 / 0x24
  with	name 'postcard' 'card',
	description "It is addressed to the house, and postmarked 1963, but has no message. Odd, that.",
	after PostcardAfter,
	devil_hint "There's no message there to read.",
  has	;

Object Over_the_East_Wing "Over the East Wing"	! 39 / 0x27
  with	name 'steps',
	description "The air is dusty and warm, almost making you choke in this rather empty area. The attic turns from northwest to east, and there is also a tight doorway leading west. A short flight of wooden steps leads down and to the south.",
	s_to Disused_Observatory,
	e_to East_Annexe,
	w_to Dark_Room,
	nw_to Old_Furniture,
	d_to Disused_Observatory,
  has	;

Object Dark_Room "Dark Room"	! 40 / 0x28
  with	description "This is a roughly-furnished photographer's dark room, used by your grandfather years ago. There's nothing much here now, since you threw the chemicals out in case the children found them.",
	after DarkRoomAfter,
	e_to Over_the_East_Wing,
	cant_go "The only doorway is back east.",
  has	;

Object -> hanging_cord "hanging cord"	! 41 / 0x29
  with	name 'hanging' 'cord',
	description "It is attached to the ceiling.",
	initial "You bump your head on the cord hanging from the ceiling, for the umpteenth time.",
	before HangingCordBefore,
  has	static;

Object -> sepia_photograph "sepia photograph"	! 42 / 0x2a
  with	name 'sepia' 'photo' 'photograph' 'roger//p',
	description "The photograph is one of the very early ones which looks as if it was taken in the dark because the chemicals have gradually oxidised. The poor man in the frame (Mr Roger Meldrew, Esquire) looks as if he was propped up by a big clamp to hold him still for five minutes, and that's because he was.",
	article "the old",
	initial "Mounted on a plaque is an old sepia photograph of a man.",
  has	static;

Object -> flash "photographer's flash"	! 43 / 0x2b
  with	name 'photograph' 'flash' 'compartment',
	description "It has an openable compartment on the side to hold a battery and a timer mechanism.",
	initial "A rather more modern photographer's flash lies on a shelf to one side.",
	angel_hint "When you can get this working, perhaps you should take it somewhere prominent.",
  has	container transparent openable;

Object Disused_Observatory "Disused Observatory"	! 44 / 0x2c
  with	name 'mural' 'zodiac' 'signs',
	description "Once upon a time, this small circular room had a dome and a telescope, but it leaked dreadfully and so now there's a proper roof. A circular mural painted with the signs of the zodiac is interrupted by a short flight of stairs leading up to the north, a west doorway to a shadowy alcove and the continuation of the stairs down and to the south.",
	n_to Over_the_East_Wing,
	s_to Souvenirs_Room,
	w_to Library_Storage,
	u_to Over_the_East_Wing,
	d_to Souvenirs_Room,
  has	;

Object -> solid_glass_ball "solid glass ball"	! 45 / 0x2d
  with	name 'glass' 'ball',
	description "The ball is scratched and misted up.",
	initial "Mounted on the old telescope stand is what looks like a solid glass ball.",
	before GlassBallBefore,
  has	static;

Object Library_Storage "Library Storage"	! 46 / 0x2e
  with	description "Once upon a time, the house library was used as a gun-room, and all the unwanted books kept up here. Now this is just another awkward cranny.",
	e_to Disused_Observatory,
	cant_go "From here, you can only squeeze back east to the observatory.",
  has	;

Object -> romantic_novel "romantic novel"	! 47 / 0x2f
  with	name 'romance' 'romantic' 'novel' 'book',
	description "~Coronets for the Cotton Girl~, by Miss Marie Swelldon, published London, 1912. It's all about the happy-go-lucky daughter of a Yorkshire mill owner and her adventures marrying into the aristocracy.",
	devil_hint "Don't bother reading or thinking about it. Nothing to do with your family.",
  has	;

Object -> poetry_book "book of Twenties poetry"	! 48 / 0x30
  with	name 'poetry' 'book',
	before PoetryBefore,
	devil_hint "My my, a golden age for clear, simple poetry. At last, the dreary obscurity of Tennyson, Kipling, and [frothing at the mouth] Hardy gives way...",
  has	;

Object Souvenirs_Room "Souvenirs Room"	! 49 / 0x31
  with	name 'souvenir' 'holiday' 'snaps',
	description "This is where you ought to have left the wretched map, in the family lumber-room of souvenirs and holiday snaps. You checked it thoroughly earlier, and can't bear the thought of searching it all again. A slide projector is aimed at the whitewashed south wall, one of the outside walls of the house. The only way to go is back up to the observatory.",
	before SouvenirRoomBefore,
	after SouvenirRoomAfter,
	n_to Disused_Observatory,
	s_to south_wall,
	u_to Disused_Observatory,
  has	;

Object -> slide_projector "slide projector"	! 50 / 0x32
  with	name 'slide' 'projector' 'switch',
	description "It has an on/off switch on the side, and a slot for holding whatever is to be projected.",
	after ProjectorAfter,
  has	container open scenery switchable;

Object -> south_wall "south wall"	! 51 / 0x33
  with	door_dir s_to,
	door_to nothing,
  has	concealed door open scenery static;

Object East_Annexe "East Annexe"	! 52 / 0x34
  with	name 'gap' 'tiles' 'roof',
	description "This tight annexe at the eastern end of the house is piled up with old loft insulation rolls, left over from the last time the job was done (whenever that was). A gap between the tiles of the roof (which you really must mend before winter) lets a little natural light in, but the attics to the west and south are dark.",
	after EastAnnexeAfter,
	n_to cupboard_door,
	s_to Dead_End,
	w_to Over_the_East_Wing,
  has	light;

Object -> insulation_rolls "insulation rolls"	! 53 / 0x35
  with	name 'insulation' 'rolls' 'roll',
	article "some",
  has	scenery pluralname;

Object -> -> new_battery "new-looking battery"	! 54 / 0x36
  with	name 'new' 'battery',
	number 200,
	devil_hint "That is a difficult puzzle, yes.",
  has	;

Object -> cupboard_door "cupboard door"	! 55 / 0x37
  with	name 'cupboard' 'door',
	initial "In the north wall is an open cupboard door, large enough to step inside.",
	door_dir n_to,
	door_to Inside_Cupboard,
	describe "In the north wall is an intriguing closed cupboard door.",
	with_key small_brass_key,
  has	door openable static lockable;

Object Dead_End "Dead End"	! 56 / 0x38
  with	name 'soot' 'chimney' 'sweeping' 'gear',
	description "The winding attic comes to a dead end here, and particularly dirty it is too, what with soot everywhere from the broken old chimney-sweeping gear.",
	n_to East_Annexe,
	s_to secret_door,
  has	;

Object -> canvas_rucksack "canvas rucksack"	! 57 / 0x39
  with	name 'canvas' 'rucksack' 'sack',
	description "On second thoughts, now you look at more closely, it seems to be the rucksack you bought to go to Paris with five years ago.",
	initial "Great Scott!  That old canvas rucksack must be the very one your famous ancestor, the African explorer Ebenezer Meldrew, brought back from the Zambeze Expedition of 1882!",
	devil_hint "It might be handy, if only it could carry anything.",
  has	clothing container transparent open openable;

Object -> secret_door "secret door"	! 58 / 0x3a
  with	name 'secret' 'door',
	initial "A secret door stands open in the south wall!",
	door_dir s_to,
	door_to Alisons_Writing_Room,
	describe "The secret door is closed.",
  has	concealed door open openable static;

Object Inside_Cupboard "Inside Cupboard"	! 59 / 0x3b
  with	description "This is a surprisingly spacious cupboard, which you can't recall ever visiting before today. You really ought to use this convenient empty room for something...",
	after InsideCupboardAfter,
	s_to East_Annexe,
	w_to big_iron_fireplace,
	u_to cranked_skylight,
  has	;

Object -> painting_of_Mad_Isaac_Meldrewe "painting of Mad Isaac Meldrewe"	! 60 / 0x3c
  with	name 'painting' 'of' 'mad' 'isaac//p',
	description "It used to hang in the downstairs landing, and the red, deranged eyes annoyed everybody who passed. Then Aunt Jemima picked up the ridiculous idea that it was by Sir Joshua Reynolds and had it valued. Happily it wasn't and, to cut a long story long, it ended up here.",
	initial "A large painting of Mad Isaac Meldrewe, your eighteenth-century ancestor, is propped up against the west wall.",
	after IsaacPaintingAfter,
	devil_hint "Carry this with you everywhere you go.",
  has	;

Object -> big_iron_fireplace "big iron fireplace"	! 61 / 0x3d
  with	name 'iron' 'fireplace' 'chimney',
	initial "There is a big iron fireplace in the west wall.",
	door_dir w_to,
	door_to Chimney,
  has	concealed door container open static;

Object -> cranked_skylight "cranked skylight"	! 62 / 0x3e
  with	name 'crank' 'skylight' 'handle',
	description "It was painted out black during the first wave of Zeppelin air raids in World War One. This is completely irrelevant, but you did ask.",
	initial "The skylight above is open, and the sky does indeed light the room.",
	door_dir u_to,
	door_to Roof,
	describe "Above you is a blacked-out skylight with a crank handle.",
  has	door static;

Object -> gas_mask "gas mask"	! 63 / 0x3f
  with	name 'gas' 'mask' 'gasmask',
	after MaskAfter,
	devil_hint "The cork filters have gone. It's useless now.",
  has	clothing;

Object Roof "Roof"	! 64 / 0x40
  with	name 'roof' 'balcony',
	description "This is a recessed area of the roof, open to the skies but screened from below. There used to be a flagpole here, but not any more. An open skylight leads down, and a fairly safe catwalk leads northwest. However, the red-tiled roof is vertiginous and you have vertigo, which makes it especially annoying that there's an odd little balcony too far away to the south.",
	nw_to Battlements,
	d_to Inside_Cupboard,
	cant_go "William Wordsworth once described poetry as emotion recollected in tranquillity. If so, hospitals must be full of people turning out verses about what it was like to fall off the roof of a high building. Perhaps it might be better not to join them.",
  has	light;

Object Battlements "Battlements"	! 65 / 0x41
  with	name 'battle' 'crenel',
	description "The old crenellated battlements of the house. An Englishman's home is, of course, his castle, but Meldrew Hall never saw much fighting and these military-looking features were just a seventeenth-century fashion. They also weren't intended for standing on, and the only safe way to proceed is back southeast.^^It is peculiarly cold here.",
	se_to Roof,
	cant_go "The rooftop is far too dangerous in that direction.",
  has	light;

Object -> iron_key "gothic-looking iron key"	! 66 / 0x42
  with	name 'gothic' 'iron' 'key',
	before IronKeyBefore,
	devil_hint "Unfortunately, what you need this for is a very long way away.",
  has	scored;

Object -> Sir_Joshua_Meldrewe "Sir Joshua Meldrewe"	! 67 / 0x43
  with	name 'ghost' 'sir' 'joshua//p',
	description "He is dressed in a grey shadow of Georgian finery.",
	number 0,
  has	concealed animate proper;

Object Chimney "Chimney"	! 68 / 0x44
  with	description "The chimney is cramped, sooty, unpleasant and has no floor to speak of, so you are held up only by jamming your feet against the walls. To the east, through the fireplace, is the cupboard.",
	before ChimneyBefore,
	e_to Inside_Cupboard,
	d_to Priests_Hole,
	cant_go "Not a chance!",
  has	;

Object -> sooty_old_stick "sooty old stick"	! 69 / 0x45
  with	name 'sooty' 'stick',
	initial "Wedged loosely in beside you is a sooty old stick.",
	rod_assoc rod_of_fire,
	devil_hint "It's exactly what it seems.",
  has	hidden_rod;

Object rod_of_fire "Rod of Fire"	! 70 / 0x46
  with	name 'rod' 'of' 'fire',
	article "the",
	rod_action FireRodAction,
	angel_hint "This is rather dangerous, I'm afraid. Use only on vegetative matter.",
  has	rod_attr;

Object Priests_Hole "Priest's Hole"	! 71 / 0x47
  with	name 'cross' 'padded' 'chute' 'crawl',
	description "Good heavens, so the house has a priest hole after all!  It was always a family legend but nobody seemed to know quite where it was. Apart from a cross painted on one wall and a padded floor (to absorb the noise), this spartan cranny is featureless. Nevertheless there is a spooky air of the supernatural about... A narrow crawl leads up into the chimney.",
	before PriestsHoleBefore,
	u_to Chimney,
	d_to hatch,
  has	scored;

Object -> hatch "hatch"	! 72 / 0x48
  with	name 'hatch' 'door',
	description "Perhaps the attic key might unlock it?  It does look modern compared to everything else here.",
	initial "An open hatch-door in the floor reveals a chute leading down into darkness.",
	door_dir d_to,
	door_to Cellar_West,
	describe "Low down on one wall is little hatch door, which if it were open would be large enough to enter.",
	with_key small_brass_key,
  has	door openable static lockable locked;

Object -> ancient_prayer_book "ancient prayer book"	! 73 / 0x49
  with	name 'diary' 'ancient' 'prayer' 'book',
	description "Despite appearances, this is not a prayer book after all but is Mad Isaac's diary of supernatural investigations!  The script is cursive and cursory as he rambles on through all those theories about the Curse. There's so much of it that you'd better just look up particular years.",
	initial "The dust and grime on the floor almost obscures an ancient prayer book.",
	devil_hint "The really good research was in his earlier years.",
  has	;

Object Alisons_Writing_Room "Alison's Writing Room"	! 74 / 0x4a
  with	description "A pleasantly furnished, if now mildewed, box room. A rather small door leads back north into the attics. The room is provided with a comfortable bed, which looks very inviting.",
	n_to Dead_End,
	s_to windows,
	cant_go "There's just the secret north door, unless of course you count the windows.",
  has	light;

Object -> comfortable_bed "comfortable bed"	! 75 / 0x4b
  with	name 'comfortble' 'bed',
  has	light open enterable scenery;

Object -> windows "windows"	! 76 / 0x4c
  with	name 'window' 'glass',
	initial "Black-latticed windows open on a beautiful summer's day.",
	before WindowsBefore,
	door_dir s_to,
	door_to Tiny_Balcony,
	describe "Blue skies can be seen through south-facing windows, latticed with black lead and shut tight.",
  has	door static;

Object Tiny_Balcony "Tiny Balcony"	! 77 / 0x4d
  with	name 'roof' 'motorway' 'garden',
	description "A tiny balcony around Miss Alison's windows, offering fresh air, blue skies and a magnificent view over the gardens down to the droning motorway in the distance. The roof is too perilous to scale even if you had a good reason (which you haven't), so you had better go back north.",
	n_to Alisons_Writing_Room,
	cant_go "The rooftop is far too dangerous in that direction.",
  has	light;

Object -> window_sill "window sill"	! 78 / 0x4e
  with	name 'window' 'sill',
	initial "The balcony is only a foot or so beneath the window-sill, and only about four feet square.",
  has	static;

Object -> delicate_gold_key "delicate gold key"	! 79 / 0x4f
  with	name 'delicate' 'gold' 'key',
	devil_hint "Gold and lead are naturally related, so you want to find a lead box to open.",
  has	concealed scored;

Object Old_Winery "Old Winery"	! 80 / 0x50
  with	name 'banister' 'rail' 'crack' 'paraph',
	description "This small cavity at the north end of the attic once housed all manner of home-made wine paraphernalia, now lost and unlamented. Steps, provided with a good strong banister rail, lead down and to the west, and the banister rail continues along a passage east.",
	after WineryAfter,
	s_to Attic,
	e_to Storage_Room,
	w_to Conservatory,
	d_to Conservatory,
	number 0,
  has	;

Object -> demijohn "labelled glass demijohn"	! 81 / 0x51
  with	name 'demijohn' 'glass' 'bottle' 'label',
	description "Faded ink on the label reads: Elderberry '63.",
	before DemijohnBefore,
  has	container openable static;

Object -> -> nasty_battery "nasty-looking red battery"	! 82 / 0x52
  with	name 'nasty' 'red//p' 'battery',
	description "On the side is the word ~Achtung~.",
	devil_hint "It's provided for your torch, and not for anything else.",
  has	;

Object -> -> tourist_map "tourist map"	! 83 / 0x53
  with	name 'hambur' 'tourist' 'map',
	description "The good news is that it has excellent grid references, which are easy to look up. The bad news is that it is a map of central Hamburg.",
	devil_hint "Purely decorative.",
  has	;

Object Storage_Room "Storage Room"	! 84 / 0x54
  with	description "A disused storage room off the winery. In one wall is an opening onto an ominous dark shaft, and beside it is a big Victorian-steam-engine style wheel with a handle on.",
	before StorageRoomBefore,
	after StorageRoomBefore,
	w_to Old_Winery,
	cant_go "The only doorway is back west to the winery.",
  has	;

Object -> wheel2 "wheel"	! 85 / 0x55
  with	name 'wheel' 'handle' 'catch' 'safety',
	description "There is a concealed safety catch (poorly) hidden on the wheel.",
	before Wheel2Before,
  has	scenery switchable on;

Object -> dumbwaiter "dumbwaiter"	! 86 / 0x56
  with	name 'dumb' 'waiter' 'dumbwaiter',
	article "the old",
	initial "Inside the dark shaft is the old dumbwaiter.",
  has	container open enterable static;

Object -> -> pulley_ropes "pulley ropes"	! 88 / 0x58
  with	name 'pulley' 'rope' 'ropes',
	article "the",
	initial "The dumbwaiter hangs on strong pulley ropes which stretch up and down from here.",
	before PulleyBefore,
  has	static;

Object -> -> chicken_wishbone "chicken wishbone"	! 89 / 0x59
  with	name 'wish' 'bone' 'wishbone' 'chicken',
	description "The half which didn't get the wish, actually.",
	devil_hint "It isn't even mentioned in any of the books I've read.",
  has	;

Object -> dark_shaft_obj "dark shaft"	! 87 / 0x57
  with	name 'shaft' 'dark',
	description "Uninviting.",
  has	container transparent open scenery;

Object Dark_Shaft "Dark Shaft"	! 90 / 0x5a
  with	description "Halfway up, or else halfway down, and a dreary place it is too: nothing but a dark corridor leading north.",
	before DarkShaftBefore,
	after DarkShaftAfter,
	n_to Dark_Passage,
	d_to Cellars,
  has	;

Object Dark_Passage "Dark Passage"	! 91 / 0x5b
  with	name 'coal' 'dust',
	description "A passage which slants very slightly down to the south, which is full of coal dust, to which you are unfortunately allergic. Not somewhere to linger.",
	before PassageBefore,
	n_to metal_door,
	s_to Dark_Shaft,
	number 2,
  has	;

Object -> metal_door "metal door"	! 92 / 0x5c
  with	name 'metal' 'door',
	initial "At the north end is a metal door, standing open.",
	after MetalDoorAfter,
	door_dir n_to,
	door_to Garden_Stream,
	describe "At the north end is a closed metal door.",
	with_key small_brass_key,
  has	door openable static lockable locked;

Object Cellars "Cellars"	! 93 / 0x5d
  with	description "Cobwebbed old cellars. There is nothing to see except an opening in one wall onto a dark shaft, and a big Victorian-steam-engine style wheel beside it with a handle on. The cellar continues west and south.",
	before CellarsBefore,
	s_to Cellars_South,
	w_to Cellar_West,
  has	;

Object -> wheel "wheel"	! 94 / 0x5e
  with	name 'wheel' 'handle' 'safety' 'catch',
	description "There is a concealed safety catch on the wheel axle.",
	before WheelBefore,
  has	scenery switchable on;

Object -> dark_shaft "dark shaft"	! 95 / 0x5f
  with	name 'shaft' 'dark',
	description "Uninviting.",
  has	container transparent open enterable scenery;

Object -> old_timber_prop "old timber prop"	! 96 / 0x60
  with	name 'prop' 'timber',
	article "an",
	rod_assoc rod_of_returning,
	devil_hint "A plain old piece of timber.",
  has	hidden_rod;

Object -> robot_mouse "robot mouse"	! 98 / 0x62
  with	name 'robot' 'mouse',
	description "Remember the late 1970s, when a craze for home-made robots swept the home computing world?  No, perhaps not, but here is a left-over from it anyway. The mouse is quite large (almost a foot wide and tall), and has a big smile painted on its metal chassis.",
	initial "In one corner is a dust-covered robot mouse.",
	devil_hint "It can't even follow orders.",
  has	talkable;

Object rod_of_returning "Rod of Returning"	! 97 / 0x61
  with	name 'rod' 'of' 'returning',
	article "the",
	rod_action transport_player,
	devil_hint "Well, that's not very useful, is it?  I'd go on strike if I were you.",
  has	rod_attr;

Object Cellars_South "Cellars South"	! 99 / 0x63
  with	description "The bricking-up of this cellar seems incomplete, because there is a hole about ten or eleven inches across in the west wall. You peer at this with interest but nothing is within reach inside, and it is far too small for you to wriggle through. The cellars go back north, and so, it would appear, do you.",
	n_to Cellars,
  has	;

Object -> hole_in_the_wall "hole in the wall"	! 100 / 0x64
  with	name 'hole' 'mouseh',
  has	scenery talkable;

Object -> -> small_brass_key "small brass key"	! 101 / 0x65
  with	name 'small' 'brass' 'attic' 'key',
	initial "Lying where the mouse dropped it is a small brass key.",
	devil_hint "It isn't the attic key, I fear.",
  has	;

Object Cellar_West "Cellar West"	! 102 / 0x66
  with	description "The west end of a disused and shadowy old cellar. It used to be a wine cellar, but was bricked up when you were a child - you never did find out why. Perhaps the golden, jewelled staircase leading down into smoky mists to the south might be something to do with it.",
	s_to Hellish_Place,
	e_to Cellars,
	nw_to Gothic_door,
	d_to Hellish_Place,
  has	;

Object -> Gothic_door "Gothic door"	! 103 / 0x67
  with	name 'gothic' 'iron' 'door',
	initial "In the northwest wall the iron door stands open.",
	door_dir nw_to,
	door_to Infinity_Symbol,
	describe "In the northwest wall is a heavy, imposing Gothic iron door.",
	with_key iron_key,
  has	door openable static lockable locked;

Object Infinity_Symbol "Infinity Symbol"	! 104 / 0x68
  with	name 'marble' 'disc' 'webs' 'icicle',
	description "An eerie, dark cave carved from crystal icicles of rock and strewn with great spiders' webs hung from the ragged stone, inhabited only by dead white insects. A narrow crevice opens out to an iron doorway and the warmth of the house.^^The rough stone floor levels out to a perfectly round, smooth white marble disc about five yards across, inscribed with a black lemniscus (or infinity) symbol.^^You shiver with foreboding, but inexplicably feel that the map you're looking for must be somewhere near here.",
	before InfinityBefore,
	after InfinityAfter,
	se_to Cellar_West,
  has	light scored;

Object -> lemniscus "lemniscus"	! 105 / 0x69
  with	name 'infinity' 'lemnis' 'symbol',
  has	scenery;

Object -> circular_arc "circular arc"	! 106 / 0x6a
  with	name 'wells' 'circular' 'arc' 'socket',
	number 0,
  has	scenery;

Object Conservatory "Aunt Jemima's Lair"	! 107 / 0x6b
  with	description "This used to be called the Conservatory, before Aunt Jemima took it over to potter about with plants, painting and indeed (on occasion) pottery. She has filled the place with objets trouves and bric-a-brac, and hung up a home-made calendar of watercolours. Even the old airing cupboard to the south is cluttered.^^An open doorway leads back southwest onto the upstairs landing, and you can hear the chaotic noise of suitcases being manhandled about - good thing nobody's seen you. A narrow staircase leads up and to the east into the attic.^^Jemima herself seems to be in the potting room to the west.",
	s_to Airing_Cupboard,
	e_to Old_Winery,
	w_to Potting_Room,
	sw_to House,
	u_to Old_Winery,
  has	light;

Object -> calendar "calendar"	! 108 / 0x6c
  with	name 'calendar' 'page' 'pages',
	before CalendarBefore,
	number 5,
  has	scenery;

Object Airing_Cupboard "Airing Cupboard"	! 109 / 0x6d
  with	name 'coffee' 'mugs' 'sculpture' 'racks',
	description "A space about six feet square. The old drying racks now contain odd ceramic sculptures almost but not quite unrecognisable as coffee mugs. One corner is filled with an enormous pile of tie-dyed sheets, from Aunt Jemima's infamous Sixties Revival period of last October.",
	n_to Conservatory,
	cant_go "The only way to go from here is back north.",
  has	light;

Object -> pile_of_sheets "pile of sheets"	! 110 / 0x6e
  with	name 'pile' 'of' 'sheets',
  has	scenery pluralname;

Object -> antiquated_wireless "antiquated wireless"	! 111 / 0x6f
  with	name 'switch' 'cabinet' 'radio' 'wireless',
	description "It rolls on casters, and has a bakelite on/off switch.",
	article "an",
	initial "To one side is a heavy cabinet on casters containing an antiquated wireless, the kind with glowing valves inside. On the top is a bakelite on-off switch.",
	after RadioAfter,
	describe "To one side is a heavy cabinet on casters containing an antiquated wireless, the kind with valves inside. On the top is a bakelite on-off switch.",
	number 0,
  has	concealed static switchable;

Object Potting_Room "Potting Room"	! 112 / 0x70
  with	name 'plants' 'flower' 'seeds' 'trowel',
	description "This light room is full of pot plants, flowers, seeds, ornamental trowels and other miscellaneous garden implements.",
	after PottingRoomAfter,
	e_to Conservatory,
	cant_go "The only exit is back east to the conservatory.",
  has	light;

Object -> old_gardeners__gloves "old gardeners' gloves"	! 113 / 0x71
  with	name 'garden' 'gloves',
	article "some",
	initial "A pair of yellow rubber gloves hangs from a hook on one wall.",
	before GlovesBefore,
	devil_hint "Good for nothing. Why would you want gloves on?",
  has	clothing scored;

Object -> Jemima "Jemima"	! 114 / 0x72
  with	name 'aunt' 'jemima//p',
	description "She's been fiddling about with those cut flowers all afternoon. And she's a bit upset at being left alone in the house while you're off on holiday, so best not to get on her bad side. You really ought to make it up to her somehow.",
	article "Aunt",
	initial "Aunt Jemima, who has for years collected varieties of daisy, is engaged in her regular annual pastime of deciding which species make the best chains.",
	number 0,
  has	animate proper;

Object daisy_chain "daisy chain"	! 115 / 0x73
  with	name 'daisy' 'chain' 'daisychain',
	before daiy_chain_after,
	number 11,
	devil_hint "Dangerous to wear. But at least any sort of daisies will do.",
  has	clothing;

Object Premonition "Premonition"	! 116 / 0x74
  with	description "It is a frosty, clear night, but there is a scent of camp-fires burning in the distance. You are passing through the landscape as if a ghost, and all seems faintly unreal. To the east is one side of an animal-hide tent, but there is no way in from here. To southwest, some soldiers sit around the embers of a fire. There is a terrible sense of something about to happen.",
	e_to The_Generals_Tent,
	sw_to Camp_Fire,
  has	light;

Object The_Generals_Tent "The General's Tent"	! 117 / 0x75
  with	description "This is the tent of a thin, reedy man who wears no uniform but has an obvious and commanding presence. He has an aquiline, patrician nose and, at five feet four, is taller than anyone else present. The others are advisers, junior officers, scheming politicians and their like. A strange, more solid figure stands by a trestle table at the north end of the tent.",
	n_to Beside_Table,
	w_to Premonition,
  has	light;

Object Beside_Table "Beside Table"	! 118 / 0x76
  with	description "Beside the table is a more substantial adviser, as if she too walks in this strange spirit plane. She is wearing frightening druidical robes, of strange pelts and furs, with nasty-looking charms around her neck. Every so often, she seems to catch sight of you out of the corner of her eye, but then look round and see nothing. The military men do not believe in her power, and yet... they treat her with respect.",
	s_to The_Generals_Tent,
  has	light;

Object -> heavy_iron_mascot "heavy iron mascot"	! 119 / 0x77
  with	name 'heavy' 'iron' 'mascot',
	description "The mascot is in the shape of an ankh, with a lemniscus (or infinity) symbol moulded onto it.",
	initial "On the table is a heavy iron mascot of some kind.",
	number 0,
	devil_hint "An absolute essential.",
  has	;

Object Camp_Fire "Camp Fire"	! 120 / 0x78
  with	description "You can almost smell fear here. A motley platoon of soldiers are sitting about the embers of a fire. None are talking or sleeping, and the false good humour of the evening has died away. At first light, you realise, there will be a battle. It isn't a risk you'd like to run in their place. And there is a strange light already in the east... not yet a dawn, for the soldiers seem unaware of it.",
	e_to Near_Dolmen,
	ne_to Premonition,
  has	light;

Object Near_Dolmen "Near Dolmen"	! 121 / 0x79
  with	description "A standing stone, perhaps a glacial erratic, stands here and on top of it is a shining blue stone, whose brightness almost blinds you. You feel irresistably drawn to it, and your hand reaches out...",
	after NearDolemnAfter,
  has	light;

Object Garden_Stream "Garden Stream"	! 122 / 0x7a
  with	name 'reeds',
	description "In the lush, verdant (which is to say, under-cared for) gardens of Meldrew House, where a stream gurgles pleasantly as it meanders through reeds. The house rises up high above you to the south and you do not dare go east for fear of being recaptured by the rest of the family, so you'll have to go northwest, deeper into the gardens.",
	s_to coal_bunker,
	nw_to Family_Tree,
	cant_go "Better not go that way... you might get caught.",
  has	light scored;

Object -> coal_bunker "coal bunker"	! 123 / 0x7b
  with	name 'coal' 'bunker' 'loading' 'door',
	initial "On the house wall is a coal bunker, whose door stands open.",
	after CoalBunkerAfter,
	door_dir s_to,
	door_to Dark_Passage,
	describe "On the house wall is a coal bunker, whose loading door is shut.",
  has	door openable static locked;

Object Family_Tree "Family Tree"	! 124 / 0x7c
  with	name 'sign' 'signpost' 'post',
	description "You stand in the shade of a great plane tree, seedlings for which were brought back from Spain by an ancestor of yours in 1806. To the southeast is a stream, to the west is a small clearing and to the north a single break in the green privet hedge marks the entrance to the famously difficult Meldrew House Maze. A signpost reading ~To the Mosaic~ points east.",
	before FamilyTreeBefore,
	n_to Maze,
	e_to Mosaic,
	w_to Clearing,
	se_to Garden_Stream,
	u_to Up_the_Plane_Tree,
  has	light;

Object -> plane_tree "plane tree"	! 125 / 0x7d
  with	name 'plane' 'tree' 'family',
  has	scenery;

Object Mosaic "Mosaic"	! 126 / 0x7e
  with	name 'perspephone' 'scenes' 'quadra',
	description "This sunken corner of the garden has been excavated and then covered over with tough perspex to protect it from visitor's shoes. It consists of a time-worn Roman mosaic, divided into four quadrants, each showing scenes of idealised Roman life. There was probably a villa on this site, but your family has never been keen on archaeologists.",
	w_to Family_Tree,
	u_to Family_Tree,
	cant_go "From here you can only climb back up to the plane tree.",
  has	;

Object -> mosaic_object "mosaic"	! 127 / 0x7f
  with	name 'mosaic',
	description "Made of terra-cotta and ceramic fragments, it has held together surprisingly well.",
  has	scenery;

Object Clearing "Clearing"	! 128 / 0x80
  with	description "A clearing at the edge of the garden, surrounded by walls and the privet hedges of the maze. To the east is the plane tree, to the west an opening in the wall makes a garage entrance and to the south is a small vegetable garden.",
	s_to Vegetable_Garden,
	e_to Family_Tree,
	w_to Garage,
  has	light;

Object Vegetable_Garden "Vegetable Garden"	! 129 / 0x81
  with	description "A recently-turned vegetable garden, using up a shady corner of the garden. The patch testifies more to good intentions than horticulture.",
	n_to Clearing,
	u_to runner_bean_plant,
	cant_go "From this corner, you can only go back to the clearing.",
  has	light;

Object -> runner_bean_plant "runner-bean plant"	! 130 / 0x82
  with	name 'runner' 'bean' 'plant',
	initial "A giant runner-bean plant leads up vertiginously into the sky from here.",
	door_to Up_the_Beanstalk,
	describe "Only a runner-bean plant graces the vegetable garden.",
  has	door;

Object Garage "Garage"	! 131 / 0x83
  with	description "A modest brick garage, built into the garden walls. A big open doorway leads east onto the clearing.",
	e_to Clearing,
  has	;

Object -> garden_roller "garden roller"	! 132 / 0x84
  with	name 'garden' 'roller' 'switch',
	description "A motorised garden roller of the kind you sit inside, among whose simple controls is a big on/off switch.",
	initial "The garden roller sits here, its engine still running.",
	describe "A big motorised garden roller is parked here.",
  has	enterable static switchable;

Object -> weed_killer "weed killer bottle"	! 133 / 0x85
  with	name 'weed' 'killer' 'bottle',
	description "If squeezed, it squirts weed killer over the ground. There are many warning labels about getting it on one's hands.",
	initial "In the shadows is a weed killer bottle.",
	angel_hint "The funny thing is, they didn't have weedkillers in the early nineteenth century, and yet they still planned some marvellous gardens.",
  has	;

Object Up_the_Plane_Tree "Up the Plane Tree"	! 134 / 0x86
  with	name 'jemima//p' 'conservatory' 'window',
	description "A magnificent view of the gardens would be yours, were it not for the branches and leaves which surround you. You can make out Aunt Jemima up at the conservatory window, but hide from her view. Down below, the privet-hedge layout of the maze can be seen through the lower branches.",
	d_to Family_Tree,
	cant_go "No, don't go out on a limb.",
  has	light;

Object -> maze_layout "maze layout"	! 135 / 0x87
  with	name 'maze' 'layout',
	before MazeLayoutBefore,
  has	scenery;

Object Maze "Maze"	! 136 / 0x88
  with	description "A maze of green privet passages, all alike.",
	before MazeBefore,
	after MazeAfter,
	s_to Family_Tree,
	w_to Viewpoint_Ledge,
	cant_go "The privet hedges are in the way.",
  has	light scored;

Object Patio_in_Maze "Patio in Maze"	! 137 / 0x89
  with	name 'patio' 'flagstone',
	description "This is an old stone patio in the heart of the garden maze. A missing flagstone offers an intriguing dark prospect beneath.",
	before PatioBefore,
	after MazeAfter,
	d_to Crypt,
	cant_go "The privet hedges are in the way.",
  has	light scored;

Object Crypt "Crypt"	! 138 / 0x8a
  with	description "A dismal crypt, disused, full of leaves and rainswept. Light streams in from the square hole in the roof. There are no bones or urns on show.",
	n_to bronze_mural,
	u_to Patio_in_Maze,
	d_to bronze_mural,
  has	light;

Object -> bronze_mural "bronze mural"	! 139 / 0x8b
  with	name 'bronze' 'mural',
	description "The mural depicts an old bearded wise man following a star in the western sky. He has his right arm around an attractive young woman and holds a bundle of wands with his left hand. Around the border are astrological symbols of all kinds, from Tarot suits to zodiacal constellations.",
	initial "The mural stands slightly to one side, revealing a passage leading downward.",
	door_dir d_to,
	door_to Catacomb_Passage,
	describe "The north wall forms a giant bronze mural, which has stood the test of time.",
  has	door static;

Object Catacomb_Passage "Catacomb Passage"	! 140 / 0x8c
  with	name 'bones',
	description "An eerie passage, running down from an opening at the south to murky depths in the north. The walls are jagged, uneven and decorated with bones.",
	n_to Universe_Maintenance_Room,
	s_to Crypt,
	u_to Crypt,
	d_to Universe_Maintenance_Room,
  has	;

Object Universe_Maintenance_Room "Universe Maintenance Room"	! 141 / 0x8d
  with	name 'gauges' 'machine',
	description "You really should try to be more awestruck, for this is Merlin's cave, the hub of Creation. Every visitor perceives this place differently, according to his or her own myths and beliefs. Your particular creed being science, it is an unimpressive collection of gauges, dials and machines. A single passage leads up and out to the south.",
	s_to Catacomb_Passage,
	u_to Catacomb_Passage,
  has	scored;

Object -> large_dial "large dial"	! 142 / 0x8e
  with	name 'large' 'dial',
	description "Above the dial is a lower-case letter h with a slashed line through it. It is currently turned to 1.055 or thereabouts. There is something worryingly dangerous about its matter-of-factness.",
	initial "Particularly prominent are a large dial, like the volume control on an expensive hi-fi amplifier, and a big electrician's switch. Both are labelled in small print.",
	before DialBefore,
  has	static;

Object -> big_electricians_switch "big electrician's switch"	! 143 / 0x8f
  with	name 'big' 'electric' 'switch',
	description "The lower, on, position is labelled ~Determinism~. The upper, off, position is labelled ~Chance~.",
	after ChanceSwitchAfter,
  has	scenery static switchable on;

Object Viewpoint_Ledge "Viewpoint Ledge"	! 144 / 0x90
  with	name 'motorway' 'coache',
	description "This flagstoned rampart on the hillside looks across the valley, down (unfortunately) to the motorway below. Coaches pass by, reminding you of the rapidly approaching time when visitors will have to be let in again for the summer. The only safe way to go is back east into the maze. To one side is a plaque.",
	before LedgeBefore,
	e_to Maze,
	cant_go "The hillside is too steep.",
  has	light scored;

Object -> plaque "plaque"	! 145 / 0x91
  with	name 'plaque',
	description "~This viewpoint, one of the finest in the county, was laid down by Capability Meldrew, a well-known landscape gardener of his day. It was intended as one of the rewards of the garden maze, and was constructed c. 1808 after an earlier folly on the site collapsed.~",
  has	scenery;

Object -> miniature "miniature"	! 146 / 0x92
  with	name 'miniature' 'plastic' 'etching',
	description "No larger than a playing card, it depicts the Folly which used to stand on the hillside outcrop.",
	initial "A miniature plastic etching rests on the plaque.",
	door_to Folly,
	devil_hint "What's the point of a drawing so small it might almost be a playing card?",
  has	;

Object Folly "Folly"	! 147 / 0x93
  with	name 'wain' 'hay' 'tower' 'valley',
	description "This is a rampart on the hillside, a natural ledge leading east. Down below in the valley, rough cottages surround a church. Labourers toil in the fields, and a hay wain is being pulled across the river far below.^^Towering over you is a monstrously awful piece of architecture, a Folly. The freestanding tower has no appreciable purpose and no apparent entrance. The latter is just as well since it looks extremely unsafe.",
	after FollyAfter,
	e_to Maze_Foundations,
	cant_go "The hillside is too steep.",
  has	light scored;

Object -> bean_pole "bean pole"	! 148 / 0x94
  with	name 'bean' 'pole',
	initial "A bean pole, of the kind used to grow climbing plants, rests against the side of the tower.",
	after BeanPoleAfter,
	number 0,
	rod_assoc rod_of_stalking,
	devil_hint "Whatever you do, it'll always be a bean pole.",
  has	hidden_rod;

Object rod_of_stalking "Rod of Stalking"	! 149 / 0x95
  with	name 'rod' 'of' 'stalking',
	article "the",
	rod_action stalking_rod_action,
	devil_hint "It has no horticultural application.",
  has	rod_attr;

Object Up_the_Beanstalk "Up the Beanstalk"	! 150 / 0x96
  with	description "At the top of the beanstalk, in amongst the clouds. There is no safe way to go from here except back down, not surprisingly. A dangerous way might be to step out onto the clouds to the north, but even if this is a fairy-tale it would be taking a lot on trust.",
	n_to Heavenly_Place,
	d_to Vegetable_Garden,
	cant_go "The clouds are too tenuous that way.",
  has	light;

Object Maze_Foundations "Maze Foundations"	! 151 / 0x97
  with	description "A square grid of plots of grass and seedbeds, all alike.",
	before MazeFoundationsBefore,
	after MazeFoundationsAfter,
	s_to Tree_Planting,
	w_to Folly,
  has	light;

Object Tree_Planting "Tree Planting"	! 152 / 0x98
  with	description "Capability Meldrew and his gang of workmen are delicately planting a sapling plane tree here. Your disturbance annoys them immensely and you are immediately arrested for vagrancy and theft. After a few months in prison, you are hauled up before the County Assizes and sentenced...",
	after TreePlantingAfter,
  has	;

Object Museum_of_Arcana "Museum of Arcana"	! 153 / 0x99
  with	name 'shadow',
	description "A dark hall, deserted after nightfall. Outside it is a stormy October night, and rain beats against the windowpanes. Shadows swoop and dive in the air like bats.",
	cant_go "There's no apparent way out of here.",
  has	scored;

Object -> Tarot_box "Tarot box"	! 154 / 0x9a
  with	name 'box' 'of' 'tarot',
	devil_hint "There's nothing worthwhile in it.",
  has	container transparent openable;

Object -> -> Castle_card "Castle"	! 155 / 0x9b
  with	name 'castle' 'card',
	description "A stone castle on a hill.",
	article "the",
	door_to Ruined_Castle_Cafe,
	devil_hint "It leads nowhere.",
  has	card;

Object -> -> Star_card "Star"	! 156 / 0x9c
  with	name 'star' 'card',
	description "A single bright light in the darkness.",
	article "the",
	door_to Lighthouse,
	devil_hint "Ugh, what a nasty bright light. Good thing you'll never go there.",
  has	card;

Object -> -> Eight_of_Wands_card "Eight of Wands"	! 157 / 0x9d
  with	name 'eight' 'of' 'wands' 'card',
	article "the",
	rod_assoc rod_of_infinity,
	devil_hint "There's less to this card than meets the eye.",
  has	hidden_rod card;

Object -> -> Maiden_card "Maiden"	! 159 / 0x9f
  with	name 'maiden' 'card',
	description "Andromeda chained to a rock on the sea-shore.",
	article "the",
	door_to Sea_Shore,
	devil_hint "What an ugly girl!  Bet she's good for a laugh though.",
  has	card;

Object rod_of_infinity "Rod of Infinity"	! 158 / 0x9e
  with	name 'rod' 'of' 'infinity' 'card',
	article "the",
	rod_action RodOfInfinityAction,
	angel_hint "Well, where might you have seen infinity before?",
  has	rod_attr;

Object Ace_of_Cups_card "Ace of Cups"	! 160 / 0xa0
  with	name 'ace' 'of' 'cups' 'card',
	description "It shows a great many crystal-glass cups and glasses.",
	article "the",
	door_to Cups_and_Glasses,
	devil_hint "It leads nowhere.",
  has	card;

Object Coven_Cell "Coven Cell"	! 161 / 0xa1
  with	description "An old administrative office of the museum, emptied and made into a prison cell: amateur but effective.",
	before CellBefore,
	number 0,
	cant_go "There's definitely no way out of here.",
  has	;

Object -> goat "anxious-looking goat"	! 162 / 0xa2
  with	name 'anxious' 'goat',
	article "an",
  has	static;

Object -> crook "shepherd's crook"	! 163 / 0xa3
  with	name 'shepherd' 'crook',
	rod_assoc rod_of_husbandry,
	devil_hint "Just a crook. And what's wrong with crooks, that's what I say.",
  has	hidden_rod;

Object -> cell_door "cell door"	! 165 / 0xa5
  with	name 'cell' 'door',
	initial "The door to the south stands open.",
	door_dir s_to,
	door_to Museum_of_Arcana,
	describe "As you might expect, the cell door is closed.",
  has	door openable static locked;

Object rod_of_husbandry "Rod of Husbandry"	! 164 / 0xa4
  with	name 'rod' 'of' 'husbandry',
	article "the",
	rod_action RodOfHusbandryAction,
	angel_hint "Perhaps you should look up ~husbandry~ in a dictionary.",
  has	rod_attr;

Object Unreal_City "Unreal City"	! 166 / 0xa6
  with	description "This is a city side street, but as if seen through the grey of despair. People stream by, some of whom you almost recognise, as if dead. The street runs east-west, and to the north is a doorway into a grubby tenement building.",
	n_to Shadowy_Hallway,
	e_to Near_Ring_Road,
	w_to Down_by_River,
  has	light scored;

Object Shadowy_Hallway "Shadowy Hallway"	! 167 / 0xa7
  with	description "A filthy wooden staircase leads up from here, off the street to the south. Peeling-away posters have been stuck up on top of each other on the walls, in such a way that you can only read the most recent.",
	s_to Unreal_City,
	u_to Consulting_Room,
  has	light;

Object -> poster "poster"	! 168 / 0xa8
  with	name 'poster',
	description "~Bateaux Phlebas - toujours le dernier mot~. You briefly wish you had a dog called Toto, so as to be able to say ~Toto, I've got a feeling we're not in England any more.~",
	before PosterBefore,
	devil_hint "What a very useful piece of paper. Pity there's writing on it.",
  has	scenery;

Object Consulting_Room "Consulting Room"	! 169 / 0xa9
  with	name 'sevenb' 'candel' 'sticks' 'table',
	description "The stairs end at a shabby room, with screened windows, lit by incense sticks and sevenbranched candelabra. A doorway with a hanging bead curtain leads west. In the centre of the room is a table, on which is an electric bell push and a wicked Tarot pack.",
	before ConsultingRoomBefore,
	d_to Shadowy_Hallway,
  has	light;

Object -> Tarot_pack "Tarot pack"	! 170 / 0xaa
  with	name 'wicked' 'tarot' 'pack',
  has	scenery;

Object -> curtain "curtain"	! 171 / 0xab
  with	name 'curtain' 'bead',
  has	scenery;

Object -> bell_push "bell push"	! 172 / 0xac
  with	name 'bell' 'push',
  has	scenery;

Object Madame_Sosostris "Madame Sosostris, famous clairvoyante"	! 173 / 0xad
  with	name 'sosost' 'madame' 'clairvoyant',
	description "She has a bad cold, but nevertheless is known to be the wisest woman in Europe.",
  has	concealed animate proper;

Object Death_card "Grim Reaper"	! 174 / 0xae
  with	name 'death' 'grim' 'reaper' 'card',
	description "Hood, scythe, skeleton, implacable grin: yes, it's the Reaper all right.",
	article "the",
	door_to Ruined_Castle_Cafe,
	devil_hint "It's vital you slide right along with this one.",
  has	card;

Object Fool_card "Fool"	! 175 / 0xaf
  with	name 'fool' 'card',
	description "The Fool is a man looking directly ahead as he steps off the edge of a cliff.",
	article "the",
	door_to Ruined_Castle_Cafe,
	devil_hint "Don't worry, he won't slide down the cliff.",
  has	card;

Object Drowned_Sailor_card "Drowned Sailor"	! 176 / 0xb0
  with	name 'drowne' 'sailor' 'card',
	description "Those are pearls that were his eyes...",
	article "the",
	door_to Ruined_Castle_Cafe,
	devil_hint "He's one of my colleagues now, of course.",
  has	card;

Object oak_quarterstaff "oak quarterstaff"	! 177 / 0xb1
  with	name 'oak' 'staff' 'quarter',
	rod_assoc rod_of_bronze,
	devil_hint "Shoddy workmanship, but never mind, it's only a staff and who needs those any more?",
  has	hidden_rod;

Object rod_of_bronze "Rod of Bronze"	! 178 / 0xb2
  with	name 'rod' 'of' 'bronze',
	article "the",
	rod_action RodOfBronzeAction,
	angel_hint "Bronze is the key here. Have you seen any other bronze anywhere?",
  has	rod_attr;

Object Down_by_River "Down by River"	! 179 / 0xb3
  with	name 'rats' 'mounds' 'rubbish',
	description "Down at the end of the street, the brown urban waters carry by unpleasant rubbish, and rats scuttle up and over the mounds washed up around you.",
	e_to Unreal_City,
	w_to tourist_boat,
  has	light;

Object -> silk_handkerchief "silk handkerchief"	! 180 / 0xb4
  with	name 'silk' 'handkerchief' 'hanky' 'hankie',
	description "Monogrammed J. A. P., but that's no great matter.",
	initial "On one especially repellent mound is, of all things, a fine silk handkerchief.",
	devil_hint "People had no style in those days, before they invented paper tissues. I mean this tatty cloth wouldn't attract anyone, would it?",
  has	;

Object -> tourist_boat "tourist boat"	! 181 / 0xb5
  with	name 'boat' 'bateau',
	description "The side reads: PHLEBAS.",
	initial "Moored close to the bank is a glass-roofed tourist boat.",
	door_dir w_to,
	door_to On_board_the_Phlebas,
	describe "On the far bank is a glass-roofed tourist boat. As much as you like to explore, you can't see how to attract its attention.",
  has	door static;

Object On_board_the_Phlebas "On board the Phlebas"	! 182 / 0xb6
  with	name 'wheel',
	description "A tourist river-boat, glass-roofed. You can climb out to the shore to the east. At the helm is a very strange man, at times almost a straw dummy, almost perhaps a hollow cut-out made of paper. He (or it) turns the wheel and casts his eyes to windward.",
	e_to Down_by_River,
  has	light;

Object -> hollow_man "hollow man"	! 183 / 0xb7
  with	name 'hollow//p' 'man',
	description "Every now and then he whimpers.",
	article "the",
	initial "The hollow man mechanically says: ~Where to, guv'nor?  Me with my big mouth, I gone and done it again, calling you the guv'nor. I was down Margate Sands way once, had a bloke come on board, he thought any old destination would do, like a real place, like anywhere was real... We are the hollow men, I says, he didn't like that... Hurry up, please, it's time.~",
  has	animate;

Object Near_Ring_Road "Near Ring Road"	! 184 / 0xb8
  with	name 'metro' 'pedestal' 'army',
	description "A dry, desolate waste of buildings borders here on a main road, so full of black-suited pedestrians off to work at banks that you can't force your way any further east. Once in a while a few of the bowler-hatted army step into the street and down some steps below a Metropolitan sign.",
	w_to Unreal_City,
	d_to Chatelet_les_Halles,
	cant_go "You can't force your way through the tide of bankers.",
  has	light;

Object Chatelet_les_Halles "Chatelet-les-Halles"	! 185 / 0xb9
  with	name 'gates',
	description "This is a vast underground station in great rectangular caverns, deep beneath the streets. You are outside the ticket gates, near a flight of steps back up to the city, and since you haven't a ticket you're likely to stay that way.",
	u_to Near_Ring_Road,
	cant_go "Back up the stairs for you. Call yourself a traveller...",
  has	light;

Object -> surly_shopkeeper "surly shopkeeper"	! 186 / 0xba
  with	name 'surly' 'man' 'shopkeeeper',
	description "His jumper is unstriped, and there are no onions around his neck. Nonetheless he has a rather Gallic, disgruntled look to him. Perhaps he's a former Socialist cabinet minister.",
	initial "Behind a kiosk, a surly-looking man is selling guide books and maps.",
  has	animate;

Object tourist_map_of_Paris "tourist map of Paris"	! 187 / 0xbb
  with	name 'tourist' 'map' 'of' 'paris',
	description "Just the way you remember yours having been.",
	devil_hint "Burn it!  Burn it at once!",
	angel_hint "What a very useful map!  Now you can go on holiday.",
  has	;

Object Ruined_Castle_Cafe "Ruined Castle Cafe"	! 188 / 0xbc
  with	name 'decor' 'arrows' 'quarter' 'waiter',
	description "This crowded, bohemian cafe bears only a passing resemblance to the ruined castle of the Tarot card: the decor imitates castle walls and arrowslits. You find yourself sitting at a table for one in the centre of the cafe floor. It is noisy, bustling and cheery, and a string quartet plays Strauss under the chattering of German voices. Your chances of attracting a waiter are very slight.",
	after RuinedCastleCafeAfter,
	cant_go "The crowd is lively and exciting, but also inconsiderate and bulky.",
  has	light scored;

Object -> cafe_table "cafe table"	! 189 / 0xbd
  with	name 'table',
  has	scenery;

Object complicated_looking_bomb "complicated-looking bomb"	! 190 / 0xbe
  with	name 'bomb',
	description "It contains a timer-detonater, a bundle of plastic explosives and many, many wires. The most obvious ones are green, red, blue and black. They would pull out of their loose sockets in the timer easily, so perhaps this bomb disposal nonsense isn't as tricky as people make out.",
	initial "Taped loosely to the underside of the table is a complicated-looking bomb.",
	after BombAfter,
	number 0,
  has	concealed container open;

Object -> timer_detonater "timer-detonater"	! 191 / 0xbf
  with	name 'timer' 'detonate',
	before DetonatorBefore,
	number 10,
	devil_hint "Time flies down here, you know. Eternity simply breezes by.",
	angel_hint "Good photographic gear that. You didn't get it from a... well, a bomb, I hope.",
  has	static;

Object -> green_wire "green wire"	! 192 / 0xc0
  with	name 'green//p' 'wire',
  has	static wire;

Object -> red_wire "red wire"	! 193 / 0xc1
  with	name 'red//p' 'wire',
  has	static wire;

Object -> blue_wire "blue wire"	! 194 / 0xc2
  with	name 'blue//p' 'wire',
  has	static wire;

Object -> black_wire "black wire"	! 195 / 0xc3
  with	name 'black' 'wire',
  has	static wire;

Object Cups_and_Glasses "Cups and Glasses"	! 196 / 0xc4
  with	name 'cups' 'glasse' 'skylight' 'crates',
	description "This basement room is filled with crate after crate of glasses and cups, enough for an entire hotel, or restaurant perhaps. A little light comes in from an opaque skylight which is at street level outdoors. There is no way out of here, since the only door is shut tight.",
	n_to windowed_door,
	number 0,
	cant_go "There's no apparent way out of here.",
  has	light;

Object -> windowed_door "windowed door"	! 197 / 0xc5
  with	name 'door' 'window',
	description "Through the square window in the door you can see a bar at which staff are serving, and a very crowded and lively cafe-restaurant beyond. The cabaret act has her back to you, and a considerable amount of her front to the diners.",
	door_dir n_to,
	door_to Cups_and_Glasses,
  has	door openable scenery locked;

Object Sea_Shore "Sea Shore"	! 198 / 0xc6
  with	description "A rough rocky sea shore below barely-climbable cliffs, against which an inviting deep blue sea laps. It seems to be early morning, soon after dawn, from the look of the sun on the water.",
	u_to Cliffs,
	cant_go "The rocks are too dangerous. You'll have to scale the cliff.",
  has	light;

Object -> Andromeda "Andromeda"	! 199 / 0xc7
  with	name 'andromeda' 'maiden',
	initial "Chained to the cliff face is the beautiful Andromeda, looking nobly out to sea as she awaits her fate.",
	before AndromedaBefore,
  has	animate proper;

Object -> amber_hairband "amber hairband"	! 200 / 0xc8
  with	name 'amber' 'hairband' 'hair' 'band',
	description "A long clasp of amber, pefect for long straggly Greek hair.",
	article "Andromeda's",
	rod_assoc rod_of_sacrifice,
	devil_hint "Mmm... it still has her perfume on it. Hehehehe. Bet she's dead now.",
  has	concealed static hidden_rod;

Object rod_of_sacrifice "Rod of Sacrifice"	! 201 / 0xc9
  with	name 'rod' 'of' 'sacrifice',
	article "the",
	rod_action RodOfSAcrificeAction,
	angel_hint "Far, far too dangerous. The age of martyrs in the church is long gone, you know.",
  has	rod_attr;

Object Cliffs "Cliffs"	! 202 / 0xca
  with	name 'pharos//p' 'lighthouse//p' 'tower',
	description "On top of some exposed cliffs on the Mediterranean. A dangerous slither down leads on one side to the shore, all other ways down being even more hazardous. Atop the cliffs is the Pharos tower, a round stone pinnacle lighthouse, but there is no way in from here. A grassy walk leads east.",
	e_to Clifftop_Walk,
	d_to Sea_Shore,
	cant_go "There's only dull grassland that way.",
  has	light;

Object Clifftop_Walk "Clifftop Walk"	! 203 / 0xcb
  with	description "A long clifftop walk by the sea, from the lighthouse to the west to the village not far east. These fields are occupied by herds of hardy mountain goats, continually butting each other and frisking. To the south a path leads across sparse grassland to a great outgrowth of some kind.",
	before ClifftopWalkBefore,
	s_to Wall_of_Thorns,
	e_to Outside_Taverna,
	w_to Cliffs,
	cant_go "There's only dull grassland that way.",
  has	light;

Object -> herd_of_goats "herd of goats"	! 204 / 0xcc
  with	name 'goats' 'herd' 'of',
  has	scenery;

Object Wall_of_Thorns "Wall of Thorns"	! 205 / 0xcd
  with	description "The rather sparse rolling landscape is dominated here by a massive, and suspiciously unnatural, wall of thorns, which forms a great ring about an area perhaps a hundred yards in diameter. There are goat pastures to the north.",
	n_to Clifftop_Walk,
	s_to wall_of_thorns_object,
	cant_go "There's only dull grassland that way.",
  has	light;

Object -> wall_of_thorns_object "wall of thorns"	! 206 / 0xce
  with	name 'gap' 'thorns' 'of' 'wall',
	description "It's hard to imagine what could possibly shift a wall like that.",
	initial "A ragged gap in the wall has been burnt out to the south.",
	door_dir s_to,
	door_to Sacred_Earth,
	describe "The wall rustles and clashes its thorns like a beast alive.",
  has	door static;

Object Sacred_Earth "Sacred Earth"	! 207 / 0xcf
  with	description "Here inside the thorn wall, a north-south path leads across sacred earth into the imposing marble Temple of Zeus. You feel distinctly uneasy walking on such hallowed turf. There are any number of myths about gods getting cross about that sort of thing.",
	before SacredEarthBefore,
	n_to Wall_of_Thorns,
	s_to Temple_of_Zeus,
	cant_go "The wall of thorns hems you in.",
  has	light;

Object Temple_of_Zeus "Temple of Zeus"	! 208 / 0xd0
  with	name 'pillar',
	description "The beautiful candle-lit Temple of Zeus, a cavern of marble pillars which is quite empty and featureless save for the entrance at the north. So much for all the rumours about hoards of treasure - it looks as if Zeus (who is, by the way howling with anger outside) was bluffing all along.",
	before TempleBefore,
	n_to Sacred_Earth,
	cant_go "Unfortunately for you (since Zeus is watching it), the temple has only one entrance.",
  has	light scored;

Object -> copper_coin "copper coin"	! 209 / 0xd1
  with	name 'copper' 'coin',
	article "one",
	angel_hint "This currency is only valid in ancient Greece. Where on earth have you been?",
  has	;

Object Outside_Taverna "Outside Taverna"	! 210 / 0xd2
  with	description "A long walk along the cliffs from the lighthouse leads naturally here, just outside the Eraina Taverna, whose open doorway lies to the south.",
	s_to Eraina_Taverna,
	w_to Clifftop_Walk,
	cant_go "There's only dull grassland that way.",
  has	light;

Object Eraina_Taverna "Eraina Taverna"	! 211 / 0xd3
  with	description "A plain but cheery taverna, fill of miserable and rather ashamed men who are drinking retsina heavily. The day is dawning outside the north door, but they strangely do not share your uplifted feeling at the sight.",
	n_to Clifftop_Walk,
	cant_go "The tavern entrance is to the north.",
  has	light scored;

Object -> Ekmek_Special "Ekmek Special"	! 212 / 0xd4
  with	name 'ekmek' 'special' 'dessert',
	description "A speciality dessert of the Taverna: ice cream, kateifi, raspberry sauce, cream. An acquired taste.",
	initial "Left untouched on one table is an Ekmek Special dessert.",
	before EkmekSpecialBefore,
	devil_hint "Better with chocolate ice cream, I think.",
	angel_hint "Doesn't somebody else need this more than you?",
  has	proper edible scored;

Object -> bartender "bartender"	! 213 / 0xd5
  with	name 'bar' 'tender' 'bartender',
	description "Morose and unconvivial at the best of times. This is not the best of times.",
	initial "Behind the bar, a depressed bartender polishes glasses.",
  has	animate;

Object Lighthouse "Lighthouse"	! 214 / 0xd6
  with	name 'smudge' 'quinqu',
	description "You stand atop a pinnacle of stone, on an early Pharos, or lighthouse. Inconsiderately enough, the builders have provided no obvious way down from here. Still, there's a fine view out across the Mediterranean sea into the dim dawning sun. It's going to be a nice day, you can't help thinking.^^In the centre of the pinnacle is a marvellous device of polished bronze mirrors, its open end pointed out across the bay. There seems to be very little traffic at the moment, though a smudge on the horizon might possibly be a quinquireme.",
	cant_go "Being a lighthouse, this pinnacle is way up in the air. Point taken?",
  has	light scored;

Object -> mirrored_device "mirrored device"	! 215 / 0xd7
  with	name 'device//p' 'mirror' 'bronze',
  has	container transparent open scenery;

Object Murky_Cave "Murky Cave"	! 216 / 0xd8
  with	description "This is a murky hillside cave, whose mouth opens to the northeast, though a tight squeeze might lead a little way west. Outside is a clear starry night. There is no traffic noise, and the air smells fresh.",
	w_to Spur_of_Rock,
	ne_to Valley_Prospect,
  has	;

Object -> flaming_torch "flaming torch"	! 217 / 0xd9
  with	name 'flaming' 'torch',
	initial "Hanging up on an iron bracket is a flaming torch.",
  has	light;

Object -> historical_pamphlet "historical pamphlet"	! 218 / 0xda
  with	name 'history' 'pamphlet',
	description "It is a summary of the writings of a polemical monk called Gildas, and relates to events following the fall of the tyrant Vortigern at the turn of the fifth century A.D. After dark decades of pillage by Saxon mercenaries, Britain was reunited by Ambrosius Aurelianus and then defended at the Battle of Badon Hill, some time in the early years of the sixth century.^^This remarkable victory was of no religious significance, so Gildas does not dwell upon it. He tends only to mention bad kings and leaders, and then only to insult them. (Talking about Gildas is an excellent way to annoy an Anglo-Saxon historian.)  Nobody even knows where Badon Hill is any more, or anything else about it, although some students of Welsh poetry believe Ambrosius was the source of the legend of King Arthur.",
	article "an",
  has	;

Object Spur_of_Rock "Spur of Rock"	! 219 / 0xdb
  with	description "An uncomfortable spur of rock on the hillside crags. The only natural access to this spot is a crevice in the hill to the east, but there is also a securely fastened rope hanging down into the darkness.",
	e_to Murky_Cave,
	d_to Hanging_on_Rope,
	cant_go "The crags are too precipitous.",
  has	light;

Object -> hanging_rope "hanging rope"	! 220 / 0xdc
  with	name 'rope',
  has	scenery;

Object Hanging_on_Rope "Hanging on Rope"	! 221 / 0xdd
  with	name 'patrol' 'men',
	description "You are hanging perilously on a hemp rope, suspended from an overhang of rock above, which drops down into the darkness of the valley. On the tracks below, patrols of men can be heard, and you feel instinctively that they are not friendly.",
	before HangingBefore,
	u_to Spur_of_Rock,
	cant_go "Up and down are it, quite frankly.",
  has	light;

Object -> hemp_rope "hemp rope"	! 222 / 0xde
  with	name 'hemp' 'rope',
  has	scenery;

Object -> yellow_daisy "yellow daisy"	! 223 / 0xdf
  with	name 'yellow//p' 'daisy',
	initial "A single yellow daisy grows from a little tuft of grass on the crags.",
	before DaisyBefore,
	after DaisyAfter,
  has	clothing scored;

Object Valley_Prospect "Valley Prospect"	! 224 / 0xe0
  with	description "The geography is strangely familiar here. You are on a natural shelf on the hillside, overlooking the valley below. An all-but invisible cleft in the rock leads to a cave to the southwest, and the slope can safely be traversed to the east.^^It is a brightly moonlit night, cool as in late spring. There will be a sharp frost tomorrow. Down in the valley, a great cartwheel circle of camp fires illuminate some dark shapes, perhaps crude encampments. There is no other sign of civilisation.",
	e_to Roman_Villa,
	sw_to Murky_Cave,
	cant_go "The hillside is too steep.",
  has	light;

Object Roman_Villa "Roman Villa"	! 225 / 0xe1
  with	name 'timber' 'door',
	description "You stand beside a Roman villa, whose columns cast shadows of an Empire in the moonlight. It is thirty years since the fall of the West, and Britain is cut off from the continent, where soon even the existence of the Anglis will become a myth. This villa has survived the pestilence and devastation of the civil war, and although it must be a couple of centuries old, it is still standing. From here you could cut across the hillside east to west, or slip in through a none-too-secure timber door.",
	s_to Cloister,
	e_to Stream,
	w_to Valley_Prospect,
  has	light;

Object Stream "Stream"	! 226 / 0xe2
  with	name 'river' 'road' 'stream' 'roof',
	description "A stream runs past the villa and cascades down the hillside here, to join the river far below, near the Roman road which will, in 1500 years time, become the motorway which so spoils the view from your back garden. A rough ladder of wood lashed together with leather rests against the villa at the lowest point of the tiled roof.",
	before StreamBefore,
	w_to Roman_Villa,
  has	light;

Object -> ladder "ladder"	! 227 / 0xe3
  with	name 'ladder',
  has	scenery;

Object Cloister "Atrium Cloister"	! 228 / 0xe4
  with	name 'timber' 'door',
	description "The shadowy cloisters of the villa's atrium. You disturb a fieldmouse, and hear the scratching of tiny claws on stone. Moonlight filters in from the central courtyard to the south, and a rotten timber door leads back north.",
	n_to Roman_Villa,
	s_to Atrium,
  has	light;

Object -> summoning_horn "summoning horn"	! 229 / 0xe5
  with	name 'horn' 'summon' 'on' 'pole',
	initial "Resting against one pillar is a horn made from a tusk, mounted on a long spear-like pole.",
	rod_assoc rod_of_language,
  has	hidden_rod;

Object rod_of_language "Rod of Language"	! 230 / 0xe6
  with	name 'rod' 'of' 'language',
	article "the",
	rod_action RodOfLanguageAction,
  has	rod_attr;

Object Atrium "Atrium"	! 231 / 0xe7
  with	description "The central well of the villa, ringed with columns. On the north side is a cloister and stone-linteled doorways lead east, south and west. The central floor area is commanded by a beautiful Roman mosaic, quartered into individual scenes, around the edges of which are vents from the hypocaust. There is no roof over the courtyard, and the atrium is lit by moonlight.",
	n_to Cloister,
	s_to Entrance,
	e_to Triclinium,
	w_to Guard_Quarters,
  has	light;

Object -> mosaic "mosaic"	! 232 / 0xe8
  with	name 'mosaic',
	description "The four quarters show white-beards in the Forum, farmers in Italian fields, a military fortification and a grain ship unloading at Ossia.",
  has	scenery;

Object Guard_Quarters "Guard Quarters"	! 233 / 0xe9
  with	name 'armour' 'spears' 'hides' 'blanke',
	description "Whatever function this spacious room once had, now it is evidently home to military men, for it is filled with crude armour, spears, rough blankets which are little more than animal hides. Fortunately for you the guards are absent.",
	e_to Atrium,
  has	light;

Object -> bone_die "crude bone die"	! 234 / 0xea
  with	name 'die' 'dice' 'bone',
	description "A crude six-sided die made from animal bone.",
	after DieAfter,
  has	;

Object -> sandals "leather sandals"	! 235 / 0xeb
  with	name 'sandal' 'shoes' 'leather',
	article "a pair of",
  has	clothing;

Object Triclinium "Triclinium"	! 236 / 0xec
  with	description "What was once the villa's triclinium, or kitchen, is now deserted and long since ransacked for metal. (Nobody lives on their own in this century, and this villa wouldn't be easy to defend.)  A doorway to the west gives onto the atrium.",
	before TricliniumBefore,
	after TricliniumAfter,
	w_to Atrium,
	d_to kitchen_well,
  has	light;

Object -> kitchen_well "kitchen well"	! 237 / 0xed
  with	name 'well' 'hinged' 'wooden' 'cover',
	description "The well has a hinged wooden cover. You can't tell by looking how deep it is.",
	initial "The hinged wooden cover is raised, revealing a circular well about a yard in diameter. It is very dark inside.",
	door_dir d_to,
	door_to Inside_Well,
	describe "In one corner is a hinged wooden cover of some kind, which is shut.",
	number 0,
  has	door container openable static;

Object Inside_Well "Inside Well"	! 238 / 0xee
  with	name 'air',
	description "You are clinging perilously to the walls of the deep and dangerous well. You can hardly see a thing, even with the aid of the torch, but curiously enough you feel warm air blowing across you from the west.",
	before InsideWellBefore,
	w_to Hypocaust,
	u_to Triclinium,
	cant_go "Too risky. There might not be anything that way, for all you know.",
  has	;

Object Hypocaust "Hypocaust"	! 239 / 0xef
  with	name 'fires' 'heating' 'log' 'logs',
	description "This very low almost-cellar underneath the atrium is a tiny access space for log fires which are kept going to provide a form of central heating for the villa. They are lit and going away nicely, interestingly. It isn't very warm by twentieth-century standards, but you have to admit it works. A tiny amount of light filters in from the vents in the roof, but nowhere near enough to see by. The only way in seems to be the way you came.",
	e_to Inside_Well,
	cant_go "The log fires are hot, and anyway the only way out large enough for you is back east.",
  has	light;

Object -> hypocaust_vents "hypocaust vents"	! 240 / 0xf0
  with	name 'vents',
	before HypocaustBefore,
  has	scenery;

Object Entrance "Entrance"	! 241 / 0xf1
  with	description "A well-flagstoned forecourt at the villa entrance, surrounded by lesser wooden buildings. Some of these are in use as stables, and figures of men slip between them. You hide from sight, not wishing to draw attention to yourself. Up on the hill, where Meldrew House will one day be built, men on horseback can be seen circling the access track. For a deserted villa, this is certainly well-guarded.",
	before EntranceBefore,
	after EntranceAfter,
	n_to Atrium,
  has	light scored;

Object Rough_Tent "Rough Tent"	! 242 / 0xf2
  with	name 'hides',
	description "Well, here you are, imprisoned again. This time the cell is a tent of stitched animal hides, perhaps twenty feet in diameter, supported by a central pole. You have no idea where the entrance is, because you were blindfolded on the way in. There is at least a dim light from the camp-fires outside the tent.",
	cant_go "This tent doesn't seem to have an exit, either.",
  has	light scored;

Object -> tent_pole "tent pole"	! 243 / 0xf3
  with	name 'pole' 'central',
	after TentPoleAfter,
	number 0,
	rod_assoc rod_of_returning2,
  has	concealed static hidden_rod;

Object rod_of_returning2 "Rod of Returning"	! 244 / 0xf4
  with	name 'rod' 'of' 'returning',
	article "the",
	rod_action transport_player,
  has	rod_attr;

Object saxon_spy "unconscious Saxon spy"	! 245 / 0xf5
  with	name 'saxon' 'spy',
	description "He is dishevelled, wiry and unconscious. He is also covered with dust and leaves, as if he has been lying down on his front outdoors for hours.",
	initial "An unconscious Saxon spy is slumped on the ground. Occasionally faint noises can be heard from him.",
	before SaxonBefore,
	number 0,
  has	animate;

Object Encampment "Encampment"	! 246 / 0xf6
  with	name 'fires' 'camp' 'dolmen',
	description "Luckily for you the tent, now collapsed, was hardly being watched at all, because all the attention is diverted to a ghastly ritual being carried out over beyond the camp-fires. But your luck cannot hold for long. You are so surrounded by hostile territory that you simply have nowhere to run or hide. Things are, not to put too fine a point on it, looking grim.",
	before EncampmentBefore,
	e_to dolmen,
	number 0,
	cant_go "Far, far too risky.",
  has	light scored;

Object -> dolmen "dolmen"	! 247 / 0xf7
  with	name 'dolmen' 'coals' 'hot' 'rock',
	initial "An erratic glacial rock, which seems in the feverish firelight to make a natural dolmen, can be made out to the east, on the other side of an almost-extinguished campfire of hot coals.",
	door_dir initial,
	door_to Beneath_Dolmen,
  has	door open;

Object Beneath_Dolmen "Beneath Dolmen"	! 248 / 0xf8
  with	name 'dolmen',
	description "You stand beside the eerie dolmen, surrounded by the terrible noises and incantations of a druidic rite.",
	w_to Encampment,
	cant_go "Far, far too risky.",
  has	light scored;

Object -> bluish_stone "bluish stone"	! 249 / 0xf9
  with	name 'stone' 'blue//p' 'bluish',
	initial "Resting on top of the dolmen is a polished blue stone.",
	rod_assoc fifty_franc_note,
  has	hidden_rod scored;

Object fifty_franc_note "fifty-franc note"	! 250 / 0xfa
  with	name 'fifty' 'franc' 'note' 'francs',
  has	;

Object Hellish_Place "Hellish Place"	! 251 / 0xfb
  with	name 'desk',
	description "Hell, you always imagined, would contain fiery, sulphurous pits and a great many gentlemen with forked tails. You were right about the last part. A demon is sitting behind a flame-proofed desk at the bottom of the stairs. There are some disconcerting screams from further away, but nothing to worry about. Not in this life, anyway.",
	after Hellish_Place_After,
	n_to Cellar_West,
	u_to Cellar_West,
	cant_go "That direction is not for the living.",
  has	light;

Object -> demon "demon"	! 252 / 0xfc
  with	name 'devil' 'demon',
	description "If you were to cast a film of your adventures so far, you would hire Donald Sutherland to play this gentleman.",
	number 4,
  has	animate scenery;

Object Heavenly_Place "Heavenly Place"	! 253 / 0xfd
  with	name 'furniture' 'cloud',
	description "Heaven, you always imagined, would be a world of marble pillars, fluffy clouds, harps and angelic ladies with serene expressions. You were right about the last part. An angel is sitting here behind some new office furniture, next to a blue Tourist Information sign. A bridge of cloud extends south across the sky to the beanstalk. There is some choral singing going on somewhere, but not loud enough for you to hear properly. Not in this life, anyway.",
	after Heavenly_Place_After,
	s_to Up_the_Beanstalk,
	cant_go "That direction is not for the living.",
  has	light;

Object -> angel "angel"	! 254 / 0xfe
  with	name 'angel',
	description "If you were to cast a film of your adventures so far, you would hire Dame Judi Dench to play this lady.",
	number 4,
  has	animate scenery;

Object carbolic_soap "carbolic soap"	! 255 / 0xff
  with	name 'soap' 'carbolic',
	description "~For foulmouths everywhere~.",
	article "a cake of",
	devil_hint "That's the spirit, keep it up!",
	angel_hint "Really!  How disgraceful!",
  has	concealed;

! Constants

! score_index
Constant SCORE_HAMBURG = 0;
Constant SCORE_TORCH = 1;
Constant SCORE_JOSHUA = 2;
Constant SCORE_SECRETDOOR = 3;
Constant SCORE_DEMIJOHN = 4;
Constant SCORE_WAITER = 5;
Constant SCORE_WAND = 6;
Constant SCORE_AIMWAND = 7;
Constant SCORE_WIRELESS = 8;
Constant SCORE_CALENDAR = 9;
Constant SCORE_CHOCOLATE = 10;
Constant SCORE_ANDROMEDA = 11;
Constant SCORE_BATTERY = 12;
Constant SCORE_TOURIST = 13;
Constant SCORE_INFINITY = 14;
Constant SCORE_TRICLINIUM = 15;
Constant SCORE_DOLEMN = 16;
Constant SCORE_BISCUIT = 17;

! topic_enum
Constant T_DREAM = 1;
Constant T_FLASHLIGHT = 2;
Constant T_JEMIMA = 3;
Constant T_NOVEL = 4;
Constant T_FLOWERS = 5;
Constant T_MEDICINE = 6;
Constant T_WINE = 7;
Constant T_BOTTLE = 8;
Constant T_HEAVEN = 9;
Constant T_HELL = 10;
Constant T_POSTCARD = 11;
Constant T_JOSHUA = 12;
Constant T_ISAAC = 13;
Constant T_ARCANUM = 14;
Constant T_MERLIN = 15;
Constant T_HAT = 16;
Constant T_BOOK = 17;
Constant T_EBENEZER = 18;
Constant T_CARDS = 19;
Constant T_RODS = 20;
Constant T_TAROT = 21;
Constant T_BOAT = 22;
Constant T_MOUSE = 23;
Constant T_KEY = 24;
Constant T_RADIO = 25;

! game_area
Constant MODERN = 1;
Constant UNREAL = 2;
Constant HAMBURG = 3;
Constant TAROT = 4;
Constant GARDEN = 5;
Constant GARDEN_PAST = 6;
Constant ANCIENT_BRITAIN = 7;
Constant DREAMING = 8;

! final_state
Constant DIED = 1;
Constant WON = 2;
Constant FAILED = 3;
Constant DESTROYED_UNIVERSE = 4;
Constant AUSTRALIA = 5;
Constant PARADOX = 6;
Constant MYTH = 7;
Constant PRISON = 8;

! Globals

Global location = Attic;
Global score;
Global turns = 1;
Global player = yourself;
Global global4;
Global global5;
Global global6;
Global global7 = 1[?];
Global deadflag;
Global verb;
Global noun;
Global second;
Global noun_word;
Global current_year;
Global game_section = MODERN;
Global card_ptr;
Global MazeX = 4;
Global MazyY = 6;
Global global26 = 100[hole_in_the_wall?];
Global global27 = 100[hole_in_the_wall?];
Global Mouse_x = 8;
Global Mouse_y = 3;
Global BombTicking;
Global things_score;
Global places_score;
Global rod_score;
Global good_try_bonus;
Global CouncilCnt;
Global KnowLanguages;
Global debug_deterministic_transportation;
Global transcript_mode;
Global debug_mode;
Global global44 = 1[?];
Global global45;
Global multiflag;
Global notheld_mode;
Global onotheld_mode;
Global global49;
Global num_words;
Global global51;
Global global52;
Global global53;
Global verb_word;
Global global57;
Global global58;
Global global59;
Global global60;
Global global61;
Global global62;
Global global65;
Global global66;
Global global67;
Global global68;
Global global69;
Global global70;
Global global72;
Global global73;
Global global74;
Global global75;
Global global76;
Global global77;
Global global78;
Global global79;
Global global80;
Global global81;
Global global82;
Global global83;
Global global84;
Global global85;
Global global86;
Global global87;
Global global88;
Global global89;
Global global90;
Global global91;
Global global92;
Global global93;
Global global94;
Global global95;
Global global96;
Global global97;
Global global98;
Global global99;
Global global100;
Global global101;
Global global102;
Global global103;
Global global104;
Global global105;
Global global106;
Global global107;
Global global108;
Global global109;
Global global110;
Global global111;
Global global112;
Global global113;
Global global114;
Global global115;
Global global116;
Global global117;
Global global118;
Global global119;
Global global120;
Global global121;
Global global122;
Global global123;
Global global124;
Global global125;
Global global126;
Global global127;
Global global128;
Global global129;
Global global130;
Global global131;
Global global132;
Global global133;
Global global134;
Global global135;
Global global136;
Global global137;
Global global138;
Global global139;
Global global140;
Global global141;
Global global142;
Global global143;
Global global144;
Global global145;
Global global146;
Global global147;
Global global148;
Global global149;
Global global150;
Global global151;
Global global152;
Global global153;
Global global154;
Global global155;
Global global156;
Global global157;
Global global158;
Global global159;
Global global160;
Global global161;
Global global162;
Global global163;
Global global164;
Global global165;
Global global166;
Global global167;
Global global168;
Global global169;
Global global170;
Global global171;
Global global172;
Global global173;
Global global174;
Global global175;
Global global176;
Global global177;
Global global178;
Global global179;
Global global180;
Global global181;
Global global182;
Global global183;
Global global184;
Global global185;
Global global186;
Global global187;
Global global188;
Global global189;
Global global190;
Global global191;
Global global192;
Global global193;
Global global194;
Global global195;
Global global196;
Global global197;
Global global198;
Global global199;
Global global200;
Global global201;
Global global202;
Global global203;
Global global204;
Global global205;
Global global206;
Global global207;
Global global208;

! Arrays
Array buffer --> 30720[?];	! 9520 (0x2530)
Array parse --> 16384[?];	! 9641 (0x25a9)
Array global11 --> 30720[?];	! 9706 (0x25ea)
Array global12 --> 16384[?];	! 9827 (0x2663)
Array global13 --> 1;	! 9892 (0x26a4)
Array global17 --> 1;	! 9908 (0x26b4)
Array card_deck -->	! 9972 (0x26f4)
    nothing
    nothing
    nothing
    nothing
    invalidObj12593
    invalidObj12593
;
Array global23 --> 12593[?];	! 9980 (0x26fc)
Array Mouse_maze -->	! 10043 (0x273b)
    12593
    12593
    12593
    12593
    12593
    12593
    12336
    12592
    12337
    12593
    12593
    12336
    12592
    12593
    12593
    12593
    12336
    12336
    12593
    12593
    12336
    12593
    12593
    12593
    12593
    12336
    12593
;
Array task_scores -->	! 10106 (0x277a)
    775
    1802
    771
    1285
    514
    818
    769
    2052
    0
    0
    0
    0
    0
    0
    0
    0
    0
;
Array score_array2 --> 17;	! 10124 (0x278c)
Array BombWires --> 4;	! 10149 (0x27a5)
Array global55 --> 1;	! 10154 (0x27aa)
Array global56 --> 1;	! 10170 (0x27ba)
Array global63 --> 1;	! 10186 (0x27ca)
Array global64 --> 1;	! 10202 (0x27da)
Array global71 --> 1;	! 10266 (0x281a)
Array verb_routine_array -->	! 11869 (0x2e5d)
    ExitSub
    InvSub
    TakeSub
    RemoveSub
    ExitSub
    DisrobeSub
    WearSub
    InsertSub
    DropSub
    EmptySub
    EmptyTSub
    TransferSub
    ThrowAtSub
    GiveRSub
    SingSub
    ShowSub
    VagueGoSub
    GoSub
    ScoreSub
    FullScoreSub
    LookSub
    routine_9156
    SearchSub
    routine_b3f0
    routine_b6f2
    routine_b6de
    SuperSub
    VerboseSub
    BriefSub
    OpenSub
    routine_999e
    CloseSub
    routine_8742
    routine_8760
    QuitSub
    RestoreSub
    RestartSub
    SaveSub
    ScriptOnSub
    ScriptOffSub
    routine_9e90
    SorrySub
    routine_a3f0
    routine_a448
    WashSub
    HandleSub
    routine_9e26
    routine_a8b6
    routine_a8cc
    SetSub
    DigSub
    routine_ad16
    routine_acfc
    PushSub
    routine_af9a
    routine_b10c
    SwitchOnSub
    SwitchOffSub
    routine_9a20
    routine_a47a
    routine_ac5c
    routine_d122
    HintSub
    routine_d196
    HelpSub
    routine_c956
    routine_d01e
    routine_a858
    SleepSub
    StrikeWand
    PointWand
    routine_d0f0
    routine_d12e
    routine_805a
    routine_cfb4
    SpraySub
    routine_a5e4
    routine_a6c0
    routine_a72c
    routine_9f08
    routine_9f4a
    routine_9f8e
    routine_9fc4
    routine_a06e
    SmellSub
    routine_a0a4
    routine_a0ba
    routine_a0d2
    routine_a0e8
    CleanSub
    TieSub
    routine_9ee6
    DrinkSub
    FillSub
    CutSub
    JumpSub
    JumpOverSub
    routine_9ea8
    routine_e4a8
    DebugMoveRods
    routine_e5d0
    routine_e5bc
    TriggerEndgame
    LearnLanguages
    routine_13e76
    routine_13e80
    routine_e5a0
    routine_e5d0
    routine_e5bc
    TriggerEndgame
;

! CodeArea 0x42b0 0x15360

[ Main ;	! 17072 / 0x42b0
    InsertCardIntoDeck(Drowned_Sailor_card);	! not popped
    @pop;
    InsertCardIntoDeck(Fool_card);	! not popped
    @pop;
    InsertCardIntoDeck(Death_card);	! not popped
    @pop;
    print "^^^^It's become a matter of pride now not to give up. That tourist map of Paris must be up here somewhere in all this clutter, even if it has been five years since your last trip. And it's your own fault. It looks as if your great-grandfather was the last person to tidy up these lofts...^^";
    Banner();	! not popped
    @pop;
    LookSub();	! not popped
    @pop;
    PlayTheGame();	! not popped
    @pop;
    rtrue;
];

[ PlayTheGame i j k l aflag metaverb nonexit ;	! 17322 / 0x43aa
    j = 1[?];
    --j;
  .label17342;
    if (j < 100) {
        ++j;
        k = random(j);
        jump label17342;
    }
  .label17356;
    if (deadflag == 0) {
      .label17361;
        noun = nothing;
        second = nothing;
        verb = ##Exit;
        Parser(global13);	! not popped
        @pop;
        onotheld_mode = notheld_mode;
        notheld_mode = false;
        if (global6 == 100[hole_in_the_wall?]) {
            j = 98[robot_mouse?];
            j = parent(j);
            if (j == 100[hole_in_the_wall?]) {
                global6 = 98[robot_mouse?];
            }
        }
        if (global6 == 98[robot_mouse?]) {
            noun = global13->2;
            second = global13->3;
            verb = global13->0;
            MouseMove();	! not popped
            @pop;
        } else if (global6 ~= player) {
            CDefart(global6);	! not popped
            @pop;
            print " has better things to do.^";
        } else {
            if (global5 == 1[?]) {
                global5 = 0;
                print "(taking the first sixteen objects only)^";
            }
            nonexit = false;
            if (verb ~= ##Exit) {
                nonexit = true;
            }
            if (verb == ##Exit) {
                verb = global13->0;
            }
            metaverb = false;
            if (verb == ##Score) {
                metaverb = true;
            }
            if (verb == ##FullScore) {
                metaverb = true;
            }
            if (verb == ##ScriptOn) {
                metaverb = true;
            }
            if (verb == ##ScriptOff) {
                metaverb = true;
            }
            if (verb == ##Save) {
                metaverb = true;
            }
            if (verb == ##Restore) {
                metaverb = true;
            }
            if (verb == ##HelpSpecial) {
                metaverb = true;
            }
            if (verb == ##Help) {
                metaverb = true;
            }
            if (verb == ##Objects) {
                metaverb = true;
            }
            if (verb == ##Places) {
                metaverb = true;
            }
            if (verb >= 99 && debug_mode == false) {
                print "You can't do that.^";
                metaverb = true;
            } else {
                if (game_section == DREAMING && metaverb == false) {
                    if (verb == ##Go) {
                        ! no code
                    } else if (verb == ##Take) {
                        ! no code
                    } else if (verb == ##Look) {
                        ! no code
                    } else if (verb == ##Inv) {
                        ! no code
                    } else if (verb == ##Wake) {
                        ! no code
                    } else {
                        print "You seem unable to concentrate sufficiently.^";
                        jump label17910;
                    }
                }
                if (nonexit == false) {
                    j = global13->1;
                    noun = global13->2;
                    second = global13->3;
                }
                if (nonexit ~= false) {
                    j = 2[?];
                }
                multiflag = false;
                if (j > 3) {
                    print "Madness!  Stack corrupted^";
                    jump label17361;
                }
                if (j < 0) {
                    print "Madness!  Stack corrupted^";
                    jump label17361;
                }
                if (j == 0) {
                    RunRoutines(0,0,verb);	! not popped
                    @pop;
                }
                if (j > 0) {
                    if (noun ~= nothing) {
                        RunRoutines(noun,second,verb);	! not popped
                        @pop;
                    }
                    if (noun == nothing) {
                        multiflag = true;
                        k = global17->0;
                        if (k == 0) {
                            print "Nothing to do!^";
                            jump label17361;
                        }
                        l = 1[?];
                        --l;
                      .label17882;
                        if (l < k) {
                            ++l;
                            aflag = global17->l;
                            print (name) aflag, ": ";
                            RunRoutines(aflag,second,verb);	! not popped
                            @pop;
                            jump label17882;
                        }
                    }
                }
            }
        }
      .label17910;
        if (notheld_mode == true) {
            metaverb = true;
        }
        if (deadflag == 0 && metaverb == false) {
            Time();	! not popped
            @pop;
        }
        jump label17356;
    }
    print "^^    ***";
    if (deadflag == DIED) {
        print " You have died ";
    }
    if (deadflag == WON) {
        print " You have won ";
    }
    if (deadflag == FAILED) {
        print " You have missed the point entirely ";
    }
    if (deadflag == DESTROYED_UNIVERSE) {
        print " You have disembodied the entire universe ";
    }
    if (deadflag == AUSTRALIA) {
        print " You have been transported to Australia ";
    }
    if (deadflag == PARADOX) {
        print " You have been annihilated by a temporal paradox ";
    }
    if (deadflag == MYTH) {
        print " You have become a constellation ";
    }
    if (deadflag == PRISON) {
        print " You have been imprisoned as a terrorist ";
    }
    print "***^^^";
    ScoreSub();	! not popped
    @pop;
  .label18211;
    print "^Would you like to RESTART, RESTORE a saved game, give the FULL score for that game or QUIT?^";
  .label18294;
    print '?', ' ';
    @sread buffer parse;
    j = parse-->1;
    if (j == 15461['quit'?]) {
        @quit;
    }
    if (j == 15426['q//'?]) {
        @quit;
    }
    if (j == 15545['restart'?]) {
        @restart;
    }
    if (j == 15552['restore'?]) {
        RestoreSub();	! not popped
        @pop;
        jump label18211;
    }
    if (j == 13914['fullsc'?]) {
        FullScoreSub();	! not popped
        @pop;
        jump label18211;
    }
    if (j == 13907['full'?]) {
        new_line;
        FullScoreSub();	! not popped
        @pop;
        jump label18211;
    }
    print "Please answer RESTART, RESTORE or QUIT.^";
    jump label18294;
];

[ RunRoutines i j k ;	! 18428 / 0x47fc
    noun = i;
    second = j;
    verb = k;
    if (location ~= nothing) {
        i = location.before;
        if (i ~= 65535[?] && i() ~= 0) {
            rtrue;
        }
    }
    if (noun ~= nothing) {
        i = noun.before;
        if (i ~= 65535[?] && i() ~= 0) {
            rtrue;
        }
    }
    j = verb_routine_array-->k;
    j();	! not popped
    @pop;
    rtrue;
];

[ AfterRoutines local1 local2 ;	! 18508 / 0x484c
    local2 = location;
    local1 = local2.after;
    if (local1 == 65535[?]) {
        ! no code
    } else if (local1() ~= 0) {
        rtrue;
    }
    local2 = 0;
    local1 = global13->1;
    if (local1 ~= 0) {
        local2 = noun;
    }
    if (local2 == 0) {
        rfalse;
    }
    local1 = local2.after;
    if (local1 == 65535[?]) {
        rfalse;
    }
    local1 = local1();
    return local1;
];

[ routine_4894 local1 local2 ;	! 18580 / 0x4894
    local2 = location;
    if (local2 == 0) {
        rfalse;
    }
    local1 = local2.after;
    if (local1 == 65535[?]) {
        rfalse;
    }
    local1 = local1();
    return local1;
];

[ Banner i ;	! 18612 / 0x48b4
    print "CURSES", "^An Interactive Diversion^Copyright (c) 1993 by Graham Nelson. New players should type ~help~.^Release ", 0-->1 & 1023, " / Serial number ";
    i = 18;
    --i;
  .label18736;
    if (i < 23) {
        ++i;
        print (char) 0->i;
        jump label18736;
    }
    print "  (Compiled by Inform v", "549", ")^";
    rtrue;
];

[ Time i j k ;	! 18784 / 0x4960
    ++turns;
    if (heavy_iron_mascot has moved) {
        i = 119[heavy_iron_mascot?];
        i = parent(i);
        if (i == player) {
            if (0 ~= ResetTimer(heavy_iron_mascot)) {
                deadflag = DIED;
                "^In an astonishing freak accident, a meteorite hurtles through the Earth's atmosphere and then straight through your head. Anyone would think you had a curse on you (anyone, that is, still able to think).";
            }
            i = CountDown(heavy_iron_mascot);
            if (i == 10[ceiling?]) {
                print "^You feel very nervous indeed, for some reason.^";
            }
            if (i == 5[w_obj?]) {
                print "^You scratch yourself, unable to get rid of an itching sensation.^";
            }
            if (i == 2[?]) {
                print "^Something feels very wrong indeed. Your hand begins to burn.^";
            }
        }
    }
    if (electric_torch has light) {
        i = 23[electric_torch?];
        TorchTimer(child(i));	! not popped
        @pop;
    }
    if (Sir_Joshua_Meldrewe hasnt concealed && location == Battlements) {
        JoshuaDaemon();	! not popped
        @pop;
    }
    if (0 ~= ResetTimer(Old_Winery)) {
        print "^Sorry. Thinking about it again, the score only gets in a muddle this way, so the bonus points had better go after all.^";
        good_try_bonus = false;
        score = score - 5;
    }
    if (0 ~= ResetTimer(bean_pole) && game_section == GARDEN_PAST) {
        print "^There is a great rumbling sound and then a thunderous avalanche of stone cascades down the hillside into the valley. The Folly has collapsed!  Capability Meldrew and his workmen come running to investigate. In the ensuing confusion, they come across you and, of course, blame you for their incompetent masonry. You are hauled up before the county assizes...^";
        deadflag = AUSTRALIA;
    }
    if (game_section ~= GARDEN_PAST && global26 < 100) {
        i = global26 + 9 * global27;
        global23->i = 48[poetry_book?];
        global26 = 100[hole_in_the_wall?];
    }
    if (location == Hellish_Place) {
        i = random(10);
        if (i == 1[?]) {
            print "^There is a horrid grinding noise from far away.^";
        }
        if (i == 2[?]) {
            print "^A flash of light sears your eyes, as the sulphurous flames grumble.^";
        }
        if (i == 3[s_obj?]) {
            print "^You can almost, but not quite, make out the noise of shouting.^";
        }
        if (i == 4[e_obj?]) {
            print "^Thunder and lightning can be heard from the fiery depths.^";
        }
    }
    if (location == Heavenly_Place) {
        i = random(10);
        if (i == 1[?]) {
            print "^Angels with harps float by, gossiping about you in a kindly way.^";
        }
        if (i == 2[?]) {
            print "^Babies float by, just counting their toes.^";
        }
        if (i == 3[s_obj?]) {
            print "^Burnished-gold sunlight strokes the tops of the clouds here.^";
        }
        if (i == 4[e_obj?]) {
            print "^The choir invisible almost, for a moment, becomes audible.^";
        }
    }
    if (location == Eraina_Taverna) {
        i = random(13);
        if (i == 1[?]) {
            print "^The diners grumble and play backgammon viciously.^";
        }
        if (i == 2[?]) {
            print "^The bartender gives you a hard stare.^";
        }
        if (i == 3[s_obj?]) {
            print "^A fight breaks out, over an obscure question to do with somebody's second cousin.^";
        }
        if (i == 4[e_obj?]) {
            print "^The gentle sound of bazouki music strikes up in the background, and gradually rises to an intolerable pitch. After a moment comes a dull thud and a strangled noise, then blessed quiet.^";
        }
    }
    if (location == parent(antiquated_wireless) && antiquated_wireless has general) {
        print "^The radio plays a ";
        i = random(10);
        if (i == 1[?]) {
            print "synthesized";
        }
        if (i == 2[?]) {
            print "light orchestra";
        }
        if (i == 3[s_obj?]) {
            print "choral";
        }
        if (i == 4[e_obj?]) {
            print "snare drum and strings";
        }
        if (i == 5[w_obj?]) {
            print "country-and-western";
        }
        if (i == 6[ne_obj?]) {
            print "one-finger piano";
        }
        if (i == 7[nw_obj?]) {
            print "Welsh coal-miners' Eisteddfod choir";
        }
        if (i == 8[se_obj?]) {
            print "Hammond organ";
        }
        if (i == 9[sw_obj?]) {
            print "easy-listening";
        }
        if (i == 10[ceiling?]) {
            print "~lite-n-mellow~";
        }
        i = random(5);
        if (i == 1[?]) {
            print " version of ";
        }
        if (i == 2[?]) {
            print " rendition of ";
        }
        if (i == 3[s_obj?]) {
            print " travesty of ";
        }
        if (i == 4[e_obj?]) {
            print " arrangement of ";
        }
        if (i == 5[w_obj?]) {
            print " transcription of ";
        }
        i = random(70);
        if (i == 1[?]) {
            print "Queen's ~I Want To Break Free~.";
        }
        if (i == 2[?]) {
            print "Bach's ~Air on a G-string~.";
        }
        if (i == 3[s_obj?]) {
            print "Mozart's ~Musical Joke~.";
        }
        if (i == 4[e_obj?]) {
            print "Stockhausen's ~Piano Pieces I-IX~.";
        }
        if (i == 5[w_obj?]) {
            print "Beethoven's ~Moonlight Sonata~.";
        }
        if (i == 6[ne_obj?]) {
            print "Summer from Vivaldi's ~Four Seasons~.";
        }
        if (i == 7[nw_obj?]) {
            print "the especially slow movement of Gorecki's ~Symphony no. 3~.";
        }
        if (i == 8[se_obj?]) {
            print "Spandau Ballet's ~Gold~.";
        }
        if (i == 9[sw_obj?]) {
            print "Duran Duran's ~Is There Something I Should Know?~.";
        }
        if (i == 10[ceiling?]) {
            print "Derek and the Dominos' ~Layla~.";
        }
        if (i == 11[floor?]) {
            print "Don Maclean's ~American Pie~.";
        }
        if (i == 12[thedark?]) {
            print "Chopin's ~Nocturne no. 1~.";
        }
        if (i == 13[Grahams_Lair?]) {
            print "something by Jean-Michel Jarre.";
        }
        if (i == 14[Attic?]) {
            print "the Beatles' ~Yellow Submarine~.";
        }
        if (i == 15[hinged_trapdoor?]) {
            print "the Beatles' ~She Loves You~.";
        }
        if (i == 16[teachests?]) {
            print "the Beatles' ~Hey Jude~.";
        }
        if (i == 17[Meldrews_History?]) {
            print "the Beatles' ~Lucy in the Sky with Diamonds~.";
        }
        if (i == 18[antique_jewellery_box?]) {
            print "Queen's ~Bohemian Rhapsody~.";
        }
        if (i == 19[four_leafed_clover?]) {
            print "the Beatles' ~Magical Mystery Tour~.";
        }
        if (i == 20[rod_of_luck?]) {
            print "the Beatles' ~I Am The Walrus~.";
        }
        if (i == 21[yourself?]) {
            print "Bill Haley's ~Rock Around the Clock~.";
        }
        if (i == 22[crumpled_piece_of_paper?]) {
            print "the old Elvis Presley number ~Jailhouse Rock~.";
        }
        if (i == 23[electric_torch?]) {
            print "the old Elvis Presley number ~Blue Suede Shoes~.";
        }
        if (i == 24[old_smudged_battery?]) {
            print "ELO's ~Mr Blue Sky~.";
        }
        if (i == 25[chocolate_biscuit?]) {
            print "Sky's arrangement of Bach's Toccata in D minor for organ.";
        }
        if (i == 26[Servants_Room?]) {
            print "ABC's ~The Look of Love~.";
        }
        if (i == 27[servants_bed?]) {
            print "the Beach Boys' ~Californian Girls~.";
        }
        if (i == 28[old_striped_scarf?]) {
            print "the Stranglers' ~Golden Brown~.";
        }
        if (i == 29[House?]) {
            print "Genesis' ~That's All~.";
        }
        if (i == 30[Old_Furniture?]) {
            print "Grieg's piano concerto.";
        }
        if (i == 31[furniture?]) {
            print "Bruce Springsteen's ~Born in the USA~.";
        }
        if (i == 32[scratched_cupboard?]) {
            print "Beethoven's Symphony no. 5.";
        }
        if (i == 33[gift_wrapped_parcel?]) {
            print "Beethoven's ~Emperor~ piano concerto.";
        }
        if (i == 34[box_of_chocolates?]) {
            print "Mozart's ~Elvira Madigan~ concerto.";
        }
        if (i == 35[wrapping_paper?]) {
            print "Bach's Brandenburg Concerto no. 5.";
        }
        if (i == 36[postcard?]) {
            print "Deep Purple's ~Smoke On The Water~.";
        }
        if (i == 37[medicine_bottle?]) {
            print "Faure's Requiem.";
        }
        if (i == 38[red_tablet?]) {
            print "Tchaikovsky's ~1812 Overture~.";
        }
        if (i == 39[Over_the_East_Wing?]) {
            print "the Dying Swan from Saint-Saens' ~Carnival of the Animals~.";
        }
        if (i == 40[Dark_Room?]) {
            print "the ~O Fortuna~ from Carl Orff's ~Carmina Burana~.";
        }
        if (i == 41[hanging_cord?]) {
            print "Led Zeppelin's ~Stairway to Heaven~.";
        }
        if (i == 42[sepia_photograph?]) {
            print "the Bugs Bunny theme tune.";
        }
        if (i == 43[flash?]) {
            print "Strauss' ~Blue Danube~ waltz.";
        }
        if (i == 44[Disused_Observatory?]) {
            print "the Star Wars theme tune.";
        }
        if (i == 45[solid_glass_ball?]) {
            print "the Star Trek theme tune.";
        }
        if (i == 46[Library_Storage?]) {
            print "the Dallas theme tune.";
        }
        if (i == 47[romantic_novel?]) {
            print "Wagner's ~Ride of the Valkyries~ overture.";
        }
        if (i == 48[poetry_book?]) {
            print "Dire Straits' ~Money For Nothing~.";
        }
        if (i == 49[Souvenirs_Room?]) {
            print "Dire Straits' ~Brothers In Arms~.";
        }
        if (i == 50[slide_projector?]) {
            print "Dire Straits' ~Tunnel Of Love~.";
        }
        if (i == 51[south_wall?]) {
            print "Wham's ~Wake Me Up Before You Go-Go~.";
        }
        if (i == 52[East_Annexe?]) {
            print "something abysmal by Leo Sayer.";
        }
        if (i == 53[insulation_rolls?]) {
            print "Lionel Richie's ~Hello~.";
        }
        if (i == 54[new_battery?]) {
            print "Hot Chocolate's ~Happy Birthday~.";
        }
        if (i == 55[cupboard_door?]) {
            print "Abba's ~Mama Mia~.";
        }
        if (i == 56[Dead_End?]) {
            print "Abba's ~Knowing Me, Knowing You~.";
        }
        if (i == 57[canvas_rucksack?]) {
            print "Barry Manilow's ~I Write The Songs~.";
        }
        if (i == 58[secret_door?]) {
            print "Ian Dury and the Blockheads' ~Hit Me With Your Rhythm Stick~.";
        }
        if (i == 59[Inside_Cupboard?]) {
            print "Ravel's ~Bolero~.";
        }
        if (i == 60[painting_of_Mad_Isaac_Meldrewe?]) {
            print "~Nessun Dorma~, as sung simultaneously by Pavarotti, Carreras and Dolly Parton.";
        }
        if (i == 61[big_iron_fireplace?]) {
            print "Michael Jackson's ~Thriller~.";
        }
        if (i == 62[cranked_skylight?]) {
            print "Michael Jackson's ~Billy Jean~.";
        }
        if (i == 63[gas_mask?]) {
            print "Michael Jackson's ~Beat It~.";
        }
        if (i == 64[Roof?]) {
            print "Kylie Minogue's ~I Should Be So Lucky~.";
        }
        if (i == 65[Battlements?]) {
            print "the Eurovision Song Contest's finest five minutes, ~Diggy-Loo Diggy-Lay (Life Is Going My Way)~.";
        }
        if (i == 66[iron_key?]) {
            print "Dexy's Midnight Runners' ~Come on Eileen~.";
        }
        if (i == 67[Sir_Joshua_Meldrewe?]) {
            print "Steppenwolf's ~Born to be Wild~.";
        }
        if (i == 68[Chimney?]) {
            print "John Cage's tuneful ~Four minutes and thirty-three seconds~.";
        }
        if (i == 69[sooty_old_stick?]) {
            print "Toto's ~The Eye of the Tiger~.";
        }
        if (i == 70[rod_of_fire?]) {
            print "Cindi Lauper's ~Girls Just Wanna Have Fun~.";
        }
        new_line;
    }
    if (0 ~= ResetTimer(antiquated_wireless)) {
        give antiquated_wireless general;
        i = 111[antiquated_wireless?];
        i = parent(i);
        if (location == i) {
            print "^The radio valves glow, and execrable so-called easy listening music fills the air with a sort of bland aural candy-floss.^";
        }
        if (location == Potting_Room && i == 107[Conservatory?]) {
            print "^Execrable music begins to sound from the conservatory, and Aunt Jemima hums vacantly.^";
        }
    }
    if (game_section == ANCIENT_BRITAIN) {
        if (0 ~= ResetTimer(kitchen_well)) {
            i = parent(player);
            if (i == 236[Triclinium?]) {
                give kitchen_well general;
                print "^You hear a splash from far down in the depths of the well.^";
            }
        }
        if (CouncilCnt == 1) {
            print "^From up on the hill you hear the blowing of a horn.^";
        }
        if (CouncilCnt == 2) {
            print "^Horses are approaching the villa, coming down the hill.^";
        }
        if (CouncilCnt == 3) {
            print "^The sound of horses draws nearer.^";
        }
        if (CouncilCnt == 4 && location == Entrance) {
            print "^Horsemen suddenly gallop into the courtyard and you are soon ringed by guards!^";
            Capture();	! not popped
            @pop;
        }
        if (CouncilCnt == 4) {
            print "^There is definitely activity outside the villa.^";
        }
        if (CouncilCnt >= 5) {
            if (location == Entrance) {
                print "^You walk straight into the guards.^";
                Capture();	! not popped
                @pop;
            }
            if (location == Roman_Villa) {
                print "^You walk straight into the guards at the back door.^";
                Capture();	! not popped
                @pop;
            }
        }
        if (CouncilCnt == 7) {
            print "^There is sudden activity as the guards make a thorough search of the villa, just to be on the safe side. ";
            if (location == Hypocaust) {
                print "Luckily, they don't even think of looking down in here.^";
            } else {
                if (location == Inside_Well) {
                    print "Unfortunately, they do think of looking into the kitchen well, and drag you out onto the triclinium floor.^";
                }
                if (location ~= Inside_Well) {
                    print "The virtue of doing so is demonstrated when they find you without difficulty.^";
                }
                Capture();	! not popped
                @pop;
            }
        }
        if (CouncilCnt > 7 && location == Triclinium) {
            print "^An industrious-looking slave (who cooks for the horsemen) is rather surprised to see you, but with creditable presence of mind he summons the guard at once.^";
            Capture();	! not popped
            @pop;
        }
        if (location == Hypocaust) {
            if (CouncilCnt == 8) {
                print "^You hear men walking across the mosaic just above your head.^";
            }
            if (CouncilCnt == 9) {
                print "^A voice, which can just be heard through the vent, says ";
                if (KnowLanguages == false) {
                    print "something in Anglo-Saxon or Celtic (hard to say which).^";
                    jump label25958;
                }
                print "~Welcome, great masters. We are convened in secret conclave to decide the fate of Britain. Lament, for the old ways are passing!  There will be a dark age, a collapse into many monarchies, and any man who can hold a town will call himself King and heir to Vortigern.~^";
            }
            if (CouncilCnt == 10) {
                print "^A younger, more impatient voice, says ";
                if (KnowLanguages == false) {
                    print "something else.^";
                    jump label25958;
                }
                print "~This is an opportunity!  We must be the power behind the thrones, we will in secret unite and be the true force of the land...~^";
            }
            if (CouncilCnt == 11) {
                print "^There is cynical laughter for a moment, and a third voice interjects ";
                if (KnowLanguages == false) {
                    print "something.^";
                    jump label25958;
                }
                print "~And who will lead this, this unity?  We take all sides and none, you know that. There are potent druids in the tents of each general down there in the rabble. They'd kill each other without hesitation on the battlefield.~^";
            }
            if (CouncilCnt == 12) {
                print "^The first voice speaks once more. ";
                if (KnowLanguages == false) {
                    new_line;
                    jump label25958;
                }
                print "~Far worse is to come. The jumped-up kings and their new men will no longer believe in the ancient powers. Already I can feel the druidic magic weakening away, and we are perilously close to the nexus now. In the valleys below, armies wait to fight the decisive battle. Whichever side wins, they will no longer need us. In a matter of hours, the power will be broken forever.~^";
            }
            if (CouncilCnt == 13) {
                print "^After a sombre silence, a much older voice says ";
                if (KnowLanguages == false) {
                    print "something wise. It really is a pity you can't understand them.^";
                    jump label25958;
                }
                print "~You did right to call us together. There is a path prepared for us, but the sacrifice will be terrible. We must concentrate all the remaining druidical energy into this sacred hill, that it may last through all time, and we must ensure that druids live on this site forever and keep the faith.~^";
            }
            if (CouncilCnt == 14) {
                print "^The younger voice speaks again. ";
                if (KnowLanguages == false) {
                    new_line;
                    jump label25958;
                }
                print "~For now, yes, for a century or two, yes, but what then?  They will forget the old ways, they will no longer truly be druids.~^";
            }
            if (CouncilCnt == 15) {
                print "^The older voice replies triumphantly. ";
                if (KnowLanguages == false) {
                    new_line;
                } else {
                    print "~This is what must be done. They will forget, so we must give them a substitute. We shall accurse them to always seek after this magical stone, which it will be all but impossible for them to find. It will take the form of whatever they most desire. In six hundred years, by my prophecy, religious wars in the East will capture men's hearts, and then they will think it is the Holy Grail, the cup which held the blood of Christ. A thousand years later they will think it is -~  But at this moment the voices move away.^";
                }
            }
        }
      .label25958;
        if (CouncilCnt ~= 0) {
            ++CouncilCnt;
        }
        if (0 ~= ResetTimer(tent_pole)) {
            print "^Without warning a Saxon spy (or, as the guards would no doubt put it, another Saxon spy) is thrown bodily into the tent, careering into the central pole and slumping unconscious on the ground as a result. For a moment the whole tent rocks with the force - the pole was nearly broken.^";
            give tent_pole ~static;
            i = 245[saxon_spy?];
            remove i;
            move i to Rough_Tent;
            StartTimer(saxon_spy,5);	! not popped
            @pop;
        }
        if (location == Rough_Tent && 0 ~= ResetTimer(saxon_spy)) {
            i = 245[saxon_spy?];
            i = parent(i);
            if (i == 242[Rough_Tent?]) {
                print "^Men arrive to drag the Saxon spy away to some unguessable grisly fate. They grimace at you as if to say, ~You're next.~^";
                j = 245[saxon_spy?];
                remove j;
                StartTimer(saxon_spy,5);	! not popped
                @pop;
            }
            if (i == 0) {
                deadflag = DIED;
                print "^The men arrive once more and this time they securely grab you by the arms. If you were an anthropologist, you'd be fascinated by the ritual in which you are bound up, then garotted with a cord and laid into a peat swamp. Instead, your last thought is to remember the celebrated body they found when they drained the marshes in 1974 to build a motorway service station.^";
            }
        }
        if (0 ~= ResetTimer(Encampment)) {
            print "^It had to happen sooner or later. One of the druids looks round, sees you and raises an instant alarm. It is absolutely hopeless and you are dragged away screaming to your fate.^";
            deadflag = DIED;
        }
    }
    if (location == Potting_Room && 0 ~= ResetTimer(Jemima)) {
        print "^~There we are!  All done now.~  Jemima hangs a daisy chain around your neck, then frowns and adjusts your hair in an exceedingly annoying way.^";
        i = 115[daisy_chain?];
        move i to player;
        give daisy_chain worn;
    }
    if (deadflag ~= 0) {
        ! no code
    } else if (BombTicking == true) {
        if (0 ~= DecrementTimer(timer_detonater)) {
            BombTicking = false;
            i = 191[timer_detonater?];
            j = parent(i);
          .label26898;
            if (nothing ~= parent(i)) {
                i = parent(i);
                jump label26898;
            }
            if (location == i) {
                print "^You hear a sharp click!^";
                if (j == 43[flash?]) {
                    k = child(j);
                    if (k == timer_detonater) {
                        k = sibling(k);
                    }
                    if (k == nothing) {
                        print "But the flash does nothing.^";
                        jump label28458;
                    }
                    if (k ~= nasty_battery) {
                        print "And the flash gives a pathetically small flash of light.^";
                        jump label28458;
                    }
                    print "The flash suddenly gives an enormous magnesium-flare flash, almost blinding in its intensity. Your eyes take a little while to adjust. ";
                    k = flash;
                    k = parent(k);
                    if (k == mirrored_device && flash hasnt general) {
                        give flash general;
                        print "Consequently you can only hear as the smudge on the horizon rises from the waves, becomes an enormous Kraken sea monster and lunges for the stone tower. (Considering this is supposed to be a Greek myth it feels surprisingly like a Japanese 1960s creature film.)  The Kraken swipes at you, overreaches itself and falls over forward, impaling itself extremely messily on the pharos. Your eyes just about recover by the time the rest of your body is crushed by its weight.^^Up on Mount Olympus, Zeus is still cross. ~Take me to your Leda~, you wittily demand, but this does not seem to improve matters. Poseidon also looks rather fed up, but luckily a sizeable faction of goddesses take your side and arrange to have you resurrected...^";
                        Achieved(SCORE_ANDROMEDA);	! not popped
                        @pop;
                        location = Souvenirs_Room;
                        remove player;
                        move player to location;
                        LookSub(true);	! not popped
                        @pop;
                        jump label28458;
                    }
                    new_line;
                }
            }
        }
    } else {
        if (location == Cups_and_Glasses) {
            if (Cups_and_Glasses hasnt general) {
                i = 196[Cups_and_Glasses?];
                i.number = turns;
                give Cups_and_Glasses general;
            }
            i = 196[Cups_and_Glasses?];
            i = turns - i.number;
            if (i == 2[?]) {
                print "^There is a scuffling noise as some men gather up on the pavement outside the skylight.^";
            }
            if (i == 3[s_obj?]) {
                print "^The men begin to talk like conspirators. You catch occasional sounds, but can make little sense of them.^";
            }
            if (i == 4[e_obj?]) {
                print "^Alarmingly, you catch the odd word ~bomb~ and are almost sure you can make out someone say ~get that Meldrew~. Paranoia, bound to be.^";
            }
            if (i == 5[w_obj?]) {
                print "^The men walk away, perhaps a few feet, perhaps a mile.^";
            }
        }
        if (location == Ruined_Castle_Cafe) {
            if (complicated_looking_bomb hasnt edible) {
                if (complicated_looking_bomb hasnt concealed) {
                    new_line;
                    DescribeDetonator();	! not popped
                    @pop;
                }
                if (complicated_looking_bomb has concealed) {
                    print "^The table rattles again.^";
                }
            }
            if (0 ~= DecrementTimer(timer_detonater)) {
                give complicated_looking_bomb edible;
                if (complicated_looking_bomb has general) {
                    if (194[blue_wire?] ~= BombWires->0) {
                        ! no code
                    } else if (192[green_wire?] ~= BombWires->1) {
                        ! no code
                    } else if (195[black_wire?] ~= BombWires->2) {
                        ! no code
                    } else if (193[red_wire?] ~= BombWires->3) {
                        ! no code
                    } else {
                        print "^Click!  The timer runs out, but the bomb was disarmed. You pocket the timer and hide the rest of the evidence under the table.^";
                        i = 191[timer_detonater?];
                        remove i;
                        move i to player;
                        give timer_detonater ~static;
                        i = 190[complicated_looking_bomb?];
                        remove i;
                        jump label28458;
                    }
                    print "Click!  Perhaps there's more to bomb disposal than you thought.^";
                }
                print "^In a sudden cataclysm, there is an enormous explosion from your table, blowing out all the arrowslit windows, making a thunderous noise, starting a minor fire, and of course having one other consequence:^";
                deadflag = DIED;
            }
        }
    }
  .label28458;
    if (0 ~= ResetTimer(Coven_Cell)) {
        if (location == Museum_of_Arcana) {
            print "^Doktor Stein appears and steps toward you, clapping his hands sharply. Suddenly dozens of robed figures leap out of the darkness. Their faces are painted hideously and they betray no emotion as they pinion you tight...^^Stein forces your mouth open and makes you swallow a violet pill. ~One of your apothecary ancestors made this drug!  Appropriate, no?~^^", "You feel queasy, but this is perhaps the least of your problems as they drag you off...^^";
            location = Coven_Cell;
            remove player;
            move player to Coven_Cell;
            give player general;
            StartTimer(Coven_Cell,5);	! not popped
            @pop;
            LookSub();	! not popped
            @pop;
        } else if (location == Coven_Cell) {
            print "^A key turns in the door and Doktor Stein bursts in. He stops to pat the goat affectionately. ~Cheer up, Dobbin. As soon as I've finished this brutal human sacrifice I'll take you for your walk.~  He feeds Dobbin some sugar-cake. ~They make such marvellous cheese,~ he explains confidentially.^";
            deadflag = DIED;
            if (player has general) {
                "^In a trance, you go willingly to your (somewhat messy) sacrifice...";
            }
            "^Kicking and screaming, you are are dragged off to a grisly sacrifice...";
        }
    }
    i = global7;
    global7 = HasLightSource(parent(player));
    if (i == 0 && global7 == 1[?]) {
        new_line;
        location = parent(player);
        LookSub(true);	! not popped
        @pop;
    }
    if (i == 1[?] && global7 == 0) {
        new_line;
        print "It is now pitch dark in here!^";
        location = thedark;
    }
    rtrue;
];

[ ResetTimer obj i ;	! 29230 / 0x722e
    i = obj.number;
    if (i > turns) {
        rfalse;
    }
    if (i == 0) {
        rfalse;
    }
    obj.number = 0;
    rtrue;
];

[ DecrementTimer o i ;	! 29258 / 0x724a
    i = o.number;
    if (i == 0) {
        rfalse;
    }
    --i;
    o.number = i;
    if (i > 0) {
        rfalse;
    }
    rtrue;
];

[ StartTimer o i ;	! 29288 / 0x7268
    i = turns + i;
    o.number = i;
    rtrue;
];

[ CountDown o i ;	! 29304 / 0x7278
    i = o.number - turns;
    return i;
];

[ TorchTimer o i local3 ;	! 29320 / 0x7288
    i = o.number - 1;
    if (i < 100) {
        o.number = i;
    }
    if (i == 2) {
        print "^The torch flickers ominously.^";
    }
    if (i == 0) {
        print "^The torch finally dies out.^";
        give electric_torch ~light;
    }
    rtrue;
];

[ JoshuaDaemon who num local3 ;	! 29408 / 0x72e0
    who = Sir_Joshua_Meldrewe;
    num = who.number - 1;
    who.number = num;
    if (num == 4) {
        print "^The ghost laughs in a gurgling kind of way, as it were always coughing and spluttering.^";
    }
    if (num == 3) {
        print "^The ghost begins to speak:^^                       My hour is almost come^   When I to sulph'rous and tormenting flames^   Must render up myself...^^Can this possibly be the infamous Sir Joshua Meldrewe?^";
    }
    if (num == 2) {
        print "^~But not yet it hasn't, mark my word. And there's the burden of my inheritance, little wart!  Get thee from my sight ere I slice thee as befits a hog!~^";
    }
    if (num == 1) {
        print "^~I prithee once more, begone!~^";
    }
    if (num == 0) {
        print "^The ghost swoops around and through you, making you scream with panic. Somehow you manage to run back to safety, where your family (who never believe a word of it) give you plenty of tea and occupy you with holiday arrangements. As for you, you are so traumatised that you never venture into the attic again.^";
        deadflag = FAILED;
    }
    rtrue;
];

[ HasLightSource i ;	! 30036 / 0x7554
    if (i has light) {
        rtrue;
    }
    if (i has container && i has transparent && i hasnt open) {
        rfalse;
    }
    i = child(i);
  .label30065;
    if (i ~= nothing) {
        if (true == HasLightSource(i)) {
            rtrue;
        }
        i = sibling(i);
        jump label30065;
    }
    rfalse;
];

[ Achieved ndx i ;	! 30090 / 0x758a
    i = score_array2->ndx;
    if (i == 0) {
        score_array2->ndx = 1[?];
        if (ndx ~= SCORE_DOLEMN) {
            score = score + task_scores->ndx;
        }
        if (ndx == SCORE_DOLEMN) {
            score = score - 50;
        }
    }
    rtrue;
];

[ MouseMove o rm local3 x1 x2 ;	! 30132 / 0x75b4
    if (verb ~= ##Go) {
        "The mouse emits a querulous, unhappy bleep.";
    }
    if (noun == ne_obj) {
        noun = ceiling;
    }
    if (noun == nw_obj) {
        noun = ceiling;
    }
    if (noun == se_obj) {
        noun = ceiling;
    }
    if (noun == sw_obj) {
        noun = ceiling;
    }
    if (noun == floor) {
        noun = ceiling;
    }
    if (noun == ceiling) {
        "The mouse bleeps with annoyance.";
    }
    o = robot_mouse;
    o = parent(o);
    if (o == Cellars_South) {
        if (noun == n_obj) {
            rm = Cellars;
            jump label30695;
        }
        if (noun == w_obj) {
            rm = hole_in_the_wall;
            Mouse_x = 8;
            Mouse_y = 3;
            jump label30695;
        }
    } else if (o == Cellar_West) {
        if (noun == e_obj) {
            rm = Cellars;
            jump label30695;
        }
    } else if (o == Cellars) {
        if (noun == w_obj) {
            rm = Cellar_West;
            jump label30695;
        }
        if (noun == s_obj) {
            rm = Cellars_South;
            jump label30695;
        }
    } else {
        if (o == hole_in_the_wall) {
            if (Mouse_x == 8 && Mouse_y == 3 && noun == e_obj) {
                rm = Cellars_South;
                jump label30695;
            }
            if (noun == n_obj) {
                x1 = Mouse_x;
                x2 = Mouse_y - 1;
            }
            if (noun == e_obj) {
                x1 = Mouse_x + 1;
                x2 = Mouse_y;
            }
            if (noun == s_obj) {
                x1 = Mouse_x;
                x2 = Mouse_y + 1;
            }
            if (noun == w_obj) {
                x1 = Mouse_x - 1;
                x2 = Mouse_y;
            }
            if (MouseMove2(x1,x2) == true) {
                "From somewhere inside the hole, you hear a disconsolate bleep.";
            }
            Mouse_x = x1;
            Mouse_y = x2;
            if (Mouse_x == 4 && Mouse_y == 1) {
                o = small_brass_key;
                o = parent(o);
                if (o == hole_in_the_wall) {
                    o = small_brass_key;
                    remove o;
                    move o to robot_mouse;
                    "From somewhere inside the hole, you hear the spinning of tiny wheels, followed by an excitable high-pitched beep and a dull clanging noise.";
                }
            }
            "From somewhere inside the hole, you hear tiny wheels spin.";
        }
        "The mouse wheels spin, but can't get a good enough grip to move.";
      .label30695;
        local3 = o;
        o = robot_mouse;
        remove o;
        move o to rm;
        give robot_mouse moved;
        if (location == local3) {
            if (rm == hole_in_the_wall) {
                "The mouse just squeezes through the hole, and disappears from view. Unfortunately you can't very easily talk to it now...";
            }
            if (rm ~= hole_in_the_wall) {
                "The mouse runs off as ordered.";
            }
        }
        if (location == rm) {
            print "The mouse runs back out of the hole, looking dustier but none the worse for its adventure";
            o = small_brass_key;
            o = parent(o);
            if (o ~= robot_mouse) {
                ".";
            }
            o = small_brass_key;
            remove o;
            move o to Cellars_South;
            ", and then almost looks proud as a magnet cuts out and something metal drops off the underside of the mouse onto the floor. The lost key is found!";
        }
        rtrue;
    }
    "The mouse emits a low-pitched bleep.";
];

[ ScoreSub score_var ;	! 31054 / 0x794e
    if (deadflag == 0) {
        if (game_section == MODERN) {
            print "This is the afternoon of June 3rd, 1993, and you are in Meldrew House. ";
        }
        if (game_section == UNREAL) {
            print "It is early morning on October 5th, 1922, and you are in the Unreal City. ";
        }
        if (game_section == HAMBURG) {
            print "It is nearly midnight on October 31st, 1988, and you are in a museum in Hamburg. ";
        }
        if (game_section == TAROT) {
            print "You are passing among the ancient, unearthly world of the Tarot box. ";
        }
        if (game_section == GARDEN) {
            print "It is the afternoon of June 3rd, 1993, and you are in the gardens. ";
        }
        if (game_section == GARDEN_PAST) {
            print "It is about noon on March 14th, 1808, and you are in the gardens. ";
        }
        if (game_section == ANCIENT_BRITAIN) {
            print "It is some time in the sixth century A.D., and you are in the Master Game. ";
        }
        if (game_section == DREAMING) {
            print "Time seems to have no meaning, and you are dreaming. ";
        }
        print "You have so far scored ";
    }
    if (deadflag > 0) {
        print "In that game you scored ";
    }
    print score, " out of a possible 300, in ", turns, " turns, earning you the rank of ";
    score_var = score;
    if (0 ~= score_array2->11) {
        score_var = score_var - 50;
    }
    if (score_var >= 250) {
        "happy Tourist.";
    }
    if (score_var == 249) {
        "very nearly happy Tourist.";
    }
    if (score_var >= 225) {
        "Druid.";
    }
    if (score_var >= 200) {
        "Master Navigator.";
    }
    if (score_var >= 175) {
        "Master Voyager.";
    }
    if (score_var >= 150) {
        "Voyager.";
    }
    if (score_var >= 125) {
        "Explorer.";
    }
    if (score_var >= 100) {
        "Adventurer.";
    }
    if (score_var >= 75) {
        "Connoisseur.";
    }
    if (score_var >= 50) {
        "Dilletante.";
    }
    if (score_var >= 35) {
        "cynical Tourist.";
    }
    if (score_var >= 20) {
        "experienced Tourist.";
    }
    if (score_var >= 5) {
        "casual Tourist.";
    }
    if (score_var >= 1) {
        "gauche Tourist.";
    }
    if (score_var >= 0) {
        "hapless Tourist.";
    }
    if (0 == 99 + score_var) {
        "highly negligent deity.";
    }
    "accursed Tourist.";
];

[ PadInteger i j ;	! 31948 / 0x7ccc
    print "  ";
    j = i;
    if (j < 0) {
        j = 0 - i;
        j = j * 10;
    }
    if (j < 10) {
        print "   ";
    } else if (j < 100) {
        print "  ";
    } else if (j < 1000) {
        print " ";
    }
    print i, " ";
    rtrue;
];

[ PrintTaskName task_number final_score ;	! 32012 / 0x7d0c
    if (task_number == SCORE_DOLEMN) {
        final_score = 0;
        final_score = final_score - 50;
    }
    PadInteger(final_score);	! not popped
    @pop;
    if (task_number == SCORE_HAMBURG) {
        "reading postcard";
    }
    if (task_number == SCORE_TORCH) {
        "recharging torch";
    }
    if (task_number == SCORE_JOSHUA) {
        "exorcism";
    }
    if (task_number == SCORE_SECRETDOOR) {
        "opening secret door";
    }
    if (task_number == SCORE_DEMIJOHN) {
        "opening demijohn";
    }
    if (task_number == SCORE_WAITER) {
        "using dumbwaiter";
    }
    if (task_number == SCORE_WAND) {
        "charging a rod";
    }
    if (task_number == SCORE_AIMWAND) {
        "firing a rod";
    }
    if (task_number == SCORE_WIRELESS) {
        "exposing radio";
    }
    if (task_number == SCORE_CALENDAR) {
        "turning calendar";
    }
    if (task_number == SCORE_CHOCOLATE) {
        "placating Aunt Jemima";
    }
    if (task_number == SCORE_ANDROMEDA) {
        "rescuing Andromeda";
    }
    if (task_number == SCORE_BATTERY) {
        "uncovering battery";
    }
    if (task_number == SCORE_TOURIST) {
        "buying map of Paris";
    }
    if (task_number == SCORE_INFINITY) {
        "filling the arc";
    }
    if (task_number == SCORE_TRICLINIUM) {
        "getting into the well";
    }
    if (task_number == SCORE_DOLEMN) {
        "acquiring the mascot";
    }
    if (task_number == SCORE_BISCUIT) {
        "eating between meals";
    }
    "(something else)";
];

[ FullScoreSub local1 local2 local3 local4 ;	! 32374 / 0x7e76
    ScoreSub();	! not popped
    @pop;
    if (score == 0) {
        rfalse;
    }
    new_line;
    local4 = 0;
    if (deadflag > 0) {
        print "The score was ";
    }
    if (deadflag == 0) {
        print "The score is ";
    }
    print "made up as follows:^^";
    local1 = 0;
    --local1;
  .label32453;
    if (local1 < 17) {
        ++local1;
        local2 = task_scores->local1;
        local3 = score_array2->local1;
        if (local3 == 1[?]) {
            PrintTaskName(local1,local2);	! not popped
            @pop;
            local4 = local4 + local2;
        }
        jump label32453;
    }
    if (rod_score ~= 0) {
        PadInteger(rod_score);	! not popped
        @pop;
        print "discovering rods^";
    }
    if (things_score ~= 0) {
        PadInteger(things_score);	! not popped
        @pop;
        print "finding sundry items^";
    }
    if (places_score ~= 0) {
        PadInteger(places_score);	! not popped
        @pop;
        print "visiting various places^";
    }
    if (good_try_bonus ~= false) {
        PadInteger(5);	! not popped
        @pop;
        print "bonus for a good try^";
    }
    local4 = local4 + (rod_score + (things_score + places_score));
    if (good_try_bonus ~= false) {
        local4 = local4 + 5;
    }
    if (score + 99 == 0) {
        local4 = local4 + 99;
        local4 = 0 - local4;
        PadInteger(local4);	! not popped
        @pop;
        print "destroying universe^";
    }
    new_line;
    PadInteger(score);	! not popped
    @pop;
    print "total (out of 300)^";
    if (deadflag == WON && 0 == score_array2->11) {
        print "^You missed out on the 50-point bonus for rescuing Andromeda, sad to tell.^";
    }
    rfalse;
];

[ QuitSub i ;	! 32762 / 0x7ffa
    print "Are you sure you want to quit? ";
  .label32788;
    @sread buffer parse;
    i = parse-->1;
    if (i == 'yes') {
        @quit;
    }
    if (i == 'y//') {
        @quit;
    }
    if (i == 'no') {
        rtrue;
    }
    if (i == 'n//') {
        rtrue;
    }
    print "Please answer yes or no.", '>', ' ';
    jump label32788;
    rtrue;
];

[ routine_805a ;	! 32858 / 0x805a
    @quit;
    rtrue;
];

[ RestartSub i ;	! 32862 / 0x805e
    print "Are you sure you want to restart? ";
  .label32890;
    @sread buffer parse;
    i = parse-->1;
    if (i == 'yes') {
        @restart;
    }
    if (i == 'y//') {
        @restart;
    }
    if (i == 'no') {
        rtrue;
    }
    if (i == 'n//') {
        rtrue;
    }
    print "Please answer yes or no.", '>', ' ';
    jump label32890;
    rtrue;
];

[ RestoreSub ;	! 32960 / 0x80c0
    @restore ?label32970;
    "Failed.";
  .label32970;
    new_line;
    LookSub();	! not popped
    @pop;
    rtrue;
];

[ SaveSub ;	! 32978 / 0x80d2
    @save ?label32988;
    "Failed.";
  .label32988;
    print "Ok.^";
    rtrue;
];

[ ScriptOnSub local1 ;	! 32996 / 0x80e4
    if (transcript_mode == 1) {
        "Transcripting is already on.";
    }
    transcript_mode = 1;
    local1 = 0-->8 | 1;
    0-->8 = local1;
    print "Start of a transcript of^";
    Banner();	! not popped
    @pop;
    rtrue;
];

[ ScriptOffSub local1 ;	! 33068 / 0x812c
    if (transcript_mode == 0) {
        "Transcripting is already off.";
    }
    print "^End of transcript.^";
    transcript_mode = 0;
    local1 = 0-->8 & 65534;
    0-->8 = local1;
    rtrue;
];

[ InvSub local1 ;	! 33136 / 0x8170
    local1 = child(player);
    if (local1 == 0) {
        "You are carrying nothing.";
    }
    print "You are carrying:^";
    routine_81a6(player);	! not popped
    @pop;
    rtrue;
];

! References: Folly.name, Cliffs.name

[ routine_81a6 local1 local2 local3 local4 ;	! 33190 / 0x81a6
    local3 = 1[?];
    if (local2 ~= 0) {
        local4 = 1[?];
        --local4;
      .label33212;
        if (local4 < local2) {
            ++local4;
            print "  ";
            jump label33212;
        }
        local3 = DescribeObj(local1,0);
        new_line;
    }
    if (local3 == 0) {
        rtrue;
    }
    local3 = child(local1);
  .label33243;
    if (local3 ~= 0) {
        routine_81a6(local3,local2 + 1);	! not popped
        @pop;
        local3 = sibling(local3);
        jump label33243;
    }
    rtrue;
];

[ TakeSub local1 ;	! 33268 / 0x81f4
    local1 = routine_8220(location);
    if (local1 ~= 0) {
        rtrue;
    }
    if (1 == AfterRoutines()) {
        rtrue;
    }
    notheld_mode = onotheld_mode;
    if (notheld_mode == false) {
        print "Taken.^";
    }
    rtrue;
];

[ routine_8220 local1 local2 local3 local4 ;	! 33312 / 0x8220
    if (noun == player) {
        "As the bishop said to the actress.";
    }
    if (noun has animate) {
        print "I don't suppose ";
        Defart(noun);	! not popped
        @pop;
        " would care for that.";
    }
    local2 = parent(noun);
    if (local2 == player) {
        "You already have that.";
    }
  .label33418;
    if (local2 ~= local1) {
        if (local2 hasnt container) {
            "That isn't available.";
        }
        if (local2 hasnt open) {
            "Unfortunately the ", (name) local2, " isn't open.";
        }
        local2 = parent(local2);
        if (local2 == player) {
            local2 = local1;
        }
        jump label33418;
    }
    if (noun has scenery) {
        "That's hardly portable.";
    }
    if (noun == antiquated_wireless) {
        "It's too heavy to lift off the casters.";
    }
    if (noun has static) {
        "Fixed in place.";
    }
    local3 = child(player);
    local4 = 0;
  .label33575;
    if (local3 ~= 0) {
        if (local3 hasnt worn) {
            local4 = local4 + 1;
        }
        local3 = sibling(local3);
        jump label33575;
    }
    if (local4 > 4) {
        if (parent(canvas_rucksack) ~= player) {
            "You're carrying too many things already.";
        }
        local4 = child(player);
        local3 = 0;
      .label33647;
        if (local4 ~= 0) {
            if (local4 ~= 57[canvas_rucksack?] && local4 hasnt worn && local4 ~= 23[electric_torch?]) {
                local3 = local4;
            }
            local4 = sibling(local4);
            jump label33647;
        }
        if (local3 ~= 0) {
            print "(putting ";
            Defart(local3);	! not popped
            @pop;
            print " into the rucksack to make room)^";
            remove local3;
            move local3 to canvas_rucksack;
        } else {
            "You're carrying too many things already.";
        }
    }
    remove noun;
    move noun to player;
    give noun ~concealed;
    if (noun hasnt moved) {
        give noun moved;
        if (noun has scored) {
            score = score + 4;
            things_score = things_score + 4;
        }
    }
    rfalse;
];

! References: Attic.name

[ DropSub env unused unused2 ;	! 33792 / 0x8400
    env = parent(noun);
    if (env == location) {
        "Already on the floor.";
    }
    if (env ~= player) {
        "You haven't got that.";
    }
    if (noun has worn) {
        print "(first taking it off)^";
        give noun ~worn;
    }
    remove noun;
    env = parent(player);
    move noun to env;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "Dropped.^";
    rtrue;
];

[ RemoveSub local1 ;	! 33902 / 0x846e
    local1 = parent(noun);
    if (local1 hasnt open) {
        "Alas, it is closed.";
    }
    if (local1 ~= second) {
        "But it isn't there now.";
    }
    if (second has worn) {
        "You'll need to take it off first.";
    }
    local1 = routine_8220(second);
    if (local1 ~= 0) {
        rtrue;
    }
    verb = ##Take;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    verb = ##Remove;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "Removed.^";
    rtrue;
];

[ InsertSub env ;	! 34034 / 0x84f2
    if (second == floor) {
        verb = ##Drop;
        RunRoutines(noun,0,verb);	! not popped
        @pop;
        rfalse;
    }
    env = parent(noun);
    if (env ~= player) {
        "You need to be holding it before you can put it into something else.";
    }
    if (second hasnt container) {
        "That can't contain things.";
    }
    if (second hasnt open) {
        "Alas, it is closed.";
    }
    if (second has worn) {
        "You'll need to take it off first.";
    }
    if (noun has worn) {
        print "(first taking it off)^";
        give noun ~worn;
    }
    if (second == Tarot_box && noun hasnt card) {
        "Only cards will fit.";
    }
    if (second == electric_torch) {
        env = FlashInsert();
        if (env ~= nothing) {
            rtrue;
        }
    }
    if (second == flash) {
        env = FlashCheck();
        if (env ~= nothing) {
            rtrue;
        }
    }
    remove noun;
    move noun to second;
    if (1[?] == routine_4894()) {
        rtrue;
    }
    if (multiflag == true) {
        "Done.";
    }
    "You put the ", (name) noun, " into the ", (name) second, ".";
];

[ TransferSub local1 local2 ;	! 34332 / 0x861c
    local2 = 7[nw_obj?];
    if (second == floor) {
        local2 = 8[se_obj?];
    }
    local1 = parent(noun);
    if (local1 ~= player) {
      .label34356;
        if (local1 ~= 0) {
            if (local1 hasnt open) {
                "That isn't in your possession.";
            }
            local1 = parent(local1);
            if (local1 == player) {
                jump label34418;
            }
            jump label34356;
        }
        "First pick that up.";
    }
  .label34418;
    remove noun;
    move noun to player;
    verb = local2;
    RunRoutines(noun,second,verb);	! not popped
    @pop;
    rfalse;
];

[ EmptySub ;	! 34436 / 0x8684
    second = floor;
    EmptyTSub();	! not popped
    @pop;
    rtrue;
];

[ EmptyTSub local1 local2 ;	! 34448 / 0x8690
    if (noun hasnt container) {
        CDefart(noun);	! not popped
        @pop;
        " can't contain things.";
    }
    if (noun hasnt open) {
        CDefart(noun);	! not popped
        @pop;
        " is closed.";
    }
    if (second ~= floor) {
        if (second hasnt container) {
            CDefart(second);	! not popped
            @pop;
            " can't contain things.";
        }
        if (second hasnt open) {
            CDefart(second);	! not popped
            @pop;
            " is closed.";
        }
    }
    local1 = noun;
    local1 = child(local1);
    if (local1 == 0) {
        Defart(noun);	! not popped
        @pop;
        " is empty already.";
    }
  .label34592;
    if (local1 ~= 0) {
        local2 = sibling(local1);
        print (name) local1, ": ";
        verb = ##Transfer;
        RunRoutines(local1,second,verb);	! not popped
        @pop;
        local1 = local2;
        jump label34592;
    }
    rtrue;
];

[ routine_8742 ;	! 34626 / 0x8742
    "Whatever happened to truthfulness...";
];

[ routine_8760 ;	! 34656 / 0x8760
    noun = nothing;
    if (location == Servants_Room) {
        noun = servants_bed;
    }
    if (location == Alisons_Writing_Room) {
        noun = comfortable_bed;
    }
    if (noun == nothing) {
        "You lie down on the floor for a while and then get up again, feeling foolish.";
    }
    ExitSub();	! not popped
    @pop;
    rtrue;
];

[ ExitSub env ;	! 34744 / 0x87b8
    if (noun == compass) {
        GoSub();	! not popped
        @pop;
        rtrue;
    }
    if (noun has door) {
        GoSub();	! not popped
        @pop;
        rtrue;
    }
    env = parent(player);
    if (env ~= location) {
        "But you're already in the ", (name) env, ".";
    }
    if (noun hasnt enterable) {
        "A surreal idea.";
    }
    env = parent(noun);
    if (env ~= location) {
        "You can only get into something on the floor.";
    }
    remove player;
    move player to noun;
    "You get into the ", (name) noun, ".";
];

[ ExitSub local1 ;	! 34888 / 0x8848
    local1 = parent(player);
    if (local1 == location) {
        "But you're aren't in anything at the moment.";
    }
    remove player;
    move player to location;
    print "You are on your own two feet again.^";
    LookSub(true);	! not popped
    @pop;
    rtrue;
];

[ VagueGoSub ;	! 34972 / 0x889c
    "You'll have to say which compass direction to go in.";
];

[ GoSub env prop unused has_light o ;	! 35012 / 0x88c4
    if (carbolic_soap hasnt concealed) {
        "You're going nowhere until you make amends for that nasty bad language.";
    }
    o = nothing;
    env = parent(player);
    if (location ~= thedark) {
        if (env == garden_roller) {
            if (garden_roller has on) {
                o = garden_roller;
                env = garden_roller;
                env = parent(env);
                jump label35174;
            }
            "The motor isn't on at the moment.";
        }
        if (env ~= location) {
            "You'll have to get out of the ", (name) env, " first.";
        }
    }
  .label35174;
    prop = noun.door_dir;
    if (prop == 0) {
        "That doesn't seem to be something you can walk into.";
    }
    prop = env.prop;
    if (prop == 0) {
        if (game_section == DREAMING) {
            "You drift in that direction, but without gaining any ground.";
        }
        env = env.cant_go;
        print (string) env;
        new_line;
        rfalse;
    }
    if (prop has door) {
        if (prop has concealed) {
            "You can't go that way.";
        }
        if (prop hasnt open) {
            if (noun == ceiling) {
                print "You are unable to climb ";
                Defart(prop);	! not popped
                @pop;
                ".";
            }
            if (noun == floor) {
                print "You are unable to descend ";
                Defart(prop);	! not popped
                @pop;
                ".";
            }
            print "You can't, since ";
            Defart(prop);	! not popped
            @pop;
            " is in the way.";
        }
        if (prop == prop51) {
            print "You walk confidently into the south wall...^";
            env = slide_projector;
            env = child(env);
            if (env == miniature) {
                game_section = GARDEN_PAST;
            }
            if (env ~= miniature) {
                game_section = TAROT;
            }
            if (env == Death_card) {
                deadflag = DIED;
                "^And find yourself in a golden cornfield on a sunny afternoon. You have just time to admire the ears of wheat before the scythe of the Grim Reaper cuts your soul from your body.";
            }
            if (env == Drowned_Sailor_card) {
                deadflag = DIED;
                "^You are underwater, in the wreck of a ship, surrounded by the skeletons of its former crew, whom you abruptly join as your air runs out.";
            }
            if (env == Fool_card) {
                deadflag = DIED;
                "^And find yourself stepping off a cliff. All is well for a moment, and then like a cartoon character you notice there is no ground beneath you and you plummet to a stony death far below.";
            }
            if (env has general) {
                "But are unable to enter the scene for a second time.";
            }
            give env general;
        }
        if (prop == prop123) {
            if (o == garden_roller) {
                "The garden roller will never fit.";
            }
            game_section = MODERN;
        }
        if (prop == prop92) {
            game_section = GARDEN;
            print "Your eyes blink with the sunlight as you emerge.^";
        }
        prop = prop.door_to;
        if (prop == 0) {
            print "You can't, since ";
            Defart(prop);	! not popped
            @pop;
            " leads nowhere.";
        }
    }
    if (o == nothing) {
        remove player;
        move player to prop;
    }
    if (o ~= nothing) {
        if (noun == floor) {
            "It won't go that way.";
        }
        if (noun == ceiling) {
            "It won't go that way.";
        }
        remove o;
        move o to prop;
    }
    has_light = HasLightSource(prop);
    if (has_light ~= false) {
        location = prop;
        global7 = 1[?];
    }
    if (has_light == false) {
        if (location == thedark) {
            deadflag = DIED;
            if (game_section ~= MODERN) {
                "As you step falteringly through the darkness, cowardly but evil creatures devour you whole!";
            }
            deadflag = FAILED;
            "As you unwisely blunder about in the dark, you put a foot wrong and crash through a thin plaster roof into one of the upstairs bedrooms, happily landing on the bed. In later years it becomes a family joke that you demolished half the house for a tatty old tourist map.";
        }
        location = thedark;
        global7 = 0;
    }
    if (1[?] == routine_4894()) {
        rtrue;
    }
    if (game_section == DREAMING) {
        if (location == Near_Dolmen) {
            LookSub();	! not popped
            @pop;
            rfalse;
        }
        if (noun == e_obj) {
            print "You pass uncomfortably straight through the hide wall.^";
        }
        if (noun == w_obj) {
            print "You pass uncomfortably straight through the hide wall.^";
        }
    }
    LookSub(true);	! not popped
    @pop;
    rtrue;
];

[ BriefSub ;	! 36520 / 0x8ea8
    global44 = 1[?];
    "~Curses~ is now in its normal ~brief~ printing mode, which gives long descriptions of places never before visited and short descriptions otherwise.";
];

[ VerboseSub ;	! 36630 / 0x8f16
    global44 = 2[?];
    "~Curses~ is now in its ~verbose~ mode, which always gives long descriptions of locations (even if you've been there before).";
];

[ SuperSub ;	! 36726 / 0x8f76
    global44 = 3[s_obj?];
    "~Curses~ is now in its ~superbrief~ mode, which always gives short descriptions of locations (even if you haven't been there before).";
];

[ LookSub verbose env str local4 chld local6 local7 ;	! 36828 / 0x8fdc
    local7 = location;
    new_line;
    print (name) location;
    env = parent(player);
    if (location ~= thedark && env ~= location) {
        print " (in the ", (name) env, ")";
        local7 = env;
    }
    new_line;
    if (verbose ~= true) {
        ! no code
    } else if (global44 == 2[?]) {
        ! no code
    } else {
        if (global44 == 3[s_obj?]) {
            jump label36924;
        }
        if (location has visited && verbose == true) {
            jump label36924;
        }
    }
    env = location.description;
    print (string) env;
    new_line;
  .label36924;
    if (location hasnt visited) {
        give location visited;
        if (location has scored) {
            score = score + 5;
            places_score = places_score + 5;
        }
    }
    chld = child(local7);
    local4 = 0;
  .label36952;
    if (chld ~= nothing) {
        if (chld hasnt concealed && chld hasnt scenery) {
            give chld attrib12;
            ++local4;
            if (chld hasnt moved) {
                str = chld.initial;
                if (chld == antiquated_wireless && antiquated_wireless has general) {
                    str = "The wireless fills the air with Jemima's favourite station, ~Mild-n-Breezy FM~, about which the least said the better.";
                }
                if (chld has door && chld hasnt open) {
                    str = chld.describe;
                }
                if (chld has switchable && chld hasnt on) {
                    str = chld.describe;
                }
                if (str ~= 0) {
                    new_line;
                    print (string) str;
                    new_line;
                    local6 = 1[?];
                    give chld ~attrib12;
                    --local4;
                }
            }
        }
        chld = sibling(chld);
        jump label36952;
    }
    if (local4 == 0) {
        ! no code
    } else {
        new_line;
        if (local7 ~= location) {
            print "In the ", (name) local7, " you";
        }
        if (local7 == location) {
            print "You";
        }
        print " can ";
        if (local6 == 1[?]) {
            print "also ";
        }
        print "see ";
        env = nothing;
        chld = child(local7);
      .label37113;
        if (chld ~= nothing) {
            if (chld has attrib12) {
                env = env + 1;
                DescribeObj(chld,1);	! not popped
                @pop;
                if (env == local4 - 1) {
                    print " and ";
                }
                if (env < local4 - 1) {
                    print ", ";
                }
            }
            chld = sibling(chld);
            jump label37113;
        }
        if (local7 ~= location) {
            print ".^";
        }
        if (local7 == location) {
            print " here.^";
        }
    }
    verb = ##Look;
    if (1[?] == routine_4894()) {
        rtrue;
    }
    rtrue;
];

[ routine_9156 local1 ;	! 37206 / 0x9156
    if (location == thedark) {
        "Darkness, noun. An absence of light to see by.";
    }
    if (noun == yourself) {
        "As good-looking as ever.";
    }
    if (noun has pluralname) {
        SearchSub();	! not popped
        @pop;
        rfalse;
    }
    if (noun has rod_attr) {
        print "The ", (name) noun, " is ";
        if (noun has rod_charged) {
            "charged up.";
        }
        "uncharged.";
    }
    if (noun has card) {
        local1 = noun.door_to;
        if (local1 ~= 0) {
            print "A beautifully realistic picture. ";
        }
    }
    if (noun == s_obj) {
        if (location == Souvenirs_Room && slide_projector has on) {
            local1 = child(slide_projector);
            if (local1 == 0) {
                "The south wall is lit up by the projector.";
            }
            print "The south wall shows ";
            ShowProjectorImage(local1);	! not popped
            @pop;
            rfalse;
        }
        if (location == Dead_End && secret_door hasnt concealed) {
            if (secret_door has open) {
                "There is a secret door in it, standing open.";
            } else {
                "There is a partly concealed secret door in it, which would be easy to open.";
            }
        }
    }
    local1 = noun.description;
    if (local1 == 0) {
        if (noun has container) {
            SearchSub();	! not popped
            @pop;
            rfalse;
        }
        print "You see nothing special about ";
        Defart(noun);	! not popped
        @pop;
        ".";
    }
    print (string) local1;
    new_line;
    if (noun has switchable) {
        print "It is currently switched ";
        if (noun has on) {
            print "on.^";
        }
        if (noun hasnt on) {
            print "off.^";
        }
    }
    if (1 == AfterRoutines()) {
        rtrue;
    }
    rtrue;
];

[ DescribeObj obj n local3 local4 local5 local6 local7 ;	! 37664 / 0x9320
    if (n ~= 2) {
        Indefart(obj);	! not popped
        @pop;
    }
    if (n == 2) {
        Defart(obj);	! not popped
        @pop;
    }
    if (obj has light) {
        print " (providing light)";
    }
    if (obj has worn) {
        print " (being worn)";
    }
    if (obj has rod_charged) {
        print " (charged)";
    }
    if (obj == daisy_chain) {
        local5 = child(player);
      .label37762;
        if (local5 ~= 0) {
            if (local5 has hidden_rod) {
                print " (which rustles as if with a magical wind)";
            } else {
                local5 = sibling(local5);
                jump label37762;
            }
        }
    }
    if (obj has container) {
        if (n ~= 2) {
            print " (which is ";
        }
        if (n == 2) {
            print ", which is ";
        }
        if (obj hasnt open) {
            print "closed";
            if (obj has transparent) {
                jump label37988;
            }
        }
        if (obj has open) {
            print "open";
        }
        local3 = child(obj);
        if (local3 == 0) {
            print " but empty";
        } else if (n == 0) {
            local7 = 1[?];
        } else {
            print " and contains ";
            local6 = 0;
            local4 = local3;
          .label37923;
            if (local4 ~= 0) {
                local4 = sibling(local4);
                ++local6;
                jump label37923;
            }
            local5 = 0;
          .label37940;
            if (local3 ~= 0) {
                ++local5;
                DescribeObj(local3,1);	! not popped
                @pop;
                if (local5 == local6 - 1) {
                    print " and ";
                }
                if (local5 < local6 - 1) {
                    print ", ";
                }
                local3 = sibling(local3);
                jump label37940;
            }
        }
      .label37988;
        if (n ~= 2) {
            print ")";
        }
    }
    return local7;
];

[ ShowSub local1 local2 ;	! 37998 / 0x946e
    if (second == demon) {
        if (DemonHint() == 0) {
            print "The demon glances lazily at ";
            Defart(noun);	! not popped
            @pop;
            print " and rouses himself to say: ~";
            local1 = noun.devil_hint;
            if (local1 == 65535[?]) {
                if (noun.angel_hint ~= "") {
                    print "I know about that, but my counterpart doesn't.";
                } else {
                    print "I know just what that's for.";
                }
            } else {
                print (string) local1;
                give demon ~general;
            }
            if (noun has edible) {
                remove noun;
                "  Mmm... delicious!~  Sloth and gluttony... two deadly sins in one minute. His boss will be pleased.";
            }
            "~.";
        }
        rfalse;
    }
    if (second == angel) {
        if (routine_c8ae() == 0) {
            print "The angel looks conscientiously at ";
            Defart(noun);	! not popped
            @pop;
            print " and rouses herself to say: ~";
            local1 = noun.angel_hint;
            if (local1 == 65535[?]) {
                if (noun.devil_hint ~= "") {
                    print "I suppose you could ask, um, that tailed gentleman.";
                } else {
                    print "I'm afraid I'm don't know much about ";
                    Defart(noun);	! not popped
                    @pop;
                    print ".";
                }
            } else {
                print (string) local1;
                give angel ~general;
            }
            "~.";
        }
        rfalse;
    }
    CDefart(second);	! not popped
    @pop;
    " makes no comment.";
];

[ GiveRSub obj local2 ;	! 38460 / 0x963c
    if (second == demon) {
        ShowSub();	! not popped
        @pop;
        rfalse;
    }
    if (second == angel) {
        ShowSub();	! not popped
        @pop;
        rfalse;
    }
    if (noun == heavy_iron_mascot) {
        "Now that really would not be very kind.";
    }
    if (second == Jemima) {
        if (noun == box_of_chocolates) {
            obj = box_of_chocolates;
            remove obj;
            Achieved(SCORE_CHOCOLATE);	! not popped
            @pop;
            give Jemima general;
            "Aunt Jemima pounces on the chocolates, wolfs down a strawberry cream and persuades you to have an unappetising toffee cracknell. ~Now~, she says, ~Your turn for a daisy chain!~^^You try to look pleased.^^~Let's see, the others have had theirs... I have only a few colours left. What would you like?~";
        }
        print "A peace offering is a nice idea, but somehow the ", (name) noun;
        if (noun == gift_wrapped_parcel) {
            print " lacks style... after all, it isn't Christmas.^";
            OneTimeBonusScore();	! not popped
            @pop;
            rtrue;
        }
        " seems inappropriate.";
    }
    if (second == surly_shopkeeper) {
        if (noun ~= fifty_franc_note) {
            "~Ceci n'est pas argent,~ he explains wearily.";
        }
        remove noun;
        give noun general;
        "He takes the money. ~Q'est-ce que vous desirez?~";
    }
    if (second == Sir_Joshua_Meldrewe) {
        ThrowAtSub();	! not popped
        @pop;
        rfalse;
    }
    if (second == Andromeda && noun has edible) {
        if (noun == Ekmek_Special) {
            remove noun;
            obj = amber_hairband;
            give obj ~static;
            give obj moved;
            remove obj;
            move obj to player;
            "She smiles as if to say there's not much point watching her waist-line any more, and hungrily wolfs down her favourite dessert. As a gesture of thanks, she takes off her amber hairband and hands it you. Quickly she readopts her noble pose, however, just in case anyone else is looking.";
        }
        "She looks with obvious hunger, but her sense of duty wins out and she refuses.";
    }
    if (second == bartender && noun == copper_coin) {
        remove noun;
        give copper_coin general;
        "The bartender takes the coin wearily.";
    }
    (name) second, " doesn't seem interested.^";
];

[ routine_999e local1 ;	! 39326 / 0x999e
    if (noun hasnt lockable) {
        "I can't see how to unlock that.";
    }
    if (noun hasnt locked) {
        "It is in fact unlocked now.";
    }
    local1 = noun.with_key;
    if (local1 ~= second) {
        "That doesn't seem to fit the lock.";
    }
    give noun ~locked;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You unlock the ", (name) noun, ".^";
    rtrue;
];

[ routine_9a20 local1 ;	! 39456 / 0x9a20
    if (noun hasnt lockable) {
        "I can't see how to lock that.";
    }
    if (noun has locked) {
        "It is in fact locked now.";
    }
    if (noun has open) {
        "First you'll have to close it.";
    }
    local1 = noun.with_key;
    if (local1 ~= second) {
        "That doesn't seem to fit the lock.";
    }
    give noun locked;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You lock the ", (name) noun, ".^";
    rtrue;
];

[ SwitchOnSub ;	! 39608 / 0x9ab8
    if (noun == electric_torch) {
        "There's no switch, just a battery compartment.";
    }
    if (noun hasnt switchable) {
        "That's not something you can switch.";
    }
    if (noun has on) {
        "It's already on.";
    }
    give noun on;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You switch the ", (name) noun, " on.^";
    rtrue;
];

[ SwitchOffSub ;	! 39738 / 0x9b3a
    if (noun == electric_torch) {
        "There's no switch, just a battery compartment.";
    }
    if (noun hasnt switchable) {
        "That's not something you can switch.";
    }
    if (noun hasnt on) {
        "It's already off.";
    }
    give noun ~on;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You switch the ", (name) noun, " off.^";
    rtrue;
];

[ OpenSub ;	! 39868 / 0x9bbc
    if (noun == cranked_skylight) {
        "How, exactly?";
    }
    if (noun == curtain) {
        "It seems immovable, as if made of solid iron.";
    }
    if (noun == windows) {
        "It's old and gummed up somehow.";
    }
    if (noun hasnt openable) {
        "That's not something you can open.";
    }
    if (noun has locked) {
        "It seems to be locked.";
    }
    if (noun has open) {
        "It's already open.";
    }
    give noun open;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You open the ", (name) noun, ".^";
    if (noun has container) {
        new_line;
        SearchSub();	! not popped
        @pop;
    }
    rtrue;
];

[ CloseSub ;	! 40074 / 0x9c8a
    if (noun == cranked_skylight) {
        "How, exactly?";
    }
    if (noun hasnt openable) {
        "That's not something you can close.";
    }
    if (noun hasnt open) {
        "It's already closed.";
    }
    give noun ~open;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You close the ", (name) noun, ".^";
    rtrue;
];

[ DisrobeSub ;	! 40180 / 0x9cf4
    if (noun hasnt worn) {
        "You're not wearing that.";
    }
    give noun ~worn;
    print "You take off the ", (name) noun, ".^";
    rtrue;
];

[ WearSub local1 ;	! 40230 / 0x9d26
    if (noun hasnt clothing) {
        "You can't wear that!";
    }
    local1 = parent(noun);
    if (local1 ~= player) {
        "You're not holding that!";
    }
    give noun worn;
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You put on the ", (name) noun, ".^";
    rtrue;
];

[ HandleSub i obj ;	! 40318 / 0x9d7e
    print "Objects you have handled:^^";
    i = 1;
  .label40349;
    if (i <= 255) {
        if (i has moved) {
            Defart(i);	! not popped
            @pop;
            obj = parent(i);
            if (obj == player) {
                print "   (held)";
            } else if (obj has animate) {
                print "   (given away)";
            } else if (obj has visited) {
                print "   (in ", (name) obj, ")";
            } else if (obj has enterable) {
                print "   (in ", (name) obj, ")";
            } else if (obj has container) {
                print "   (inside ", (name) obj, ")";
            } else {
                print "   (lost)";
            }
            new_line;
        }
        ++i;
        jump label40349;
    }
    rtrue;
];

[ routine_9e26 local1 local2 local3 ;	! 40486 / 0x9e26
    print "You have visited: ";
    local1 = 14[Attic?];
    local2 = 0;
  .label40514;
    if (local1 < 255) {
        if (local1 has visited) {
            ++local2;
        }
        ++local1;
        jump label40514;
    }
    local1 = 14[Attic?];
    local3 = 0;
  .label40537;
    if (local1 < 255) {
        if (local1 has visited) {
            print (name) local1;
            ++local3;
            if (local3 == local2) {
                ".";
            }
            if (local2 - 1 == local3) {
                print " and ";
            }
            if (local2 - 1 > local3) {
                print ", ";
            }
        }
        ++local1;
        jump label40537;
    }
    rtrue;
];

[ routine_9e90 ;	! 40592 / 0x9e90
    "That was a rhetorical question.";
];

[ routine_9ea8 ;	! 40616 / 0x9ea8
    "For a moment you can almost hear a hoarse voice say something to you. But it passes.";
];

[ routine_9ee6 ;	! 40678 / 0x9ee6
    "In this game, arson is (usually) forbidden.";
];

[ routine_9f08 ;	! 40712 / 0x9f08
    "The heavenly host can be quite helpful in this game, but you'll have to ask them directly.";
];

[ routine_9f4a ;	! 40778 / 0x9f4a
    if (game_section == DREAMING) {
        "You are unable to shake off the dream.";
    }
    "The dreadful truth is, this is not a dream.";
];

[ routine_9f8e ;	! 40846 / 0x9f8e
    if (noun ~= saxon_spy) {
        "That seems rather unnecessary.";
    }
    "The spy is too deeply unconscious.";
];

[ routine_9fc4 ;	! 40900 / 0x9fc4
    if (noun == Jemima) {
        print "She is slightly mollified, but only slightly.^";
        OneTimeBonusScore();	! not popped
        @pop;
        rtrue;
    }
    if (noun == Andromeda) {
        print "She evades you deftly, after years of practice with Greek men.^";
        rtrue;
    }
    if (noun == Madame_Sosostris) {
        print "She kisses you forcibly. Her mouth tastes of tobacco.^";
        rtrue;
    }
    "Keep your mind on the game.";
];

[ routine_a06e ;	! 41070 / 0xa06e
    "Worth a try, anyway. Why don't you?";
];

[ SmellSub ;	! 41100 / 0xa08c
    "You smell nothing unexpected.";
];

[ routine_a0a4 ;	! 41124 / 0xa0a4
    "You hear nothing unexpected.";
];

[ routine_a0ba ;	! 41146 / 0xa0ba
    "You taste nothing unexpected.";
];

[ routine_a0d2 ;	! 41170 / 0xa0d2
    "You feel nothing unexpected.";
];

[ routine_a0e8 ;	! 41192 / 0xa0e8
    if (noun has animate) {
        "Keep your hands to yourself!";
    }
    "You feel nothing unexpected.";
];

[ DigSub ;	! 41240 / 0xa118
    "There are three problems with that. One, the ground isn't really suitable, two, you have nothing to dig with and three, you have always loathed gardening.";
];

[ CutSub ;	! 41352 / 0xa188
    "In this game, cutting things up is never helpful.";
];

[ JumpSub ;	! 41390 / 0xa1ae
    "You jump on the spot, fruitlessly.";
];

[ JumpOverSub ;	! 41418 / 0xa1ca
    "In this game, it is never useful to jump over things.";
];

[ TieSub ;	! 41458 / 0xa1f2
    "In this game, it is never useful to tie things.";
];

[ DrinkSub ;	! 41494 / 0xa216
    if (location == Down_by_River) {
        "Ugh!  What foul water.";
    }
    if (location == Garden_Stream) {
        "Just about drinkable. Not much fun, though.";
    }
    if (location == Stream) {
        "Delicious clear and unpolluted.";
    }
    if (location == Sea_Shore) {
        "Salt water!  You must be joking.";
    }
    "There's nothing suitable to drink here.";
];

[ FillSub ;	! 41644 / 0xa2ac
    if (location == Down_by_River) {
        ! no code
    } else if (location == Garden_Stream) {
        ! no code
    } else if (location == Stream) {
        ! no code
    } else if (location == Sea_Shore) {
        ! no code
    } else {
        "Try ~get all~ and then ~put all in...~.";
    }
    "Don't go carting water about, for heaven's sake, it'll only make a mess of your clothes and all your spare clothes are packed.";
];

[ SorrySub ;	! 41802 / 0xa34a
    if (carbolic_soap has concealed) {
        "Oh, don't apologise.";
    }
    "Sorry isn't good enough!";
];

[ WashSub soap ;	! 41844 / 0xa374
    if (second ~= carbolic_soap) {
        "That's not something you can wash with.";
    }
    if (noun_word ~= 'mouth//p') {
        "You're on the right lines there.";
    }
    soap = carbolic_soap;
    remove soap;
    give carbolic_soap concealed;
    "Ugh, it tastes absolutely ghastly. But you feel better for it.";
];

[ routine_a3f0 local1 ;	! 41968 / 0xa3f0
    local1 = 255[carbolic_soap?];
    remove local1;
    move local1 to player;
    give carbolic_soap ~concealed;
    "Now, that sort of language is an absolute disgrace, and you're going to have to pay the price for it.";
];

[ routine_a448 ;	! 42056 / 0xa448
    "It's good that you can express your frustration in such a mild way.";
];

[ routine_a47a ;	! 42106 / 0xa47a
    if (noun == Jemima) {
        "Well, she's annoying, but that's family for you.";
    }
    if (noun == hollow_man) {
        "You are unable to touch the man. It is as if he isn't there.";
    }
    if (noun == Sir_Joshua_Meldrewe) {
        "Ectoplasm is as nice to touch as its reputation suggests.";
    }
    if (noun == demon) {
        "A little late for that now.";
    }
    if (noun == angel) {
        "That is possibly not a very far-sighted act.";
    }
    if (noun == Andromeda) {
        "No need, if the sea-monster is all it's cracked up to be.";
    }
    if (noun == Madame_Sosostris) {
        "She mesmerises you back. She hasn't lived all these centuries in the Latin Quarter for nothing, you know.";
    }
    "Violence isn't the answer, you know.";
];

[ routine_a5e4 ;	! 42468 / 0xa5e4
    if (location ~= Sea_Shore) {
        "There's not enough water to swim in.";
    }
    deadflag = MYTH;
    "As you dive into the sea, you catch sight of Andromeda looking suddenly cheerful. It soon becomes apparent why, as a Kraken wakes from the depths of the ocean and swipes you for a quick snack. You seem to have replaced her as sacrifice... a Pyrrhic victory.";
];

[ routine_a6c0 ;	! 42688 / 0xa6c0
    if (location ~= Hanging_on_Rope) {
        "There's nothing sensible to swing here.";
    }
    if (noun ~= hemp_rope) {
        "You can't swing on that.";
    }
    give hemp_rope general;
    "You set the rope swinging back and forth. Very exhilarating!";
];

[ routine_a72c ;	! 42796 / 0xa72c
    if (noun ~= summoning_horn) {
        "You can't usefully blow that.";
    }
    print "You blow the horn, and it gives a great clarion call out to the hills which is promptly answered by a large number of annoyed guardsmen.^";
    Capture();	! not popped
    @pop;
    rtrue;
];

[ CleanSub ;	! 42928 / 0xa7b0
    if (noun ~= solid_glass_ball) {
        "You achieve nothing by this.";
    }
    give solid_glass_ball general;
    "You polish the ball to a nice shine.";
];

[ SetSub local1 local2 ;	! 42986 / 0xa7ea
    if (noun ~= timer_detonater) {
        "No, you can't set that.";
    }
    local1 = 191[timer_detonater?];
    local2 = local1.number;
    if (local2 ~= 0) {
        "It is already running!";
    }
    local1.number = 10;
    print "You wind back the timer to 10 minutes, and off it goes.^";
    BombTicking = true;
    rtrue;
];

[ routine_a858 ;	! 43096 / 0xa858
    if (noun hasnt edible) {
        "No, it's plainly inedible.";
    }
    remove noun;
    if (noun == red_tablet) {
        give player ~general;
        "It tastes alarmingly of chocolate.";
    }
    Achieved(SCORE_BISCUIT);	! not popped
    @pop;
    "You eat the ", (name) noun, ". Not bad.";
];

[ routine_a8b6 ;	! 43190 / 0xa8b6
    "You wave, feeling foolish.";
];

[ routine_a8cc local1 ;	! 43212 / 0xa8cc
    local1 = parent(noun);
    if (local1 ~= player) {
        "But you aren't holding it.";
    }
    local1 = noun;
    if (local1 has hidden_rod) {
        if (daisy_chain has worn) {
            local1 = 115[daisy_chain?];
            local1 = local1.number;
            if (local1 == 1[?]) {
                score = score + 6;
                rod_score = rod_score + 6;
                print "Light pulses around the daisy chain, then leaps out to engulf the ", (name) noun, " which melts into the ";
                remove noun;
                local1 = noun.rod_assoc;
                move local1 to player;
                (name) local1, "!";
            }
        }
        if (yellow_daisy has worn) {
            score = score + 6;
            rod_score = rod_score + 6;
            print "Light pulses from the daisy behind your ear, leaping out to engulf the ", (name) noun, " which melts into ";
            remove noun;
            local1 = noun.rod_assoc;
            move local1 to player;
            if (local1 has rod_attr) {
                Defart(local1);	! not popped
                @pop;
            }
            if (local1 hasnt rod_attr) {
                Indefart(local1);	! not popped
                @pop;
            }
            "!";
        }
    }
    if (local1 has rod_attr) {
        "That seems to be not quite how they work...";
    }
    if (local1 == 180[silk_handkerchief?] && location == Down_by_River && tourist_boat hasnt open) {
        give tourist_boat open;
        "You wave the handkerchief, and the boat glides smoothly across the river toward you.";
    }
    "You look ridiculous waving the ", (name) local1, ".";
];

[ StrikeWand env ;	! 43616 / 0xaa60
    env = parent(noun);
    if (env ~= player) {
        "But you aren't holding it.";
    }
    env = noun;
    if (env hasnt rod_attr) {
        "You ineffectually bash the ", (name) env, " on the ground.";
    }
    if (env has rod_charged) {
        deadflag = DIED;
        "The already-charged rod explodes with cataclysmic violence, burying everything nearby in rubble!";
    }
    give env rod_charged;
    Achieved(SCORE_WAND);	! not popped
    @pop;
    if (location == Ruined_Castle_Cafe) {
        "You look rather conspicuous striking the rod on the cafe table, but everyone else assumes you're part of the cabaret. Anyway, the rod charges up as usual.";
    }
    "The rod charges up with etherial power, drawn up from the earth through ley lines...";
];

[ PointWand env local2 ;	! 43954 / 0xabb2
    env = parent(noun);
    if (env ~= player) {
        "But you aren't holding it.";
    }
    env = parent(second);
    if (env == player) {
        "It's too fiddly pointing the rod at something you're holding.";
    }
    env = noun;
    if (env hasnt rod_attr) {
        "Ok. (Why?)";
    }
    if (env hasnt rod_charged) {
        "Nothing happens.";
    }
    Achieved(SCORE_AIMWAND);	! not popped
    @pop;
    local2 = noun.rod_action;
    if (local2 == 65535) {
        "Not implemented yet.";
    }
    give noun ~rod_charged;
    local2();	! not popped
    @pop;
    rtrue;
];

[ routine_ac5c ;	! 44124 / 0xac5c
    "That sort of wilful damage to property is exactly what's wrong with the world today. And another thing, the influence of so-called rock and roll music on society has in my view, and I may be old-fashioned, but... [etc]";
];

[ routine_acfc ;	! 44284 / 0xacfc
    if (noun ~= poster) {
        routine_ac5c();	! not popped
        @pop;
        rfalse;
    }
    verb = ##Take;
    RunRoutines(noun,0,verb);	! not popped
    @pop;
    rtrue;
];

[ routine_ad16 local1 local2 ;	! 44310 / 0xad16
    if (noun == chicken_wishbone) {
        "It already has been. The part you have, lost.";
    }
    if (noun has wire) {
        if (noun has general) {
            "It is already pulled out.";
        }
        give noun general;
        print "You pull out ";
        Defart(noun);	! not popped
        @pop;
        print ". ";
        local1 = 190[complicated_looking_bomb?];
        local2 = local1.number;
        BombWires->local2 = noun;
        ++local2;
        local1.number = local2;
        if (local2 == 4[e_obj?]) {
            give complicated_looking_bomb general;
            "All four wires are now disconnected.";
        }
        rtrue;
    }
    if (noun has switchable) {
        if (noun has on) {
            verb = ##SwitchOn;
        } else {
            verb = ##SwitchOff;
        }
        RunRoutines(noun,0,verb);	! not popped
        @pop;
        rfalse;
    }
    if (noun has static) {
        "It is fixed in place.";
    }
    if (noun has scenery) {
        "You are unable to.";
    }
    "Nothing obvious happens.";
];

[ PushSub who ;	! 44554 / 0xae0a
    if (noun == s_obj && location == Dead_End && secret_door has concealed) {
        give secret_door ~concealed;
        Achieved(SCORE_SECRETDOOR);	! not popped
        @pop;
        "A secret door springs open!";
    }
    if (noun == bell_push) {
        if (Madame_Sosostris has concealed) {
            if (Madame_Sosostris has general) {
                "Nothing happens.";
            }
            give Madame_Sosostris ~concealed;
            who = Madame_Sosostris;
            move who to Consulting_Room;
            "Madame Sosostris, the famous clairvoyante, breezes in through the hanging curtain and sits behind the table, making waving gestures with her hands.^^~First, this I must know, were you born in an even, or an odd, year?~";
        }
        "Madame Sosostris looks at you in some irritation.";
    }
    if (noun has switchable) {
        if (noun has on) {
            verb = ##SwitchOff;
        } else {
            verb = ##SwitchOn;
        }
        RunRoutines(noun,0,verb);	! not popped
        @pop;
        rfalse;
    }
    if (noun == antiquated_wireless) {
        "It moves easily on the casters.";
    }
    if (noun has static) {
        "It is fixed in place.";
    }
    if (noun has scenery) {
        "You are unable to.";
    }
    "Nothing obvious happens.";
];

[ routine_af9a local1 ;	! 44954 / 0xaf9a
    local1 = parent(second);
    if (local1 ~= 1[?]) {
        "That's not a direction.";
    }
    if (second == ceiling) {
        "Not upstairs you can't.";
    }
    if (second == floor) {
        "Not downstairs you can't.";
    }
    if (noun ~= antiquated_wireless) {
        "Is that the best you can think of?";
    }
    if (second == e_obj) {
        "Not upstairs you can't.";
    }
    print "It moves easily on the casters.^";
    local1 = noun;
    noun = second;
    GoSub();	! not popped
    @pop;
    remove local1;
    move local1 to location;
    if (location == Potting_Room) {
        deadflag = FAILED;
        "Aunt Jemima spends the next four hours explaining to you exactly why she put the radio into storage. The reason is awfully convoluted and due to her firm conviction that magnetic fields influence the growth of plants. By that time you have to leave for the airport...";
    }
    rtrue;
];

[ routine_b10c ;	! 45324 / 0xb10c
    if (noun == cranked_skylight) {
        print "With a horrid creaking noise, the crank ";
        if (Inside_Cupboard has light) {
            give Inside_Cupboard ~light;
            give cranked_skylight ~open;
            "shuts down the skylight.";
        }
        give Inside_Cupboard light;
        give cranked_skylight open;
        "winds open the skylight, flooding the room with sunshine.";
    }
    if (noun has static) {
        "It is fixed in place.";
    }
    if (noun has scenery) {
        "You are unable to.";
    }
    "Nothing obvious happens.";
];

[ SpraySub i ;	! 45498 / 0xb1ba
    if (noun has animate) {
        "Keep your hands to yourself.";
    }
    if (noun ~= weed_killer) {
        "You achieve nothing by this.";
    }
    if (weed_killer has general) {
        "Nothing emerges. The bottle must be empty.";
    }
    give weed_killer general;
    if (location == Wall_of_Thorns) {
        "A valiant, but obviously utterly hopeless idea. The weed killer does not harm a single tendril of the wall.";
    }
    if (location == Vegetable_Garden) {
        i = runner_bean_plant;
        remove i;
        i = Vegetable_Garden;
        i.u_to = nothing;
        "Congratulations. You have devastated the runner-bean plant.";
    }
    if (location == Family_Tree) {
        "Happily, the weed killer makes no impression on the beautiful old tree.";
    }
    if (game_section == GARDEN) {
        ! no code
    } else {
        if (game_section ~= GARDEN_PAST) {
            "A stream of weed-killer emerges, but evaporates almost at once, just as well considering the vile smell.";
        }
        if (location ~= Maze_Foundations) {
            ! no code
        } else {
            i = MazeBoundary(MazeX,MazyY);
            if (i == nothing) {
                "A stream of weed-killer soaks into the grass, and does nothing obvious.";
            }
            global26 = MazeX;
            global27 = MazyY;
            "A stream of weed-killer soaks into the seedbed, and does nothing obvious.";
        }
    }
    "A stream of weed-killer soaks into the earth, and does nothing obvious.";
];

[ routine_b3f0 local1 ;	! 46064 / 0xb3f0
    SearchSub();	! not popped
    @pop;
    rtrue;
];

[ SearchSub o1 o2 ;	! 46074 / 0xb3fa
    if (noun == cafe_table) {
        if (complicated_looking_bomb has concealed) {
            give complicated_looking_bomb ~concealed;
            o1 = complicated_looking_bomb;
            remove o1;
            move o1 to Ruined_Castle_Cafe;
            "Now don't panic, but there's a ticking bomb loosely taped to the underside of the table you're sitting at!";
        }
        "You make no further alarming discoveries.";
    }
    if (noun == window_sill && delicate_gold_key has concealed) {
        give delicate_gold_key ~concealed;
        "You dislodge something shiny!";
    }
    if (noun == teachests) {
        print "That was the first place you tried, hours and hours ago now";
        if (Meldrews_History has concealed) {
            print ", and there's nothing there but that boring old book. You pick it up anyway, bored as you are";
            give Meldrews_History ~concealed;
            remove Meldrews_History;
            move Meldrews_History to player;
        }
        ".";
    }
    if (noun == pile_of_sheets) {
        if (antiquated_wireless has concealed) {
            give antiquated_wireless ~concealed;
            Achieved(SCORE_WIRELESS);	! not popped
            @pop;
            "Not as many sheets as you thought - they were on top of a large black wireless, now exposed to the light for the first time in months.";
        }
        "No, you're only getting your hands stained looking.";
    }
    if (noun == insulation_rolls) {
        if (old_gardeners__gloves hasnt worn) {
            "A rash act. The itchy fibres of the insulation soon deter you.";
        }
        o1 = new_battery;
        if (insulation_rolls ~= parent(o1)) {
            "Nothing else there, unfortunately.";
        }
        remove o1;
        move o1 to East_Annexe;
        Achieved(SCORE_BATTERY);	! not popped
        @pop;
        "You uncover a shiny new battery. It must have been dropped by accident when the loft insulation was being done.";
    }
    if (noun hasnt container) {
        "You find nothing of interest.";
    }
    if (noun has transparent && noun hasnt open) {
        "You can't see inside, since it is closed.";
    }
    if (1 == AfterRoutines()) {
        rtrue;
    }
    print "You peer at ";
    DescribeObj(noun,2);	! not popped
    @pop;
    ".";
];

[ routine_b6de local1 ;	! 46814 / 0xb6de
    local1 = noun;
    noun = second;
    second = local1;
    routine_b6f2();	! not popped
    @pop;
    rtrue;
];

[ routine_b6f2 i ;	! 46834 / 0xb6f2
    if (2[?] == global13->1) {
        if (noun == tourist_map) {
            jump label49570;
        }
        if (noun == ancient_prayer_book) {
            jump label49919;
        }
        if (noun ~= Meldrews_History) {
            "You can't look things up in that.";
        }
    }
    i = 17[Meldrews_History?];
    i = parent(i);
    if (i ~= player) {
        i = 83[tourist_map?];
        i = parent(i);
        if (i == player) {
            jump label49570;
        }
        i = 73[ancient_prayer_book?];
        i = parent(i);
        if (i == player) {
            jump label49919;
        }
        "I don't know what you want to look it up in.";
    }
    i = noun_word;
    if (i == 14726['me'?]) {
        i = 1[?];
    }
    if (i == 14866['myself'?]) {
        i = 1[?];
    }
    if (i == 15874['self'?]) {
        i = 1[?];
    }
    if (i == 15181['peter//p'?]) {
        "^Modestly, the author (died 1940 or so?) missed himself out.";
    }
    if (i == 14425['jemima//p'?]) {
        "^She's far too recent to be included.";
    }
    if (i == 14411['isaac//p'?]) {
        "^Mad Isaac (1705-1792) went in for mystic experiments of all kinds, and was a noted antiquarian. He believed that the Meldrew family had an ancestral curse, dooming each member to undertake a futile quest. The only way to break the curse, he thought, was for one of them to actually succeed... unfortunately he died in peculiar circumstances before finding out how.^", "^Then again, he also believed that King Arthur's wizard Merlin was buried not in a Tintagel cave, as is usually claimed, but somewhere in the back garden (near where the motorway is now), and that the moon is a giant pair of black and white discs towed through the night sky by a team of angels.";
    }
    if (i == 13606['ebenez//p'?]) {
        "^It seems Ebenezer (1846-1908), the younger of a pair of twins, threw up a promising career in the East India Company one day, took a packet steamer to Cape Colony and simply marched off into the bush on a quest to find a legendary river. His maps were used for several years after, and a province was named after him for a while, but the locals call it something else now.";
    }
    if (i == 15622['roger//p'?]) {
        "^Roger (1846-1913), the elder of a pair of twins, was very Victorian indeed, especially in his disapproval of his beautiful young wife's literary career. He thought her romances so immoral that he refused to allow the family name to appear on them. A prominent local vestryman, his own writing was confined to a great many monographs on the problems of municipal drainage, but he died before his grand National Sewerage Plan was complete.";
    }
    if (i == 12899['capability//p'?]) {
        "^~Capability~ Meldrew (1761-1817) became a mildly celebrated landscape gardener, starting a brief fashion for crypts and memorials as garden ornaments (he claimed it was closer to nature). Very little of his work now survives. His real name, incidentally, was Willard.";
    }
    if (i == 12409['alison//p'?]) {
        "^Under the pseudonym Marie Swelldon, your ancestress Alison (1871-1930) wrote several mildly successful romances. She obsessively collected lucky charms, and advertised in newspapers for double-headed coins and the like (although she never traced a rumoured find of a five-leafed clover, somewhere in County Donegall).^^In order to write in tranquillity and to avoid her husband, it was she who installed the fake wall at the far south end of the attic east wing, and each afternoon she would sneak upstairs to push it aside.";
    }
    if (i == 14439['joshua//p'?]) {
        "^Oh dear, the deeply regrettable Sir Joshua Meldrewe (1710-1776). Member of the Dilletanti Society and the Hell-Fire Club, and a politician (chancellor of the exchequer 1762-3; ~probably the least competent minister ever to hold that office~ - Oxford History of England, vol. xii).^^", "His father disinherited him for wildly excessive living (he almost invariably wore jewelled buttons worth at least a thousand pounds) and for marrying a lady of easy virtue while on the run from a prison in France, where he was sentenced to be beheaded. In order to stop his sister getting the fortune, he went back to Italy and advertised for a pregnant bride to provide a male heir. This nefarious plot was foiled when he choked to death on a chicken-bone.^^It is said that he stole the money anyway near the end, and certainly some gold went missing. (He also managed to get the family stripped of its baronetcy by cheating at bridge with the Prince of Wales.)";
    }
    if (i == 1[?]) {
        "^Perhaps you may one day earn a place in vol. III.";
    }
    "^Annoyingly there's no index (there was going to be a consolidated one in vol. I) and you can't find what you want.";
  .label49570;
    i = current_year;
    if (i == 1420[?]) {
        print "^At that exact grid reference is Meldreustrasse, a minor back street which houses a museum of arcana.^^Suddenly you remember!  You visited the place once, and the curator Doktor Stein showed you round... and he hypnotised you into a swirl of unconsciousness...^^";
        StartTimer(Coven_Cell,7);	! not popped
        @pop;
        i = 83[tourist_map?];
        remove i;
        move i to location;
        game_section = HAMBURG;
        location = Museum_of_Arcana;
        remove player;
        move player to Museum_of_Arcana;
        LookSub(false);	! not popped
        @pop;
        rtrue;
    }
    "Just some anonymous streets. The detail of this map is so tiny that unless you have the exact four-digit grid reference for what you want, you'll never find it.";
  .label49919;
    i = current_year;
    if (i < 1725) {
        "He didn't seem to be experimenting in those days.";
    }
    if (i > 1792) {
        "He didn't seem to be experimenting in those days.";
    }
    if (i == 1792[?]) {
        "In 1792, the last year of his life, ol' red-eyes becomes very excited about his new discovery. This time he claims that Merlyn bounde uppe the mystic estate (by this he means the back garden - Isaac never did have any sense of proportion) wyth great Roddes of Power. These are dangerous and sometimes useful for themselves, but are really part of a great key... the usual nonsense. Of course you never actually see these rods, because they disguise themselves until waved by someone wearing Merlyn's hat.^^", "The funny thing is that Isaac died (legend has it, by spontaneous combustion) only a week after this breakthrough, preventing him from sending yet another paper to the Royal Society. But since Merlyn supposedly lived in about the sixth century A.D., there can't be a lot left of his hat, so the matter may be academic.";
    }
    print "In the year ", current_year, ", Isaac was mainly concerned with ";
    i = current_year % 6;
    if (i == 0) {
        "alchemy.";
    }
    if (i == 1[?]) {
        "caustical opticks.";
    }
    if (i == 2[?]) {
        "concave mirrors.";
    }
    if (i == 3[s_obj?]) {
        "the edibility of reptiles.";
    }
    if (i == 4[e_obj?]) {
        "the spleens of flightless birds.";
    }
    if (i == 5[w_obj?]) {
        "melting points of metals.";
    }
    rtrue;
];

[ Indefart local1 ;	! 50776 / 0xc658
    if (local1 hasnt proper) {
        print (string) local1.article, " ";
    }
    print (name) local1;
    rtrue;
];

[ Defart local1 ;	! 50796 / 0xc66c
    if (local1 hasnt proper) {
        print "the ";
    }
    print (name) local1;
    rtrue;
];

[ CDefart local1 ;	! 50812 / 0xc67c
    if (local1 hasnt proper) {
        print "The ";
    }
    print (name) local1;
    rtrue;
];

[ ThrowAtSub local1 local2 ;	! 50828 / 0xc68c
    if (second hasnt animate) {
        "Futile.";
    }
    if (second == Jemima) {
        "Well, quite. Best to just grit your teeth and put up with her though.";
    }
    if (second == Sir_Joshua_Meldrewe) {
        remove noun;
        if (noun == chicken_wishbone) {
            local1 = 66[iron_key?];
            remove local1;
            move local1 to Priests_Hole;
            give iron_key general;
            give Sir_Joshua_Meldrewe concealed;
            Achieved(SCORE_JOSHUA);	! not popped
            @pop;
            "The ghost swallows the wishbone, grinning nastily. Then a look of consternation spreads across his face. He begins to choke and as he fades away, his arms flailing wildly, he lets go of the key, which sails through the air onto the roof and (against all odds) falls neatly down a chimney.";
        }
        "The ghost swallows the ", (name) noun, " whole and grins!";
    }
    "You lack the nerve when it comes to the crucial moment.";
];

[ DemonHint hints_left ;	! 51206 / 0xc806
    if (demon hasnt general) {
        hints_left = demon.number;
        if (hints_left == 0) {
            "~No hints left, sucker.~";
        }
        "~Under Regulation 3, paragraph 15 (i) clause (f), only one hint per visit to the infernal domain. You'll have to go away again and come back if you want another. So sorry.~";
    }
    rfalse;
];

[ routine_c8ae local1 ;	! 51374 / 0xc8ae
    if (angel hasnt general) {
        local1 = 254[angel?];
        local1 = angel.number;
        if (local1 == 0) {
            "~No hints left, alas.~";
        }
        "~Under Regulation 3, paragraph 15 (i) clause (f), only one hint per visit to the sacred domain. You'll have to go away again and come back if you want another. So sorry.~";
    }
    rfalse;
];

[ routine_c956 local1 local2 local3 ;	! 51542 / 0xc956
    if (gas_mask has worn) {
        "Not through a gas mask you can't.";
    }
    if (second == Jemima) {
        if (Jemima hasnt general) {
            "She pretends not to have heard, a favourite ploy of hers when sulking.";
        }
        give Jemima ~general;
        local3 = 0;
        if (noun_word == 'yellow//p') {
            local3 = 1[?];
        }
        if (noun_word == 'blue//p') {
            local3 = 2[?];
        }
        if (noun_word == 'red//p') {
            local3 = 4[e_obj?];
        }
        if (noun_word == 'white//p') {
            local3 = 5[w_obj?];
        }
        if (noun_word == 'green//p') {
            local3 = 6[ne_obj?];
        }
        if (noun_word == 'orange//p') {
            local3 = 9[sw_obj?];
        }
        if (local3 ~= 0) {
            print "~Right you are then, I'm sure I have some which are just right.~^^";
        }
        if (local3 == 0) {
            local3 = 5[w_obj?];
            print "~Nothing like that left. Just plain old daisies for you then dear!~^^";
        }
        StartTimer(Jemima,10);	! not popped
        @pop;
        local1 = 115[daisy_chain?];
        local1.number = local3;
        "After a moment she notices you're still here. ~Come back later, it'll be done soon.~  You groan inwardly but force a sickly smile. Should have eaten the chocolates myself, you find yourself thinking.";
    }
    if (second == surly_shopkeeper) {
        if (fifty_franc_note hasnt general) {
            "It's not that he doesn't understand you, he's just obstructive for the sake of it.";
        }
        if (noun_word == 'carte//p') {
            local1 = 187[tourist_map_of_Paris?];
            move local1 to player;
            Achieved(SCORE_TOURIST);	! not popped
            @pop;
            give tourist_map_of_Paris moved;
            "Extremely reluctantly he serves you, giving you a tourist map of Paris.";
        }
        "~Non.~  And he folds his arms defiantly. Perhaps he has no such thing.";
    }
    if (second == Madame_Sosostris) {
        if (noun_word == 'even//p') {
            ! no code
        } else if (noun_word ~= 'odd//p') {
            "~You must answer my question!~  She does seem anxious.";
        }
        SosostrisDeals();	! not popped
        @pop;
        local1 = 173[Madame_Sosostris?];
        remove local1;
        give local1 general;
        give local1 concealed;
        rtrue;
    }
    if (second == hollow_man) {
        if (noun_word == 'time//p') {
            game_section = GARDEN;
            print "You lose all sense of time and place as the boat drifts down river... It comes as a considerable relief to your befuddled nerves when the man helps you off the boat again, and you find yourself:^";
            if (tourist_map_of_Paris has moved) {
                location = Attic;
            }
            if (tourist_map_of_Paris hasnt moved) {
                location = Garden_Stream;
            }
            remove player;
            move player to location;
            LookSub(true);	! not popped
            @pop;
            if (hollow_man hasnt general) {
                give hollow_man general;
                move Ace_of_Cups_card to player;
                print "^Was any of that real? you wonder, as you relax in the sunshine. But then you realise you are clutching a tarot card which certainly is.^";
            }
            rtrue;
        }
        global45 = global45 + 1;
        if (global45 == 1[?]) {
            "~I don't believe in that place any more. Hurry up please it's time!~";
        }
        if (global45 == 2[?]) {
            "~Hurry up please it's time!~";
        }
        if (global45 == 3[s_obj?]) {
            "~HURRY UP PLEASE IT'S TIME!~";
        }
        if (global45 == 4[e_obj?]) {
            "He can't be bothered to say anything this time.";
        }
        if (global45 == 5[w_obj?]) {
            "It really is time you thought of something.";
        }
        if (global45 == 6[ne_obj?]) {
            "Time and time again you haven't guessed correctly.";
        }
        if (global45 == 7[nw_obj?]) {
            "The hollow man must be beginning to think you can't take a hint.";
        }
        "~It's time!~ repeats the hollow man.";
    }
    if (second == Andromeda) {
        "Andromeda hisses something contemptuous at you in Greek. (Demotic, not Attic, ironically enough, but then it's all Greek to you.)";
    }
    if (second == bartender) {
        "Being an educated person, the bartender speaks a little Latin and some Aramaic. Being an uneducated one, you don't, and communication proves impossible.";
    }
    if (second == demon) {
        if (DemonHint() ~= 0) {
            rfalse;
        }
        if (0 ~= DemonQuestion(noun_word)) {
            give demon ~general;
        }
        rfalse;
    }
    if (second == angel) {
        if (routine_c8ae() ~= 0) {
            rfalse;
        }
        if (0 ~= AngelQuestion(noun_word)) {
            give angel ~general;
        }
        rfalse;
    }
    "No reply.";
];

[ routine_cfb4 local1 ;	! 53172 / 0xcfb4
    if (location == Eraina_Taverna) {
        "Given the language difficulty, you'd better resort to barter.";
    }
    if (location ~= Chatelet_les_Halles) {
        "There's nothing on sale.";
    }
    "~Q'est-ce que vous voulez acheter?~";
];

[ routine_d01e ;	! 53278 / 0xd01e
    if (noun == demon) {
        noun = second;
        second = demon;
        routine_c956();	! not popped
        @pop;
        rfalse;
    }
    if (noun == angel) {
        noun = second;
        second = angel;
        routine_c956();	! not popped
        @pop;
        rfalse;
    }
    "No reply.";
];

[ SingSub ;	! 53324 / 0xd04c
    "You do your best to sing the opening from Schutz' sacred concerto ~O bone Jesu, fili Mariae~ (SWV 471). Unfortunately your best is such that the result is indistinguishable from ~How much is that doggie in the window?~.";
];

[ routine_d0f0 ;	! 53488 / 0xd0f0
    if (noun == plane_tree) {
        noun = ceiling;
        GoSub();	! not popped
        @pop;
        rfalse;
    }
    "I don't think much is to be achieved by that.";
];

[ routine_d122 ;	! 53538 / 0xd122
    "Time passes.";
];

[ routine_d12e ;	! 53550 / 0xd12e
    "For heaven's sake, this is your own house.";
];

[ HintSub ;	! 53584 / 0xd150
    "There are hints built into this game, but you will have to find out for yourself how to get them.";
];

[ routine_d196 ;	! 53654 / 0xd196
    "Newcomers to the game may like to try the following:^^  ~help instructions~   gives some basic information,^  ~help credits~        runs the game credits,^  ~help legal~          makes some legal disclaimers,^  ~help commands~       details some common commands.";
];

[ HelpSub word ;	! 53844 / 0xd254
    word = noun_word;
    new_line;
    if (word == 'instructions//p') {
        "Welcome to CURSES, an interactive adventure game set initially in and around Meldrew House, an old family seat in the shires of England. You play the part of the current heir to the house. As for what you should do, try to keep in mind that your aim is simply to find that map of Paris so you can go on holiday - you certainly haven't any enormous quests in mind. Still, it would be interesting to find out:^", "^  Just how real is what the Tarot cards show?^  What do sixth century politics have to do with you?^  Surely Greek myths can't come into this?^  What on earth is wrong with your entire family?^  Do the National Trust have sinister motives?^  Can modernist poetry really be bad for you?^  What are daisies for?  Or goats, for that matter?^  Should you rescue someone who doesn't want you to?^^", "To finally understand the secret, you will need to reach the Master Game, a concluding game-within-a-game buried deep in the past. A quick solution takes about 700 turns. Good luck!";
    }
    if (word == 'credit//p') {
        Banner();	! not popped
        @pop;
        "^Release 7 is the earliest version to be posted to the interactive-fiction archive. Updated versions may be posted if enough small improvements are made.^", "^The author wishes to thank Richard Tucker, Gareth Rees, David Moore, Mark Knibbs and Toby Nelson for helpful comments. He also wishes to apologise to the late Mr T. S. Eliot and to acknowledge the editors of the Oxford History of England for helping to provide a thin veneer of intellectual respectability.^^Inform, the compiler which produced this file, could not have been written without the archaeological investigations of the InfoTaskForce.";
    }
    if (word == 'legal//p') {
        Banner();	! not popped
        @pop;
        "^This story file is copyright (c) Graham Nelson 1993, but may be freely distributed and used provided no profit is involved and provided it is not modified in any way. Although it conforms to some (not quite all) file standards previously used by a certain computing company, it contains no fragments of code written by anyone other than the author. It was not produced by modification of any existing story file. The author was extremely tempted to hide an important clue here, but thought better of it. No trade marks are (knowingly) used. All characters and locations are imaginary, and any resemblance to real persons or places is accidental.";
    }
    if (word == 'command//p') {
        "Basic commands consist either of a verb on its own, or a verb with one or more nouns. For instance, to see where you are type ~look~. Some verbs can also have more elaborate forms; for instance you could also look at, inside or under something. There are about 675 English words understood by ~Curses~, so most reasonable synonyms are allowed.^^To pick something up, ~take thing~ and to drop it again, ~drop thing~. To see what you have, type ~take inventory~ or just ~inventory~. You can move about with commands such as ~go west~, or just ~west~ for short. (It is assumed that you are blessed with an excellent sense of direction.)^^", "Some commands can act on more than one thing. You can ~drop all~, which will drop everything (except things you're wearing), for instance. Or if you found a packing case with a number of things in, you could type such things as:^^    remove everything but the blue key^    get all the coins except ten, twenty and fifty^^(Containers may also be emptied or emptied into each other.)  If you are not explicit enough, sometimes the game can infer what you mean, but at other times it will ask for further details. It might have replied to the first line above by saying^^    (from the yellow packing case)^^", "so that you know what has been assumed on your behalf. If there had been two blue keys you might reasonably have meant, it would reply with something like^^    Which do you mean, the blue doorkey or the Blue Moon Agency key?^^You may either tell it which, or else give up and do something else instead. If you don't mind which key, you can always say something such as:^^    drop a key into the slot^^and the game will make a sensible choice and tell you what it was.^^", "~Curses~ sometimes assumes commands which you implicitly make, but always tells you what they are in brackets. For instance:^^    >look up bach in book^    (first taking the Encyclopaedia of Composers)^    (putting the tuning fork in the rucksack to make room)^    ~J. S. Bach (1685-1750) had a pet aardvark called Nigel...^^", "~it~ refers to the last thing manipulated and ~again~ repeats the last command.^^You can ~save~, ~restore~ or ~restart~ the game at any time, or indeed ~quit~ or ask for your ~score~, which also tells the time and thus will be consulted every so often by alert players. ~fullscore~ or ~full~ gives a breakdown of the score. As an aide-memoire the command ~objects~ tells you where you left things you once had, and ~places~ says where you have been. These commands do not take up any game time, and nor does anything the game didn't understand.^^", "Some jaundiced players get tired of the long descriptions of places, and they can type ~short~ (or ~superbrief~) to make the game only give short ones. Amnesiac players, on the other hand, may like to use ~long~ (or ~verbose~) to give only long ones. Either kind can go back to the usual state of affairs with ~normal~ (or ~brief~).^^", "Simple typing mistakes can sometimes be corrected just by typing ~oops~ followed by the word you had intended to type, so for instance:^^    drop fish in buket^    oops bucket^^The game knows several useful abbreviations: i for inventory, ne for northeast (and so on), l for look, g for again, o for oops, x for examine, z for wait (short for ~zzz~ - sorry about that).^^", "You can sometimes enter larger objects you find. You might well be able to get in a tractor, for instance, though driving it around might be harder.^^", "From time to time, you will wish to speak to other people. If you only have a single word to say, you could use commands like^^    answer yes^    say boo to goose^^(Text in quotation marks is not allowed.)  The game will usually guess who you want to talk to if you miss off the name. A better way to talk, which allows more complicated remarks, is to use commands such as^", "^    goose, boo^    wine waiter, give me the bill^^though, of course, the waiter may have better things to do.^Some documents may be consulted in this game. For this, try commands such as^^    look up chlorine^    consult periodic table about argon^^", "There are, of course, many other commands for more specialised circumstances. A final word of warning: cursing is strictly forbidden in this game.";
    }
    "There's no help on that, sorry.";
];

[ routine_e4a8 ;	! 58536 / 0xe4a8
    if (current_year == 57) {
        debug_mode = true;
        "Ok.";
    }
    "You can't do that.";
];

[ DebugMoveRods obj ;	! 58566 / 0xe4c6
    obj = rod_of_fire;
    remove obj;
    move obj to Infinity_Symbol;
    obj = rod_of_returning;
    remove obj;
    move obj to Infinity_Symbol;
    obj = rod_of_luck;
    remove obj;
    move obj to Infinity_Symbol;
    obj = rod_of_bronze;
    remove obj;
    move obj to Infinity_Symbol;
    obj = rod_of_infinity;
    remove obj;
    move obj to Infinity_Symbol;
    obj = rod_of_stalking;
    remove obj;
    move obj to Infinity_Symbol;
    obj = rod_of_sacrifice;
    remove obj;
    move obj to Infinity_Symbol;
    obj = rod_of_husbandry;
    remove obj;
    move obj to Infinity_Symbol;
    obj = Star_card;
    remove obj;
    move obj to Grahams_Lair;
    obj = Maiden_card;
    remove obj;
    move obj to Grahams_Lair;
    obj = Castle_card;
    remove obj;
    move obj to Grahams_Lair;
    obj = tourist_map_of_Paris;
    remove obj;
    move obj to Grahams_Lair;
    obj = flash;
    remove obj;
    move obj to Grahams_Lair;
    obj = nasty_battery;
    remove obj;
    move obj to flash;
    obj = timer_detonater;
    remove obj;
    move obj to flash;
    give timer_detonater ~static;
    obj.number = 0;
    obj = canvas_rucksack;
    remove obj;
    move obj to Grahams_Lair;
    obj = Tarot_box;
    remove obj;
    move obj to Grahams_Lair;
    "Ok.";
];

[ LearnLanguages ;	! 58718 / 0xe55e
    KnowLanguages = true;
    turns = turns + 300;
    "You spend 300 minutes learning to speak Anglo-Saxon, Norse and Celtic.";
];

[ routine_e5a0 ;	! 58784 / 0xe5a0
    debug_deterministic_transportation = true;
    "Location is now determinable.";
];

[ routine_e5bc local1 ;	! 58812 / 0xe5bc
    remove player;
    move player to Grahams_Lair;
    location = Grahams_Lair;
    LookSub(true);	! not popped
    @pop;
    rtrue;
];

[ routine_e5d0 ;	! 58832 / 0xe5d0
    game_section = current_year;
    give weed_killer ~general;
    ScoreSub();	! not popped
    @pop;
    rtrue;
];

[ SleepSub env sib ;	! 58846 / 0xe5de
    env = parent(player);
    if (env == servants_bed) {
        ! no code
    } else {
        if (env ~= comfortable_bed) {
            "Your mother taught you never to go to sleep until you're tucked up in bed.";
        }
        "You sleep briefly, fitfully, tossing and turning all the while, and dream of Miss Alison writing at her table, and then of being caught by a strange man, who strikes his staff on the ground, then points it directly at you... You begin to fade away. Before you do, he strikes his staff again, then points it at himself and vanishes. You explode back into consciousness!";
    }
    if (servants_bed has general) {
        "You doze awhile, but that's all.";
    }
    give servants_bed general;
    print "You sleep unexpectedly deeply, but just as you think you are starting to wake up, you experience a sudden...^";
    env = child(player);
  .label59297;
    if (env ~= nothing) {
        sib = sibling(env);
        remove env;
        move env to e_obj;
        env = sib;
        jump label59297;
    }
    game_section = DREAMING;
    location = Premonition;
    remove player;
    move player to Premonition;
    LookSub();	! not popped
    @pop;
    rtrue;
];

[ OneTimeBonusScore unused ;	! 59336 / 0xe7c8
    if (Old_Winery has general) {
        rtrue;
    }
    give Old_Winery general;
    StartTimer(Old_Winery,4);	! not popped
    @pop;
    score = score + 5;
    good_try_bonus = true;
    "^A shame to see such a good try unrewarded... oh, go on, have an extra five points.";
];

[ DealCard local1 ;	! 59426 / 0xe822
    --card_ptr;
    local1 = card_deck->card_ptr;
    move local1 to Consulting_Room;
    Defart(local1);	! not popped
    @pop;
    return local1;
];

[ InsertCardIntoDeck card ;	! 59448 / 0xe838
    card_deck->card_ptr = card;
    ++card_ptr;
    rtrue;
];

[ SosostrisDeals card3 card2 card1 ;	! 59460 / 0xe844
    print "Madame Sosostris picks up the cards and deals them onto the table. She frowns in concentration as ";
    card3 = DealCard();
    print ", ";
    card2 = DealCard();
    print " and then ";
    card1 = DealCard();
    print " show. ";
    if (card3 == Death_card) {
        print "She blanches with alarm, then recovers and jabbers something about not taking the cards too literally, the images being symbolic and so on. As rapidly as she possibly can, she warns you to fear death by water and then hustles you out onto the street.^";
    } else {
        if (card3 ~= Star_card) {
            ! no code
        } else if (card2 ~= Maiden_card) {
            ! no code
        } else if (card1 ~= Eight_of_Wands_card) {
            ! no code
        } else {
            print "~You have come!  At last, after all these centuries!  But there is little I can do to ease your way, save to return the staff you left with me for safe keeping.~  And she shows you out. You feel rather bewildered.^";
            card3 = oak_quarterstaff;
            move card3 to player;
            jump label60100;
        }
        print "~Then... it is not you...~ she says, in an unguarded moment. Then she recovers her poise and advises about handsome strangers, fearing death by water, crossing palms with gold and so on. Eventually she ushers you out.^";
    }
  .label60100;
    remove player;
    location = Unreal_City;
    move player to Unreal_City;
    LookSub(true);	! not popped
    @pop;
    rtrue;
];

! References: rod_of_fire.rod_action

[ FireRodAction local1 ;	! 60116 / 0xead4
    if (second == player) {
        deadflag = DIED;
        "Oh dear. Like Mad Isaac before you, you have spontaneously combusted!";
    }
    if (second has animate) {
        "For heaven's sake, you're only looking for an out-of-date map. Murder does seem a little extreme.";
    }
    if (second == wall_of_thorns_object) {
        if (wall_of_thorns_object has open) {
            "The wall wriggles in discomfort, but manages to avoid further devastation.";
        }
        give wall_of_thorns_object open;
        "Fire leaps out from the rod into the heart of the thorn wall, which screams out as it burns, revealing a great hole through the wild flames. You catch a tantalising glimpse of a great Temple, before the wall heals back. But it is unable to recover entirely, and a charred gap is left to the south. You could probably squeeze through it.";
    }
    if (second has scenery) {
        ! no code
    } else if (second has static) {
        ! no code
    } else {
        if (second == medicine_bottle) {
            print "The melting point of this glass is very high, and amazingly it withstands the bolt of fire.^";
            OneTimeBonusScore();	! not popped
            @pop;
            rfalse;
        }
        remove second;
        print "A bolt of fire leaps from the rod and consumes ";
        Defart(second);	! not popped
        @pop;
        " utterly!";
    }
    deadflag = DIED;
    "You start a great conflagration, and then perish in it!";
];

! References: rod_of_returning.rod_action, rod_of_returning2.rod_action

[ transport_player n dest ;	! 60748 / 0xed4c
    if (second ~= player) {
        "Nothing obvious happens.";
    }
    print "You are engulfed in a cloud of spinning white lights, like insects. When the swarm clears, you find yourself transported...^";
    if (game_section == ANCIENT_BRITAIN) {
        dest = Infinity_Symbol;
        n = 244;
        remove n;
    }
    if (game_section ~= ANCIENT_BRITAIN) {
        n = random(4);
        dest = Attic;
        if (n == 2) {
            dest = Old_Furniture;
        }
        if (n == 3) {
            dest = Old_Winery;
        }
        if (n == 4) {
            dest = Over_the_East_Wing;
        }
        if (debug_deterministic_transportation == true) {
            dest = Attic;
        }
    }
    game_section = MODERN;
    remove player;
    move player to dest;
    location = dest;
    LookSub();	! not popped
    @pop;
    rtrue;
];

! References: rod_of_husbandry.rod_action

[ RodOfHusbandryAction local1 local2 ;	! 60944 / 0xee10
    if (second == player) {
        "You feel suddenly obedient, and briefly fancy a dog biscuit.";
    }
    if (second ~= herd_of_goats) {
        "Nothing obvious happens.";
    }
    give herd_of_goats general;
    "The goats suddenly look up at you with awe, although they resume their former interest in eating the grass quite quickly.";
];

! References: rod_of_bronze.rod_action

[ RodOfBronzeAction local1 local2 ;	! 61110 / 0xeeb6
    if (second == player) {
        "You acquire a sudden sun tan, but it soon fades.";
    }
    if (second ~= bronze_mural) {
        "Nothing obvious happens.";
    }
    if (bronze_mural has open) {
        "Nothing further happens.";
    }
    give bronze_mural open;
    "With an awful heaving, wrenching noise, the mural slides a little sideways, opening up a murky downward passage which can't have been used for centuries.";
];

! References: rod_of_luck.rod_action

[ RodOfLuckAction local1 local2 ;	! 61314 / 0xef82
    if (second == player) {
        if (big_electricians_switch has on) {
            "You feel no different. Perhaps there's no such thing as luck.";
        }
        give noun general;
        "You feel optimistic and lucky. Mind you, you feel that most times.";
    }
    "Nothing obvious happens.";
];

! References: rod_of_sacrifice.rod_action

[ RodOfSAcrificeAction local1 local2 ;	! 61446 / 0xf006
    if (second == player) {
        deadflag = DIED;
        "You feel a noble surge of pride as your body is incinerated by the Rod of Sacrifice. At least you died for some terribly important cause, although exactly what it was seems to have slipped your mind.";
    }
    "Nothing obvious happens.";
];

! References: rod_of_language.rod_action

[ RodOfLanguageAction ;	! 61618 / 0xf0b2
    if (second == player) {
        KnowLanguages = true;
        "Nothing obvious happens. You curse eloquently in Celtic.";
    }
    "Nothing obvious happens.";
];

! References: rod_of_stalking.rod_action

[ stalking_rod_action local1 local2 ;	! 61690 / 0xf0fa
    if (second == player) {
        "Your hair stands momentarily on end, as if it wants to stalk up out of your head, but happily it decides against.";
    }
    if (second == plane_tree) {
        "The tree shakes and shivers, but thankfully remains intact.";
    }
    if (second ~= runner_bean_plant) {
        "Nothing obvious happens.";
    }
    if (runner_bean_plant has open) {
        "Nothing further happens.";
    }
    give runner_bean_plant open;
    print "^Warning: something extremely cliched is about to happen. When you think you have composed yourself and can stand it, press ENTER. ", '>';
    @sread buffer parse;
    new_line;
    "Suddenly an enormous beanstalk sprouts out of the ground, exactly as per fairy tale, reaching up high into the sky!  You yawn convulsively.";
];

! References: rod_of_infinity.rod_action

[ RodOfInfinityAction local1 local2 ;	! 62082 / 0xf282
    if (second == player) {
        "You acquire no especial sense of the infinite.";
    }
    if (second ~= lemniscus) {
        "Nothing obvious happens.";
    }
    local1 = 106[circular_arc?];
    local2 = local1.number;
    if (local2 < 6) {
        "You feel the air charge with excitement, and the symbol glows fiery red for a moment, but then the power drains away into one of the empty sockets in the arc.";
    }
    if (noun has general) {
        "Nothing happens this time.";
    }
    print "The air charges with excitement, and the symbol glows fiery red, then begins to spin, faster and faster until everything becomes a daze and you find yourself...^";
    give noun general;
    TriggerEndgame();	! not popped
    @pop;
    rtrue;
];

[ TriggerEndgame i j ;	! 62422 / 0xf3d6
    game_section = ANCIENT_BRITAIN;
    i = child(player);
  .label62434;
    if (i ~= nothing) {
        j = sibling(i);
        give i ~worn;
        remove i;
        move i to Infinity_Symbol;
        i = j;
        jump label62434;
    }
    location = Murky_Cave;
    remove player;
    move player to Murky_Cave;
    i = historical_pamphlet;
    move i to player;
    LookSub();	! not popped
    @pop;
    rtrue;
];

! References: House.after

[ HouseAfter local1 ;	! 62478 / 0xf40e
    local1 = 187[tourist_map_of_Paris?];
    local1 = parent(local1);
    if (local1 == player) {
        deadflag = WON;
        "You have succeeded in shaking off the Curse of the Meldrews: for the first time in sixty generations, a Meldrew has found the useless object he was doomed to seek!  Unfortunately on the way to the airport you realise that you left the map on the kitchen table in all the rush, but never mind, you're on holiday now.";
    }
    deadflag = FAILED;
    "Yes, probably just as well to give up looking, and heaven knows there's enough packing to do, what with the rest of the family in uproar. Oh well.";
];

! References: Old_Winery.after

[ WineryAfter local1 ;	! 62822 / 0xf566
    if (verb ~= ##Look) {
        rfalse;
    }
    if (Old_Winery has general) {
        rfalse;
    }
    print "^As you disturb the still air, the attic key, which was balanced on top of the demijohn, slips onto the floor and disappears into a crack in the floorboards. Your spirits sink as it does, rattling down some distance. How on earth are you going to get it back?^";
    give Old_Winery general;
    rtrue;
];

! References: East_Annexe.after

[ EastAnnexeAfter local1 local2 ;	! 63024 / 0xf630
    if (verb == ##Go) {
        local1 = 24[old_smudged_battery?];
        local2 = local1.number;
        if (local2 > 3) {
            local1.number = 3;
        }
    }
    rfalse;
];

! References: Inside_Cupboard.after

[ InsideCupboardAfter local1 ;	! 63052 / 0xf64c
    if (verb == ##Insert && second == big_iron_fireplace) {
        remove noun;
        move noun to Priests_Hole;
        if (sooty_old_stick hasnt moved) {
            local1 = 69[sooty_old_stick?];
            remove local1;
            move local1 to Priests_Hole;
            give sooty_old_stick moved;
        }
        "It rattles out of sight down the chimney.";
    }
    rfalse;
];

! References: Storage_Room.after

[ StorageRoomBefore local1 ;	! 63118 / 0xf68e
    if (verb == ##Insert && second == dark_shaft_obj) {
        remove noun;
        move noun to dumbwaiter;
        local1 = 86[dumbwaiter?];
        local1 = parent(local1);
        if (local1 == location) {
            "Put on the dumbwaiter.";
        }
        if (noun == medicine_bottle) {
            give medicine_bottle ~locked;
            give medicine_bottle open;
            "It disappears into the darkness, and there is a slight cracking noise.";
        }
        "It disappears into the darkness.";
    }
    rfalse;
];

! References: Storage_Room.before

[ StorageRoomBefore local1 ;	! 63252 / 0xf714
    if (verb == ##Enter) {
        local1 = 86[dumbwaiter?];
        local1 = parent(local1);
        if (local1 == 84[Storage_Room?]) {
            noun = dumbwaiter;
            rfalse;
        }
        "But you suffer from vertigo. Even the thought of the plane journey tomorrow is nerve-wracking.";
    }
    rfalse;
];

! References: Cellars.before

[ CellarsBefore local1 ;	! 63344 / 0xf770
    if (verb == ##Enter) {
        local1 = 86[dumbwaiter?];
        local1 = parent(local1);
        if (local1 == 93[Cellars?]) {
            noun = dumbwaiter;
            rfalse;
        }
        "No, don't. There's nothing there and it's nasty and dirty. Bring the dumbwaiter down instead.";
    }
    rfalse;
];

[ routine_f7d0 ;	! 63440 / 0xf7d0
    if (verb == ##Exit) {
        "Far, far too dangerous to contemplate. Besides, you're a coward.";
    }
    rfalse;
];

! References: Chimney.before

[ ChimneyBefore local1 ;	! 63496 / 0xf808
    if (verb == ##Go) {
        if (noun == floor) {
            local1 = child(player);
            if (local1 ~= 0) {
                "It's too narrow a squeeze for you at present.";
            }
            print "You squeeze awkwardly down the chimney. Lucky your best clothes are all packed, because you're getting filthy.";
            rfalse;
        }
        rfalse;
    }
    "There's not enough room in this confined space to do anything much!";
];

! References: Priests_Hole.before

[ PriestsHoleBefore local1 ;	! 63682 / 0xf8c2
    if (verb == ##Go) {
        if (noun == ceiling) {
            local1 = child(player);
            if (local1 ~= 0) {
                "It's too narrow a squeeze for you at present.";
            }
            print "You squeeze awkwardly back up the chimney.";
            rfalse;
        }
        if (noun == floor && hatch has open) {
            print "You zoom rapidly down the chute, but decelerate just in time and land in a dark corner of...^";
            rfalse;
        }
    }
    rfalse;
];

! References: painting_of_Mad_Isaac_Meldrewe.after

[ IsaacPaintingAfter ;	! 63848 / 0xf968
    if (verb == ##Take && big_iron_fireplace has concealed) {
        give big_iron_fireplace ~concealed;
        "Taken. (There's a fireplace behind it, by the way.)";
    }
    rfalse;
];

! References: Dark_Room.after

[ DarkRoomAfter ;	! 63904 / 0xf9a0
    if (verb == ##Look && Dark_Room has light) {
        print "^The room is filled with an eerie, reddish light. You feel gloomy and can't help thinking about aviation accident statistics.^";
    }
    rfalse;
];

! References: Dark_Shaft.after

[ DarkShaftAfter ;	! 64008 / 0xfa08
    if (verb == ##Look && parent(dumbwaiter) ~= Dark_Shaft) {
        print "^Since the dumbwaiter isn't here, the best you can do is clamber down the shaft to the cellars.^";
    }
    rfalse;
];

! References: Dark_Shaft.before

[ DarkShaftBefore ;	! 64092 / 0xfa5c
    if (verb == ##Go && noun == floor && parent(dumbwaiter) == Dark_Shaft) {
        "Since the dumbwaiter is here, why not travel in that instead.";
    }
    rfalse;
];

! References: postcard.after

[ PostcardAfter ;	! 64158 / 0xfa9e
    if (verb == ##Examine && location == Dark_Room && Dark_Room has light) {
        Achieved(SCORE_HAMBURG);	! not popped
        @pop;
        "^No... wait. The eerie lamp-light is bringing out a message in invisible ink:^^   Hamburg 1420^^   Ticket 7.-^^The seven is crossed through in continental fashion.";
    }
    rfalse;
];

[ FlashCheck obj sib ;	! 64310 / 0xfb36
    obj = flash;
    sib = nothing;
    obj = child(obj);
    if (obj ~= nothing) {
        sib = sibling(obj);
    }
    if (0 ~= obj * sib) {
        "The flash is full already.";
    }
    if (noun == new_battery) {
        ! no code
    } else if (noun == old_smudged_battery) {
        ! no code
    } else if (noun == nasty_battery) {
        ! no code
    } else {
        if (noun ~= timer_detonater) {
            "Only batteries and timers will fit in.";
        }
        rfalse;
    }
    if (obj == new_battery) {
        ! no code
    } else if (obj == old_smudged_battery) {
        ! no code
    } else if (obj == nasty_battery) {
        ! no code
    } else {
        rfalse;
    }
    "There is already a battery inside, and there's only room now for a timer.";
];

[ FlashInsert o ;	! 64502 / 0xfbf6
    o = electric_torch;
    o = child(o);
    if (o ~= nothing) {
        "There's a battery in already.";
    }
    if (noun == new_battery) {
        rfalse;
    }
    if (noun == old_smudged_battery) {
        rfalse;
    }
    if (noun == nasty_battery) {
        rfalse;
    }
    "Not surprisingly, it won't fit in the battery compartment.";
];

! References: electric_torch.after

[ TorchAfter o ;	! 64602 / 0xfc5a
    if (verb == ##Open) {
        if (electric_torch has light) {
            print "The torch goes out as you open the battery compartment.^";
        }
        if (electric_torch hasnt light) {
            print "You open the battery compartment of the torch.^";
        }
        give electric_torch ~light;
        rtrue;
    }
    if (verb == ##Close) {
        o = electric_torch;
        o = child(o);
        print "You close the battery compartment of the torch";
        if (o == new_battery) {
            Achieved(SCORE_TORCH);	! not popped
            @pop;
        } else {
            if (o == nasty_battery) {
                deadflag = FAILED;
                ", and it explodes with light, becomes hot enough to melt, falls to the floor, catches fire and burns down most of the attic...^^It may be some consolation that since you spend your holiday in the local hospital burns unit, you are never inconvenienced much by not finding the map.";
            }
            if (o ~= old_smudged_battery) {
                rfalse;
            }
        }
        o = o.number;
        if (o == nothing) {
            ", but the battery must be dead because nothing happens.";
        }
        give electric_torch light;
        if (o > 5) {
            ", and it lights up brightly.";
        }
        ", and it lights up feebly.";
        rtrue;
    }
    rfalse;
];

! References: hanging_cord.before

[ HangingCordBefore ;	! 65072 / 0xfe30
    if (verb == ##Pull) {
        print "Click!  ";
        if (Dark_Room has light) {
            give Dark_Room ~light;
            "The lamp goes out.";
        }
        give Dark_Room light;
        "A developing lamp comes on, emitting an eerie red light.";
    }
    rfalse;
];

! References: solid_glass_ball.before

[ GlassBallBefore i ;	! 65156 / 0xfe84
    if (verb ~= ##Examine) {
        rfalse;
    }
    if (solid_glass_ball hasnt general) {
        "The ball is scratched and misted up.";
    }
    i = 8;
    i = random(i);
    print "In the ball mists swirl, then part to give ";
    if (i == 1) {
        "a reflection of your face.";
    }
    if (i == 2) {
        "a dizzying aerial view of Meldrew House gardens.";
    }
    if (i == 3) {
        "confused pictures of a tree being planted.";
    }
    if (i == 4) {
        "an image of a typist, home from work and wandering about her bedsit room.";
    }
    if (i == 5) {
        "a dark picture of a museum display case.";
    }
    if (i == 6) {
        "an Old Master painting, perhaps a Watteau, of a scene from classical mythology.";
    }
    if (i == 7) {
        "an oddly-angled view of a Roman villa half in ruins.";
    }
    "flames of camp-fires, mixed up with faces around them.";
];

! References: metal_door.after

[ MetalDoorAfter ;	! 65572 / 0x10024
    if (verb == ##Unlock) {
        give coal_bunker ~locked;
    }
    if (verb == ##Lock) {
        give coal_bunker locked;
    }
    if (verb == ##Open) {
        give coal_bunker open;
    }
    if (verb == ##Close) {
        give coal_bunker ~open;
    }
    rfalse;
];

! References: coal_bunker.after

[ CoalBunkerAfter ;	! 65606 / 0x10046
    if (verb == ##Unlock) {
        give metal_door ~locked;
    }
    if (verb == ##Lock) {
        give metal_door locked;
    }
    if (verb == ##Open) {
        give metal_door open;
    }
    if (verb == ##Close) {
        give metal_door ~open;
    }
    rfalse;
];

! References: pulley_ropes.before

[ PulleyBefore env dst ;	! 65640 / 0x10068
    if (verb == ##Pull) {
        env = parent(player);
        if (env ~= dumbwaiter) {
            "You can't reach them!";
        }
        Achieved(SCORE_WAITER);	! not popped
        @pop;
        if (location == Storage_Room) {
            dst = Cellars;
            print "You begin moving, and then plummet, but friction gradually slows you down and you land without too much of a thump...^";
        }
        if (location == Dark_Shaft) {
            dst = Storage_Room;
            print "You heave yourself up to the attic again...^";
        }
        if (location == Cellars) {
            dst = Dark_Shaft;
            print "You heave yourself half-way up, and then need to stop for a rest.^";
        }
        env = dumbwaiter;
        remove env;
        move env to dst;
        location = dst;
        LookSub();	! not popped
        @pop;
        rtrue;
    }
    if (verb == ##Climb) {
        "If only you didn't suffer from such dreadful vertigo...";
    }
    rfalse;
];

! References: windows.before

[ WindowsBefore ;	! 65940 / 0x10194
    if (verb == ##Attack) {
        if (windows has open) {
            rfalse;
        }
        give windows open;
        "The windows suddenly give way in a shower of flakes of paint, letting fresh summer air into the room!";
    }
    rfalse;
];

! References: medicine_bottle.before

[ MedicineBefore ;	! 66028 / 0x101ec
    if (verb == ##Attack) {
        "You become extremely violent in your attempt, but the glass resists all attacks. Whatever would it take to break the dratted thing?";
    }
    if (verb == ##Open) {
        if (medicine_bottle hasnt locked) {
            rfalse;
        }
        "You try absolutely everything. Pushing the top down, turning it, pulling it, putting it on the floor and jumping up and down on it, everything. It is resolutely adult-proof. Whatever would it take to break the dratted thing?";
    }
    rfalse;
];

! References: hinged_trapdoor.after

[ TrapdoorAfter ;	! 66298 / 0x102fa
    if (verb == ##Open) {
        give hinged_trapdoor light;
        rfalse;
    }
    if (verb == ##Close) {
        give hinged_trapdoor ~light;
        give antique_jewellery_box ~concealed;
        "You close the trapdoor, surprised to see that something shiny was obscured by it.";
    }
    rfalse;
];

! References: demijohn.before

[ DemijohnBefore ;	! 66378 / 0x1034a
    if (verb == ##Open) {
        if (old_gardeners__gloves hasnt worn) {
            "Your hands slip on the screw-top of the demijohn and can't get a grip.";
        }
        Achieved(SCORE_DEMIJOHN);	! not popped
        @pop;
    }
    rfalse;
];

! References: gift_wrapped_parcel.before

[ ParcelBefore o ;	! 66448 / 0x10390
    if (verb == ##Open) {
        o = gift_wrapped_parcel;
        remove o;
        o = postcard;
        move o to player;
        o = box_of_chocolates;
        move o to player;
        o = wrapping_paper;
        move o to location;
        "You tear open the parcel to find a box of chocolates and a card.";
    }
    rfalse;
];

! References: iron_key.before

[ IronKeyBefore o ;	! 66526 / 0x103de
    if (verb == ##Take) {
        if (iron_key has general) {
            rfalse;
        }
        give Sir_Joshua_Meldrewe ~concealed;
        o = iron_key;
        remove o;
        move o to Sir_Joshua_Meldrewe;
        o = Sir_Joshua_Meldrewe;
        o.number = 5;
        "As you reach for the key, a swirling mist condenses about it, into a ghostly head which opens its mouth and eats up the key!  The rest of the ghostly body solidifies about the head and rises to swagger before you.";
    }
    rfalse;
];

! References: Potting_Room.after

[ PottingRoomAfter local1 ;	! 66708 / 0x10494
    if (verb == ##Look && antiquated_wireless has general) {
        local1 = 111[antiquated_wireless?];
        local1 = parent(local1);
        if (local1 == 107[Conservatory?]) {
            print "^Execrable music drifts in from the conservatory.^";
        }
    }
    rfalse;
];

! References: old_gardeners__gloves.before

[ GlovesBefore local1 ;	! 66770 / 0x104d2
    if (verb == ##Take && old_gardeners__gloves hasnt moved) {
        if (antiquated_wireless has general) {
            rfalse;
        }
        deadflag = FAILED;
        "Aunt Jemima suddenly hears you, spins round to see you filching her gloves and screeches with irritation, eventually summoning the entire family. You volunteer to shift some suitcases about just to get away from her.";
    }
    rfalse;
];

! References: calendar.before

[ CalendarBefore i ;	! 66944 / 0x10580
    if (verb == ##Examine) {
        i = 108[calendar?];
        i = i.number;
        print "The calendar is turned to ";
      .label66978;
        if (i == 0) {
            print "January";
        }
        if (i == 1[?]) {
            print "February";
        }
        if (i == 2[?]) {
            print "March";
        }
        if (i == 3[s_obj?]) {
            print "April";
        }
        if (i == 4[e_obj?]) {
            print "May";
        }
        if (i == 5[w_obj?]) {
            print "June";
        }
        if (i == 6[ne_obj?]) {
            print "July";
        }
        if (i == 7[nw_obj?]) {
            print "August";
        }
        if (i == 8[se_obj?]) {
            print "September";
        }
        if (i == 9[sw_obj?]) {
            print "October";
        }
        if (i == 10[ceiling?]) {
            print "November";
        }
        if (i == 11[floor?]) {
            print "December";
        }
        print " and a watercolour painting of some ";
        DescFlower(i);	! not popped
        @pop;
        " daisies.";
    }
    if (verb == ##Turn) {
        i = 108[calendar?];
        i = i.number;
        ++i;
        if (i == 12[thedark?]) {
            i = 0;
        }
        calendar.number = i;
        Achieved(SCORE_CALENDAR);	! not popped
        @pop;
        print "You turn over to ";
        jump label66978;
    }
    rfalse;
];

! References: daisy_chain.before

[ daiy_chain_after obj ;	! 67206 / 0x10686
    if (verb == ##Examine) {
        obj = daisy_chain;
        obj = obj.number;
        print "A delicate, pretty chain of ";
        DescFlower(obj);	! not popped
        @pop;
        " daisies.";
    }
    if (verb == ##Drop) {
        obj = daisy_chain;
        remove obj;
        "The daisychain falls to pieces in your hands!";
    }
    rfalse;
];

[ DescFlower n ;	! 67302 / 0x106e6
    if (n == 0) {
        print "speckled Jemima's Pride";
    }
    if (n == 1) {
        print "yellowish Merlyn's Hat";
    }
    if (n == 2) {
        print "blue-tinted bell";
    }
    if (n == 3) {
        print "heavy-headed Dorset Pride";
    }
    if (n == 4) {
        print "reddish meadow-heart";
    }
    if (n == 5) {
        print "wild white common";
    }
    if (n == 6) {
        print "green-edged hedgerow";
    }
    if (n == 7) {
        print "plain Russian Steppe";
    }
    if (n == 8) {
        print "tall-stemmed Breton";
    }
    if (n == 9) {
        print "orange meadow";
    }
    if (n == 10) {
        print "short-leaved Meldrew";
    }
    if (n == 11) {
        print "tiny bonsai";
    }
    rtrue;
];

! References: Coven_Cell.before

[ CellBefore ;	! 67550 / 0x107de
    if (verb == ##Wait) {
        rfalse;
    }
    if (player has general && 5 > CountDown(Coven_Cell)) {
        "You seem to lack the will any more. The drug must have taken hold.";
    }
    rfalse;
];

! References: poetry_book.before

[ PoetryBefore local1 ;	! 67624 / 0x10828
    if (verb == ##Examine) {
        print "Publishers talk a lot of nonsense about readers being transported away by books, but somehow you have arrived in the...^";
        local1 = 48[poetry_book?];
        remove local1;
        move local1 to location;
        game_section = UNREAL;
        location = Unreal_City;
        remove player;
        move player to Unreal_City;
        LookSub();	! not popped
        @pop;
        rtrue;
    }
    rfalse;
];

! References: large_dial.before

[ DialBefore ;	! 67744 / 0x108a0
    if (verb == ##Turn) {
        deadflag = DESTROYED_UNIVERSE;
        score = 0;
        score = score - 99;
        "Mmm. On the whole, it's probably best not to alter one of the fundamental constants of the physical universe while still inside it. On the bright side, for once you are unlikely to get the blame.";
    }
    rfalse;
];

! References: wheel.before

[ WheelBefore local1 ;	! 67898 / 0x1093a
    local1 = Wheel2Before();
    return local1;
];

! References: wheel2.before

[ Wheel2Before obj ;	! 67908 / 0x10944
    if (verb == ##Turn) {
        obj = parent(player);
        if (obj == dumbwaiter) {
            "If you could only reach the wheel from here...";
        }
        if (noun has on) {
            "It won't turn. Perhaps it's broken, or perhaps only rusty.";
        }
        print "It spins round smoothly, and the dumbwaiter is hoisted ";
        obj = dumbwaiter;
        obj = parent(obj);
        if (obj == location) {
            print "away out of sight.";
        }
        if (obj ~= location) {
            print "into view.";
        }
        if (obj == Storage_Room) {
            move dumbwaiter to Cellars;
        }
        if (obj == Dark_Shaft) {
            move dumbwaiter to location;
        }
        if (obj == Cellars) {
            move dumbwaiter to Storage_Room;
        }
        new_line;
        rtrue;
    }
    rfalse;
];

! References: big_electricians_switch.after

[ ChanceSwitchAfter ;	! 68116 / 0x10a14
    if (verb == ##SwitchOn) {
        "Click-clunk!  The world looks precisely the same.";
    }
    if (verb == ##SwitchOff) {
        "Clunk-click!  Probably nothing very much has changed.";
    }
    rfalse;
];

! References: antiquated_wireless.after

[ RadioAfter local1 ;	! 68206 / 0x10a6e
    if (verb == ##SwitchOn) {
        StartTimer(antiquated_wireless,6);	! not popped
        @pop;
        "Nothing happens.";
    }
    if (verb == ##SwitchOff) {
        give antiquated_wireless ~general;
        "Thank heaven for that.";
    }
    rfalse;
];

[ ShowProjectorImage o local2 ;	! 68262 / 0x10aa6
    print "the picture on ";
    Defart(o);	! not popped
    @pop;
    local2 = o.door_to;
    if (local2 == 0) {
        ".";
    }
    ", beautifully magnified and amazingly life-like. Why, you'd hardly know there was a wall there at all.";
];

[ DisplayProjector o dto wall ;	! 68372 / 0x10b14
    if (o ~= nothing) {
        dto = o.door_to;
        if (dto ~= nothing) {
            wall = south_wall;
            wall.door_to = dto;
            give south_wall ~concealed;
        }
        print "The south wall lights up with ";
        ShowProjectorImage(o);	! not popped
        @pop;
        rtrue;
    }
    give south_wall concealed;
    "The south wall becomes blank again.";
];

! References: slide_projector.after

[ ProjectorAfter local1 ;	! 68466 / 0x10b72
    if (verb == ##SwitchOn) {
        local1 = 50[slide_projector?];
        local1 = child(local1);
        if (local1 == 0) {
            rfalse;
        }
        DisplayProjector(local1);	! not popped
        @pop;
        rtrue;
    }
    if (verb == ##SwitchOff) {
        give south_wall concealed;
    }
    rfalse;
];

! References: Souvenirs_Room.before

[ SouvenirRoomBefore local1 ;	! 68504 / 0x10b98
    if (verb == ##Insert) {
        if (second ~= slide_projector) {
            rfalse;
        }
        local1 = 50[slide_projector?];
        local1 = child(local1);
        if (local1 ~= 0) {
            "There's a slide in already.";
        }
        if (noun == postcard) {
            print "The postcard is just too large to fit.^";
            OneTimeBonusScore();	! not popped
            @pop;
            rtrue;
        }
        if (noun == miniature) {
            rfalse;
        }
        if (noun hasnt card) {
            "It won't fit. There's only room for something flat and the size of, say, a playing card.";
        }
    }
    rfalse;
];

! References: Souvenirs_Room.after

[ SouvenirRoomAfter local1 ;	! 68670 / 0x10c3e
    if (slide_projector hasnt on) {
        rfalse;
    }
    if (verb == ##Look) {
        local1 = 50[slide_projector?];
        local1 = child(local1);
        if (local1 == 0) {
            "The south wall is lit up by the projector.";
        }
        print "The south wall displays ";
        ShowProjectorImage(local1);	! not popped
        @pop;
        rtrue;
    }
    if (verb == ##Insert) {
        if (second ~= slide_projector) {
            rfalse;
        }
        DisplayProjector(noun);	! not popped
        @pop;
        rtrue;
    }
    if (verb == ##Take) {
        local1 = parent(noun);
        if (local1 == 50[slide_projector?]) {
            if (second ~= slide_projector) {
                rfalse;
            }
            DisplayProjector(nothing);	! not popped
            @pop;
            rtrue;
        }
    }
    if (verb == ##Remove) {
        if (second ~= slide_projector) {
            rfalse;
        }
        DisplayProjector(nothing);	! not popped
        @pop;
        rtrue;
    }
    rfalse;
];

! References: Consulting_Room.before

[ ConsultingRoomBefore ;	! 68820 / 0x10cd4
    if (verb == ##Go && noun == w_obj) {
        "Peculiarly, the hanging curtain seems to be solid iron when you walk into it.";
    }
    if (verb == ##Take && noun == Tarot_pack) {
        "That's funny. For a moment there your hand seemed to go straight through the pack of cards without touching it!";
    }
    if (verb == ##Insert && second == Tarot_pack) {
        if (Madame_Sosostris hasnt concealed) {
            "Madame Sosostris won't let you.";
        }
        if (noun hasnt card) {
            "That would look rather incongruous, surely?";
        }
        remove noun;
        InsertCardIntoDeck(noun);	! not popped
        @pop;
        print "You carefully lay ";
        Defart(noun);	! not popped
        @pop;
        " face down on the tarot pack.";
    }
    rfalse;
];

! References: poster.before

[ PosterBefore ;	! 69106 / 0x10df2
    if (verb == ##Take && poster has scenery) {
        give poster ~scenery;
        "You hastily tear down the poster, but there's nothing interesting behind it, only painted graffiti: ~Shantih Shantih Shantih~.";
    }
    rfalse;
];

! References: gas_mask.after

[ MaskAfter ;	! 69214 / 0x10e5e
    if (verb == ##Wear) {
        "After a brief ecstasy of fumbling, you pull it on. It smells unpleasantly of World War II leftover cork.";
    }
    rfalse;
];

! References: Dark_Passage.before

[ PassageBefore ;	! 69298 / 0x10eb2
    if (gas_mask has worn) {
        rfalse;
    }
    if (verb == ##Go) {
        rfalse;
    }
    "The coal dust makes you cough and splutter, and your eyes stream. You are unable to concentrate on doing anything here.";
];

[ MazeBoundary x y local3 ;	! 69396 / 0x10f14
    if (x < 0) {
        rfalse;
    }
    if (x > 8) {
        rfalse;
    }
    if (y < 0) {
        rfalse;
    }
    if (y > 6) {
        rfalse;
    }
    local3 = global23->(9 * y + x);
    if (local3 == 48[poetry_book?]) {
        local3 = 0;
        return local3;
    }
    if (local3 == 49[Souvenirs_Room?]) {
        local3 = 1[?];
        return local3;
    }
    rtrue;
];

[ MouseMove2 x y pos ;	! 69460 / 0x10f54
    if (x < 0) {
        rfalse;
    }
    if (x > 8) {
        rfalse;
    }
    if (y < 0) {
        rfalse;
    }
    if (y > 6) {
        rfalse;
    }
    pos = Mouse_maze->(9 * y + x);
    if (pos == 48) {
        pos = 0;
        return pos;
    }
    if (pos == 49) {
        pos = 1;
        return pos;
    }
    rtrue;
];

[ routine_10f94 local1 local2 local3 ;	! 69524 / 0x10f94
    if (local1 == 0) {
        ! no code
    } else if (local1 == 8[se_obj?]) {
        ! no code
    } else if (local2 == 0) {
        ! no code
    } else if (local2 == 6[ne_obj?]) {
        ! no code
    } else {
        local3 = MazeBoundary(local1,local2);
        return local3;
    }
    local3 = global23->(9 * local2 + local1);
    if (local3 == 48[poetry_book?]) {
        local3 = 0;
        return local3;
    }
    if (local3 == 49[Souvenirs_Room?]) {
        local3 = 2[?];
        return local3;
    }
    rtrue;
];

[ routine_10fe6 local1 local2 local3 ;	! 69606 / 0x10fe6
    local3 = routine_10f94(local1,local2);
    if (local3 == 2[?]) {
        local3 = 0;
    }
    return local3;
];

[ routine_10ffe local1 local2 local3 ;	! 69630 / 0x10ffe
    local3 = routine_10f94(local1,local2);
    if (local3 == 1[?]) {
        local3 = 0;
    }
    if (local3 == 2[?]) {
        local3 = 1[?];
    }
    return local3;
];

! References: maze_layout.before

[ MazeLayoutBefore y x wallp ;	! 69662 / 0x1101e
    if (verb ~= ##Examine) {
        rfalse;
    }
    print "The layout is roughly as follows:^^";
    y = 0;
    --y;
  .label69707;
    if (y < 6) {
        ++y;
        print "    ";
        x = 0;
        --x;
      .label69724;
        if (x < 8) {
            ++x;
            wallp = MazeBoundary(x,y);
            if (wallp == false) {
                print "...";
            }
            if (wallp == true) {
                print '#', '#', '#';
            }
            jump label69724;
        }
        new_line;
        jump label69707;
    }
    rtrue;
];

! References: Family_Tree.before

[ FamilyTreeBefore env ;	! 69770 / 0x1108a
    MazeX = 4;
    MazyY = 6;
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= n_obj) {
        rfalse;
    }
    env = parent(player);
    if (env == garden_roller) {
        rfalse;
    }
    "You can't go that way. Now, this takes a little explaining. These days, it isn't easy to keep up a house the size of Meldrew House, and your family has had to strike a bargain with the National Trust that the house should be open to the public in the summer months. The maze is so popular with visitors that the grass has worn away, and it's being reseeded at the moment, so you shouldn't go treading all over it.";
];

! References: Maze.before

[ MazeBefore local1 newx newy ;	! 70092 / 0x111cc
    if (verb == ##Exit) {
        "Remember the poor grass!";
    }
    if (verb == ##Go) {
        if (MazeX == 4 && MazyY == 6 && noun == s_obj) {
            rfalse;
        }
        if (MazeX == 0 && MazyY == 1 && noun == w_obj) {
            rfalse;
        }
        newx = 100;
        newy = 100;
        if (noun == n_obj) {
            newx = MazeX;
            newy = MazyY - 1;
        }
        if (noun == e_obj) {
            newx = MazeX + 1;
            newy = MazyY;
        }
        if (noun == s_obj) {
            newx = MazeX;
            newy = MazyY + 1;
        }
        if (noun == w_obj) {
            newx = MazeX - 1;
            newy = MazyY;
        }
        if (newx == 100) {
            "The maze is constructed with rectangular grid-lines of privet, so you can only proceed north, east, south or west.";
        }
        if (MazeBoundary(newx,newy) == true) {
            "The privet hedge is in the way.";
        }
        MazeX = newx;
        MazyY = newy;
        if (location == Patio_in_Maze) {
            location = Maze;
            local1 = 132[garden_roller?];
            remove local1;
            move local1 to Maze;
        }
        if (MazeX == 7 && MazyY == 5) {
            location = Patio_in_Maze;
            local1 = 132[garden_roller?];
            remove local1;
            move local1 to Patio_in_Maze;
        }
        LookSub(true);	! not popped
        @pop;
        rtrue;
    }
    rfalse;
];

! References: Maze_Foundations.before

[ MazeFoundationsBefore local1 newx newy ;	! 70388 / 0x112f4
    if (verb == ##Go) {
        if (MazeX == 4 && MazyY == 6 && noun == s_obj) {
            rfalse;
        }
        if (MazeX == 0 && MazyY == 1 && noun == w_obj) {
            rfalse;
        }
        newx = 100;
        newy = 100;
        if (noun == n_obj) {
            newx = MazeX;
            newy = MazyY - 1;
        }
        if (noun == e_obj) {
            newx = MazeX + 1;
            newy = MazyY;
        }
        if (noun == s_obj) {
            newx = MazeX;
            newy = MazyY + 1;
        }
        if (noun == w_obj) {
            newx = MazeX - 1;
            newy = MazyY;
        }
        if (newx == 100) {
            "The maze is constructed along rectangular grid-lines, so you can only proceed north, east, south or west.";
        }
        if (routine_10ffe(newx,newy) ~= 0) {
            "The wooden fence is in the way.";
        }
        MazeX = newx;
        MazyY = newy;
        LookSub(true);	! not popped
        @pop;
        rtrue;
    }
    rfalse;
];

! References: Patio_in_Maze.before

[ PatioBefore local1 ;	! 70616 / 0x113d8
    if (verb == ##Go) {
        if (noun == floor) {
            rfalse;
        }
        if (garden_roller ~= parent(player)) {
            "Mustn't tread on the grass now!";
        }
        local1 = MazeBefore();
        return local1;
    }
    rfalse;
];

[ MazeDescribe numwalls n_side e_side s_side w_side ;	! 70672 / 0x11410
    --MazyY;
    n_side = MazeBoundary(MazeX,MazyY);
    ++MazyY;
    ++MazeX;
    s_side = MazeBoundary(MazeX,MazyY);
    --MazeX;
    ++MazyY;
    e_side = MazeBoundary(MazeX,MazyY);
    --MazyY;
    --MazeX;
    w_side = MazeBoundary(MazeX,MazyY);
    ++MazeX;
    numwalls = n_side + (s_side + (e_side + w_side));
    if (numwalls == 4) {
        "^You are hedged in on all sides.";
    }
    if (numwalls == 3) {
        print "^You are hedged in and can only go back ";
    }
    if (numwalls == 2) {
        print "^The corridor runs ";
    }
    if (numwalls == 1) {
        print "^At this junction, the maze runs ";
    }
    if (numwalls == 0) {
        "^This is a crossroads in the maze.";
    }
  .label70885;
    if (numwalls < 4) {
        if (n_side == false) {
            print "north";
            n_side = true;
        } else if (s_side == false) {
            print "east";
            s_side = true;
        } else if (e_side == false) {
            print "south";
            e_side = true;
        } else if (w_side == false) {
            print "west";
            w_side = true;
        }
        ++numwalls;
        if (numwalls == 4) {
            ".";
        }
        if (numwalls == 3) {
            print " and ";
        }
        if (numwalls == 2) {
            print ", ";
        }
        if (numwalls == 1) {
            print ", ";
        }
        jump label70885;
    }
    rtrue;
];

[ MazeOldDescribe numwalls n_side e_side s_side w_side ;	! 70994 / 0x11552
    numwalls = MazeBoundary(MazeX,MazyY);
    if (MazeX == 7 && MazyY == 5) {
        numwalls = 2;
    }
    new_line;
    if (numwalls == 1) {
        print "You are standing on a bed in which seeds have been recently planted. ";
    }
    if (numwalls == 0) {
        print "You stand on a rough patch of grass. ";
    }
    if (numwalls == 2) {
        print "You stand on a rough patch of grass, marked out with whitewash. ";
    }
    --MazyY;
    n_side = routine_10fe6(MazeX,MazyY);
    ++MazyY;
    ++MazeX;
    s_side = routine_10fe6(MazeX,MazyY);
    --MazeX;
    ++MazyY;
    e_side = routine_10fe6(MazeX,MazyY);
    --MazyY;
    --MazeX;
    w_side = routine_10fe6(MazeX,MazyY);
    ++MazeX;
    numwalls = n_side + (s_side + (e_side + w_side));
    if (numwalls == 4) {
        print "There are seedbeds on all sides. ";
    } else {
        if (numwalls == 3) {
            print "There are seedbeds to ";
        }
        if (numwalls == 2) {
            print "There are seedbeds to the ";
        }
        if (numwalls == 1) {
            print "There is a seedbed to the ";
        }
        if (numwalls == 0) {
            jump label71442;
        }
      .label71331;
        if (numwalls > 0) {
            if (n_side == true) {
                print "north";
                n_side = false;
            } else if (s_side == true) {
                print "east";
                s_side = false;
            } else if (e_side == true) {
                print "south";
                e_side = false;
            } else if (w_side == true) {
                print "west";
                w_side = false;
            }
            --numwalls;
            if (numwalls == 0) {
                print ". ";
            } else {
                if (numwalls == 1) {
                    print " and ";
                }
                if (numwalls == 2) {
                    print ", ";
                }
                if (numwalls == 3) {
                    print ", ";
                }
                jump label71331;
            }
        }
    }
  .label71442;
    --MazyY;
    n_side = routine_10ffe(MazeX,MazyY);
    ++MazyY;
    ++MazeX;
    s_side = routine_10ffe(MazeX,MazyY);
    --MazeX;
    ++MazyY;
    e_side = routine_10ffe(MazeX,MazyY);
    --MazyY;
    --MazeX;
    w_side = routine_10ffe(MazeX,MazyY);
    ++MazeX;
    numwalls = n_side + (s_side + (e_side + w_side));
    if (numwalls == 0) {
        new_line;
        rfalse;
    }
    if (numwalls == 1) {
        print "There is a fence to the ";
    }
    if (numwalls == 2) {
        print "There are fences to ";
    }
    if (numwalls == 3) {
        print "There are fences to ";
    }
    if (numwalls == 4) {
        "This is a fenced-in area.";
    }
  .label71595;
    if (numwalls > 0) {
        if (n_side == true) {
            print "north";
            n_side = false;
        } else if (s_side == true) {
            print "east";
            s_side = false;
        } else if (e_side == true) {
            print "south";
            e_side = false;
        } else if (w_side == true) {
            print "west";
            w_side = false;
        }
        --numwalls;
        if (numwalls == 0) {
            ".";
        }
        if (numwalls == 1) {
            print " and ";
        }
        if (numwalls == 2) {
            print ", ";
        }
        if (numwalls == 3) {
            print ", ";
        }
        jump label71595;
    }
    rtrue;
];

! References: Maze.after, Patio_in_Maze.after

[ MazeAfter ret ;	! 71704 / 0x11818
    if (verb == ##Look) {
        ret = MazeDescribe();
        return ret;
    }
    rfalse;
];

! References: Maze_Foundations.after

[ MazeFoundationsAfter local1 ;	! 71720 / 0x11828
    if (verb == ##Look) {
        local1 = MazeOldDescribe();
        return local1;
    }
    if (verb == ##Drop) {
        print "You feel an alarming wrench in your insides.^";
        deadflag = PARADOX;
        rtrue;
    }
    rfalse;
];

! References: Viewpoint_Ledge.before

[ LedgeBefore env ;	! 71778 / 0x11862
    if (verb == ##Examine) {
        env = parent(player);
        if (env == garden_roller && noun == plaque) {
            "The writing's too small from here.";
            rfalse;
        }
    }
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= e_obj) {
        rfalse;
    }
    env = parent(player);
    if (env == garden_roller) {
        rfalse;
    }
    "For the sake of the grass, you can't go that way.";
];

! References: bean_pole.after

[ BeanPoleAfter local1 ;	! 71886 / 0x118ce
    if (verb == ##Take) {
        if (bean_pole has general) {
            rfalse;
        }
        give bean_pole general;
        StartTimer(bean_pole,5);	! not popped
        @pop;
    }
    rfalse;
];

! References: Tree_Planting.after

[ TreePlantingAfter local1 ;	! 71912 / 0x118e8
    deadflag = AUSTRALIA;
    rfalse;
];

! References: Folly.after

[ FollyAfter ;	! 71920 / 0x118f0
    MazeX = 0;
    MazyY = 1;
    rfalse;
];

! References: Clifftop_Walk.before

[ ClifftopWalkBefore ;	! 71928 / 0x118f8
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= e_obj) {
        rfalse;
    }
    if (herd_of_goats has general) {
        print "The goats obediently part to allow you to get by.^";
        rfalse;
    }
    "The goats hiss and butt against you, not letting you through.";
];

! References: Sacred_Earth.before

[ SacredEarthBefore ;	! 72030 / 0x1195e
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= s_obj) {
        rfalse;
    }
    print "Zeus, who is after all the chief of all the gods, appears and hurls a thunderbolt down just before you begin to cross into the Temple. ";
    if (big_electricians_switch has on) {
        deadflag = DIED;
        "With the kind of calculation only a god could make, Zeus has worked out exactly what would happen and aimed the thunderbolt so that it hits you straight in the back despite your attempt to weave about. Pretty impressive prediction, is your last thought.";
    }
    if (rod_of_luck has general) {
        print "Astonishingly, you beat the luck of the gods and slip into the temple just clear of the thunderbolt. ~Damn, missed!~ says a sepulchral voice from without.^";
        rfalse;
    }
    deadflag = DIED;
    "With the luck of the gods, Zeus' thunderbolt strikes you just about exactly in the back, despite your attempts to weave about.";
];

! References: Temple_of_Zeus.before

[ TempleBefore ;	! 72530 / 0x11b52
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= n_obj) {
        rfalse;
    }
    print "~I'll get you this time, worm!~ says Zeus, and hurls another thunderbolt, but now he's angry his aim is right off. You survive once more.^";
    rfalse;
];

! References: Ekmek_Special.before

[ EkmekSpecialBefore ;	! 72648 / 0x11bc8
    if (Ekmek_Special has moved) {
        rfalse;
    }
    if (verb ~= ##Take) {
        rfalse;
    }
    if (copper_coin has general) {
        rfalse;
    }
    "You can't understand a word of what the bartender says, but the drift is clear enough. Not until you pay for it.";
];

! References: Andromeda.before

[ AndromedaBefore ;	! 72748 / 0x11c2c
    if (verb ~= ##Examine) {
        rfalse;
    }
    print "Avert your eyes. She is naked";
    if (amber_hairband has static) {
        print " (unless you count a hairband)";
    }
    ", as used to be fashionable for human sacrifices: the victim left overnight without food or shelter until the dawn. It has to be said that she doesn't look all that keen to be rescued.";
];

! References: Ruined_Castle_Cafe.after

[ RuinedCastleCafeAfter ;	! 72936 / 0x11ce8
    if (verb == ##Look) {
        if (Cups_and_Glasses hasnt visited) {
            rfalse;
        }
        if (complicated_looking_bomb has concealed) {
            "^Over in one corner, you can see a little square window, behind which must be the store of cups and glasses. Remembering this, you are distracted and unable to enjoy the entertainment. Even the table is annoying. It must have one leg shorter than the rest, or something, because it rattles now and then.";
        }
    }
    rfalse;
];

! References: complicated_looking_bomb.after

[ BombAfter ;	! 73168 / 0x11dd0
    if (verb == ##Take) {
        deadflag = PRISON;
        "Suddenly, someone catches sight of you with the bomb and screams. One thing leads to another, and, well, you know how it is with foreign legal systems. At least the bomb gets defused, and twenty-five years isn't all that long.";
    }
    rtrue;
];

! References: timer_detonater.before

[ DetonatorBefore ticks obj ;	! 73340 / 0x11e7c
    if (verb ~= ##Examine) {
        rfalse;
    }
    print "The timer seems quite simple to set. ";
    obj = timer_detonater;
    ticks = obj.number;
    if (BombTicking == true) {
        "The clock is running, and currently at ", ticks, " minutes.";
    }
    if (ticks ~= 0) {
        DescribeDetonator();	! not popped
        @pop;
        rtrue;
    }
    "At present the clock is reset to 0.";
];

[ DescribeDetonator ticks wires_unplugged wire_num ;	! 73470 / 0x11efe
    print "The clock is ticking downwards, and has only ";
    wires_unplugged = 191;
    ticks = wires_unplugged.number;
    print ticks;
    if (ticks == 1) {
        print " minute ";
    }
    if (ticks ~= 1) {
        print " minutes ";
    }
    print "to go before it hits the red zone. ";
    ticks = 190;
    wires_unplugged = ticks.number;
    if (wires_unplugged == 0) {
        "All four wires are plugged into the timer.";
    }
    if (wires_unplugged == 1) {
        print "Only the ";
    }
    if (wires_unplugged == 2) {
        print "The ";
    }
    if (wires_unplugged == 3) {
        print "The ";
    }
    if (wires_unplugged == 4) {
        "None of the wires are plugged in.";
    }
    wire_num = wires_unplugged;
    ticks = 193;
    if (ticks has general) {
        print (name) ticks;
        --wire_num;
        WireList(wire_num);	! not popped
        @pop;
    }
    ticks = 192;
    if (ticks has general) {
        print (name) ticks;
        --wire_num;
        WireList(wire_num);	! not popped
        @pop;
    }
    ticks = 194;
    if (ticks has general) {
        print (name) ticks;
        --wire_num;
        WireList(wire_num);	! not popped
        @pop;
    }
    ticks = 195;
    if (ticks has general) {
        print (name) ticks;
        --wire_num;
        WireList(wire_num);	! not popped
        @pop;
    }
    if (wires_unplugged == 1) {
        " is unplugged.";
    }
    " are unplugged.";
];

[ WireList n ;	! 73784 / 0x12038
    if (n == 1) {
        print " and ";
        rfalse;
    }
    if (n == 0) {
        rfalse;
    }
    print ", ";
    rtrue;
];

! References: Infinity_Symbol.after

[ InfinityAfter obj i ;	! 73808 / 0x12050
    if (verb == ##Look) {
        print "^Around the edge of the disc is a circular arc, surrounding the lemniscus, which passes through seven equally spaced sockets or cylindrical wells.";
        obj = circular_arc;
        i = obj.number;
        if (i == 0) {
            new_line;
            rfalse;
        }
        if (i == 1) {
            "  One socket contains a rod, fixed in place.";
        }
        if (i == 2) {
            "  Two of the sockets contain rods, fixed in place.";
        }
        if (i == 3) {
            "  Three of the sockets contain rods, fixed in place.";
        }
        if (i == 4) {
            "  Four of the sockets contain rods, fixed in place.";
        }
        if (i == 5) {
            "  Five of the sockets contain rods, fixed in place.";
        }
        if (i == 6) {
            "  Only one socket is left empty.";
        }
        if (i == 7) {
            "  All seven sockets are occupied by rods.";
        }
    }
    rfalse;
];

! References: Infinity_Symbol.before

[ InfinityBefore unused cnt ;	! 74210 / 0x121e2
    if (verb == ##Insert) {
        if (second ~= circular_arc) {
            rfalse;
        }
        cnt = second.number;
        if (noun hasnt rod_attr) {
            "That won't fit in a socket.";
        }
        if (noun == rod_of_infinity) {
            "The Rod of Infinity is just slightly too large to fit.";
        }
        if (cnt == 7) {
            "The sockets are all full.";
        }
        remove noun;
        move noun to circular_arc;
        give noun static;
        ++cnt;
        second.number = cnt;
        if (cnt == 7) {
            Achieved(SCORE_INFINITY);	! not popped
            @pop;
        }
        "It fits perfectly in one of the arc sockets.";
    }
    rfalse;
];

! References: Stream.before

[ StreamBefore ;	! 74388 / 0x12294
    if (verb == ##Go) {
        if (noun ~= ceiling) {
            rfalse;
        }
        "You climb the ladder and are about to jump onto the roof when you catch sight of a man swaddled in animal furs, spreadeagled over the tiles, looking down into the central courtyard of the villa. He has a nasty-looking sword and since he hasn't seen you, you quietly shin back down the ladder again.";
    }
    rfalse;
];

! References: bone_die.after

[ DieAfter n ;	! 74608 / 0x12370
    if (verb == ##Drop) {
        n = 6;
        n = random(n);
        "Alea iacta est. It comes up ", n, ".";
    }
    rfalse;
];

! References: Inside_Well.before

[ InsideWellBefore local1 ;	! 74654 / 0x1239e
    if (verb == ##Go) {
        rfalse;
    }
    "There's not enough room in this confined space to do anything much!";
];

! References: Triclinium.before

[ TricliniumBefore local1 ;	! 74712 / 0x123d8
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= floor) {
        rfalse;
    }
    if (kitchen_well hasnt open) {
        rfalse;
    }
    if (kitchen_well has general) {
        print "Aware of the dangers, you very carefully lower yourself...^";
        Achieved(SCORE_TRICLINIUM);	! not popped
        @pop;
        rfalse;
    }
    deadflag = DIED;
    "Having no reason to suppose the well is very deep, you cheerfully lower yourself in. This turns out to be something of a misjudgement and you soon lose your grip and fall, endlessly banging against the walls until finally...";
];

! References: Triclinium.after

[ TricliniumAfter local1 ;	! 74952 / 0x124c8
    if (verb == ##Insert && second == kitchen_well) {
        remove noun;
        if (noun has light) {
            give kitchen_well general;
            "It plummets out of sight, until even the light vanishes in the distance. This must be an extremely deep well.";
        }
        if (noun ~= historical_pamphlet) {
            StartTimer(kitchen_well,3);	! not popped
            @pop;
        }
        "It drops into the well-shaft.";
    }
    rfalse;
];

! References: Entrance.before

[ EntranceBefore ;	! 75090 / 0x12552
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun == s_obj) {
        ! no code
    } else if (noun == sw_obj) {
        ! no code
    } else if (noun == se_obj) {
        ! no code
    } else {
        rfalse;
    }
    print "You walk out into the courtyard and are immediately set upon by guards, who drag you away.^";
    Capture();	! not popped
    @pop;
    rtrue;
];

! References: Entrance.after

[ EntranceAfter ;	! 75194 / 0x125ba
    if (CouncilCnt == 0) {
        CouncilCnt = 1;
    }
    rfalse;
];

! References: yellow_daisy.after

[ DaisyAfter ;	! 75204 / 0x125c4
    if (verb == ##Wear) {
        "You tuck the daisy behind your ear, almost out of sight.";
    }
    if (verb == ##Take && yellow_daisy hasnt general) {
        give yellow_daisy general;
        "Aided by the swinging of the rope, you pick the daisy.";
    }
    rfalse;
];

! References: yellow_daisy.before

[ DaisyBefore ;	! 75304 / 0x12628
    if (verb ~= ##Take) {
        rfalse;
    }
    if (yellow_daisy has moved) {
        rfalse;
    }
    if (hemp_rope has general) {
        rfalse;
    }
    "You stretch out your hand, but cannot quite reach the daisy, such is the size of the overhang.";
];

! References: Hanging_on_Rope.before

[ HangingBefore ;	! 75390 / 0x1267e
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= floor) {
        rfalse;
    }
    print "You clamber down the rope, straight into a patrol of guards who capture you!^";
    Capture();	! not popped
    @pop;
    rtrue;
];

! References: hypocaust_vents.before

[ HypocaustBefore local1 ;	! 75466 / 0x126ca
    if (verb == ##Examine) {
        ! no code
    } else if (verb ~= ##SearchSub) {
        rfalse;
    }
    if (CouncilCnt > 7) {
        "Four men in druidic furs are standing on the corners of the mosaic, in some kind of sinister conference. This old villa must be some kind of rendezvous point. Between the men a bluish stone rests on the mosaic floor.";
    }
    "You see across the mosaic floor of the moonlit atrium.";
];

[ Capture local1 ;	! 75678 / 0x1279e
    if (CouncilCnt < 8) {
        deadflag = DIED;
        print "^The guardsmen grab your head by the chin and examine you, but take you for a plain thief and immediately put you to the sword. A pity they did not realise your importance, but then they are only guards, and anyway if they had they would probably just have done you in more unpleasantly.^";
        rtrue;
    }
    print "^Suddenly you are thrust before a druidical figure. He seems to recognise you, and is troubled. Perhaps because of this, your life is saved and you are taken away into custody, down in the valley among the army encampments.^";
    StartTimer(tent_pole,4);	! not popped
    @pop;
    local1 = child(player);
  .label76060;
    if (local1 ~= 0) {
        if (local1 hasnt worn) {
            remove local1;
        }
        local1 = sibling(local1);
        jump label76060;
    }
    CouncilCnt = 0;
    location = Rough_Tent;
    remove player;
    move player to Rough_Tent;
    LookSub();	! not popped
    @pop;
    rtrue;
];

! References: saxon_spy.before

[ SaxonBefore ;	! 76098 / 0x12942
    if (verb ~= ##SearchSub) {
        rfalse;
    }
    "Not only are the guards better at searching suspects than you, they also did so first.";
];

! References: tent_pole.after

[ TentPoleAfter ;	! 76166 / 0x12986
    if (verb ~= ##Take) {
        rfalse;
    }
    if (tent_pole hasnt general) {
        give tent_pole general;
        print "As you uproot the tent-pole, the whole tent collapses ignominiously, the animal hides falling about your head. The hides are heavy and weigh you down, but you just manage to crawl out...^";
        StartTimer(Encampment,10);	! not popped
        @pop;
        location = Encampment;
        remove player;
        move player to Encampment;
        LookSub();	! not popped
        @pop;
        rtrue;
    }
    rfalse;
];

! References: Encampment.before

[ EncampmentBefore ;	! 76338 / 0x12a32
    if (verb ~= ##Go) {
        rfalse;
    }
    if (noun ~= e_obj) {
        rfalse;
    }
    if (sandals has worn) {
        print "You cross the hot coals nimbly in your sandals.^";
        rfalse;
    }
    "Walk across those hot coals!  You must be joking.";
];

! References: Near_Dolmen.after

[ NearDolemnAfter o sib ;	! 76430 / 0x12a8e
    if (verb ~= ##Look) {
        rfalse;
    }
    location = Servants_Room;
    remove player;
    move player to servants_bed;
    game_section = MODERN;
    o = e_obj;
    o = child(o);
  .label76459;
    if (o ~= nothing) {
        sib = sibling(o);
        remove o;
        move o to player;
        o = sib;
        jump label76459;
    }
    o = heavy_iron_mascot;
    o = parent(o);
    if (o == player) {
        StartTimer(heavy_iron_mascot,15);	! not popped
        @pop;
        Achieved(SCORE_DOLEMN);	! not popped
        @pop;
    }
    "^You awaken, shivering with dread.";
];

! References: Heavenly_Place.after

[ Heavenly_Place_After angel_obj hints ;	! 76532 / 0x12af4
    if (verb ~= ##Go) {
        rfalse;
    }
    LookSub(true);	! not popped
    @pop;
    new_line;
    if (angel has general) {
        "~I presume you have decided what to ask,~ says the angel.";
    }
    angel_obj = angel;
    hints = angel_obj.number;
    if (hints > 0) {
        --hints;
        angel_obj.number = hints;
        if (hints > 0) {
            give angel general;
        }
    }
    if (hints == 0) {
        "~I'm afraid I can be of no further use to you!  See you in another life,~ says the angel with a memorable smile.";
    }
    if (hints == 1) {
        "~You have one remaining question,~ says the angel with a memorable smile.";
    }
    if (hints == 2) {
        "~A whole two questions left,~ says the angel with a memorable smile.";
    }
    "~Good day,~ says the angel with a memorable smile. ~As a reward for your act of faith, may I welcome you to our little information service. We try to be as helpful as possible to explorers who are lost, or can't think how to solve their problems. Is there anything, pray, which you would like a hint about, or which you'd like to show me?  You are permitted three hints in all, in accordance with standard practice.~";
];

! References: Hellish_Place.after

[ Hellish_Place_After demon_obj hints ;	! 77124 / 0x12d44
    if (verb ~= ##Go) {
        rfalse;
    }
    LookSub(true);	! not popped
    @pop;
    new_line;
    if (demon has general) {
        "~Thought what you wanted to ask yet?~ says the demon.";
    }
    demon_obj = demon;
    hints = demon_obj.number;
    if (hints > 0) {
        --hints;
        demon_obj.number = hints;
        if (hints > 0) {
            give demon general;
        }
    }
    if (hints == 0) {
        "~Get out, you little pipsqueak!  I'll be seeing you... much later...~ says the demon with a memorable smile.";
    }
    if (hints == 1) {
        "~All right, toad, you have one, just one, chance left,~ says the demon with a memorable smile.";
    }
    if (hints == 2) {
        "~Now then, two chances remaining,~ says the demon with a memorable smile.";
    }
    "~Good afternoon,~ says the demon with a memorable smile. ~As a reward for your naked greed, may I welcome you to our little information service. We try to be as helpful as possible to explorers who are lost, or can't think how to solve their problems, you know the kind of thing. So just tell me what you want to know, or show me something to look at. You get the usual three hints.~";
];

[ DevilAnswer topic ;	! 77712 / 0x12f90
    if (topic == T_DREAM) {
        "~In the premonition, it is vital to get hold of the mascot for later use.~";
    }
    if (topic == T_FLASHLIGHT) {
        "~It's no use poking about on the attic floor for fresh torch batteries, because there aren't any.~";
    }
    if (topic == T_JEMIMA) {
        "~Your Aunt Jemima is not the kind of woman to be distracted by music or frivolous presents, mark my words.~";
    }
    if (topic == T_NOVEL) {
        "~Novels are, of course, invariably written by people using their real names, not disguised in any way.~";
    }
    if (topic == T_FLOWERS) {
        "~The thing about daisies is, they are the same all year round, not changing with the calendar.~";
    }
    if (topic == T_MEDICINE) {
        "~Modern medicine bottles can even withstand falls from a great height. I should try heat if I were you.~";
    }
    if (topic == T_WINE) {
        "~You can easily get a grip on the demijohn with your bare hands.~";
    }
    if (topic == T_BOTTLE) {
        "~The answer's the same, whichever bottle you meant. That counts as your hint, I'm afraid. Not very fair, but then I am a demon.~";
    }
    if (topic == T_HEAVEN) {
        "The demon acknowledges the question, but cannot bring himself to speak of Heaven.";
    }
    if (topic == T_HELL) {
        "~Hell?  Oh this isn't your eternal damnation, it's mine, having to answer all these wretched questions. No, Hell itself is a marvellous place, and it has an excellent health club too. Look forward to seeing you there.~";
    }
    if (topic == T_POSTCARD) {
        "~Don't worry, there's nothing written there. No need to look at the problem in a fresh light.~";
    }
    if (topic == T_JOSHUA) {
        "~History never repeats itself, so it's pointless looking him up in the book.~";
    }
    if (topic == T_ISAAC) {
        "~The really interesting stuff is at the very start of his working life.~";
    }
    if (topic == T_ARCANUM) {
        "~Forget it, there's no way to return from the museum, and Doktor Stein's medicine has no antidote.~";
    }
    if (topic == T_MERLIN) {
        "~Merlyn doesn't really come into this. Try working on something else.~";
    }
    if (topic == T_HAT) {
        "~Literally, Merlyn's actual hat. Green pointy felt, I wouldn't wonder.~";
    }
    if (topic == T_BOOK) {
        "~The answer's the same, whichever book you meant. That counts as your hint, I'm afraid. Not very fair, but then I am a demon.~";
    }
    if (topic == T_EBENEZER) {
        "~Ebenezer?  He's absolutely central to this. Concentrate on him, definitely.~";
    }
    if (topic == T_CARDS) {
        "~Trouble with holiday snaps is, once somebody gets the old slide projector going, a boring time is on the cards for all.~";
    }
    if (topic == T_RODS) {
        "~You'll need to be wide awake and alert to work out what to do with them. Finding them is easy - just remember to keep an eye out for short, fat things.~";
    }
    if (topic == T_TAROT) {
        "~Clairvoyantes are expert at detecting stacked decks, so it's no good cheating.~";
    }
    if (topic == T_BOAT) {
        "~Phlebas runs a very badly-advertised service, I'm afraid. I've got no time for him.~";
    }
    if (topic == T_MOUSE) {
        "~Once the mouse is in the hole, forget it, it couldn't hear you even if you talked to the hole instead. But there is an alternative method.~";
    }
    if (topic == T_KEY) {
        "~Your fault for letting the key get into the foundations - nothing can get in there to retrieve it.~";
    }
    if (topic == T_RADIO) {
        "~Marvellous, marvellous contraption. Starts the moment you switch it on, and then nothing but solid gold classics all the way. You can really concentrate when that's playing.~";
    }
    rtrue;
];

[ AngelAnswer topic ;	! 79762 / 0x13792
    if (topic == T_FLASHLIGHT) {
        "The angel acknowledges the question, but cannot bring herself to speak of Hell.";
    }
    if (topic == T_DREAM) {
        "~Heaven?  Oh this isn't your eternal salvation, it's mine, able to serve by answering all these delightful questions. No, Heaven itself is a marvellous place, and it has an excellent health club too. Look forward to seeing you there.~";
    }
    if (topic == T_JEMIMA) {
        "~The rods definitely fit into all this somewhere.~";
    }
    if (topic == T_NOVEL) {
        "~If only you could have been there when the maze was being laid out!~";
    }
    if (topic == T_FLOWERS) {
        "~The master game is like a point at infinity to we mortals,~ the angel says wistfully.";
    }
    if (topic == T_MEDICINE) {
        "~All a matter of fitting the rods in somewhere.~";
    }
    if (topic == T_WINE) {
        "~How she must long to let her hair down now, instead of being chained to that rock,~ the angel says sorrowfully. ~But in deference to her wishes, I cannot help you rescue her.~";
    }
    if (topic == T_BOTTLE) {
        "~Amazing fortune you must have in finding it, I can tell.~";
    }
    if (topic == T_HEAVEN) {
        "~Ah yes, we must all lament for human folly,~ says the angel, misunderstanding completely.";
    }
    if (topic == T_HELL) {
        "~Zeus wasn't a true god, of course,~ the angel predictably insists, ~just a manifestation of the laws of physics to an Ancient Greek, a kind of symbol for the way the universe fundamentally worked.~";
    }
    if (topic == T_POSTCARD) {
        "The angel maintains a tight-lipped silence.";
    }
    if (topic == T_JOSHUA) {
        "~That's too dangerous a rod to actually use, of course, and the Church no longer approves of martyrs.~";
    }
    if (topic == T_ISAAC) {
        "~Is there really such a thing as luck, or free will?  It's a theological grey area,~ says the angel with fine casuistry.";
    }
    if (topic == T_ARCANUM) {
        "~Certainly a thorny problem, that.~";
    }
    rtrue;
];

[ DevilConsultTopic wrd topic ;	! 80856 / 0x13bd8
    topic = 0;
    if (wrd == 'premoninition//p') {
        topic = T_DREAM;
    }
    if (wrd == 'dream//p') {
        topic = T_DREAM;
    }
    if (wrd == 'torch') {
        topic = T_FLASHLIGHT;
    }
    if (wrd == 'battery') {
        topic = T_FLASHLIGHT;
    }
    if (wrd == 'aunt') {
        topic = T_JEMIMA;
    }
    if (wrd == 'jemima//p') {
        topic = T_JEMIMA;
    }
    if (wrd == 'gloves') {
        topic = T_JEMIMA;
    }
    if (wrd == 'romance') {
        topic = T_NOVEL;
    }
    if (wrd == 'marie//p') {
        topic = T_NOVEL;
    }
    if (wrd == 'daisy') {
        topic = T_FLOWERS;
    }
    if (wrd == 'daisychain') {
        topic = T_FLOWERS;
    }
    if (wrd == 'daisies//p') {
        topic = T_FLOWERS;
    }
    if (wrd == 'medicine') {
        topic = T_MEDICINE;
    }
    if (wrd == 'demijohn') {
        topic = T_WINE;
    }
    if (wrd == 'bottle') {
        topic = T_BOTTLE;
    }
    if (wrd == 'heaven//p') {
        topic = T_HEAVEN;
    }
    if (wrd == 'hell//p') {
        topic = T_HELL;
    }
    if (wrd == 'card') {
        topic = T_POSTCARD;
    }
    if (wrd == 'postcard') {
        topic = T_POSTCARD;
    }
    if (wrd == 'ghost') {
        topic = T_JOSHUA;
    }
    if (wrd == 'joshua//p') {
        topic = T_JOSHUA;
    }
    if (wrd == 'prayer') {
        topic = T_ISAAC;
    }
    if (wrd == 'isaac//p') {
        topic = T_ISAAC;
    }
    if (wrd == 'museum//p') {
        topic = T_ARCANUM;
    }
    if (wrd == 'arcana//p') {
        topic = T_ARCANUM;
    }
    if (wrd == 'doktor//p') {
        topic = T_ARCANUM;
    }
    if (wrd == 'stein//p') {
        topic = T_ARCANUM;
    }
    if (wrd == 'merlyn//p') {
        topic = T_MERLIN;
    }
    if (wrd == 'hat//p') {
        topic = T_HAT;
    }
    if (wrd == 'book') {
        topic = T_BOOK;
    }
    if (wrd == 'ebenez//p') {
        topic = T_EBENEZER;
    }
    if (wrd == 'projector') {
        topic = T_CARDS;
    }
    if (wrd == 'slide') {
        topic = T_CARDS;
    }
    if (wrd == 'cards//p') {
        topic = T_CARDS;
    }
    if (wrd == 'rod') {
        topic = T_RODS;
    }
    if (wrd == 'rods//p') {
        topic = T_RODS;
    }
    if (wrd == 'tarot') {
        topic = T_TAROT;
    }
    if (wrd == 'sosost') {
        topic = T_TAROT;
    }
    if (wrd == 'boat') {
        topic = T_BOAT;
    }
    if (wrd == 'hollow//p') {
        topic = T_BOAT;
    }
    if (wrd == 'mouse') {
        topic = T_MOUSE;
    }
    if (wrd == 'robot') {
        topic = T_MOUSE;
    }
    if (wrd == 'hole') {
        topic = T_MOUSE;
    }
    if (wrd == 'key') {
        topic = T_KEY;
    }
    if (wrd == 'radio') {
        topic = T_RADIO;
    }
    if (wrd == 'wireless') {
        topic = T_RADIO;
    }
    return topic;
];

[ AngelConsultTopic wrd topic ;	! 81326 / 0x13dae
    topic = 0;
    if (wrd == 'heaven//p') {
        topic = T_DREAM;
    }
    if (wrd == 'hell//p') {
        topic = T_FLASHLIGHT;
    }
    if (wrd == 'rods//p') {
        topic = T_JEMIMA;
    }
    if (wrd == 'maze') {
        topic = T_NOVEL;
    }
    if (wrd == 'master//p') {
        topic = T_FLOWERS;
    }
    if (wrd == 'infinity') {
        topic = T_MEDICINE;
    }
    if (wrd == 'lemnis') {
        topic = T_MEDICINE;
    }
    if (wrd == 'arc') {
        topic = T_MEDICINE;
    }
    if (wrd == 'andromeda') {
        topic = T_WINE;
    }
    if (wrd == 'mural') {
        topic = T_BOTTLE;
    }
    if (wrd == 'folly//p') {
        topic = T_HEAVEN;
    }
    if (wrd == 'zeus//p') {
        topic = T_HELL;
    }
    if (wrd == 'bomb') {
        topic = T_POSTCARD;
    }
    if (wrd == 'lighthouse//p') {
        topic = T_POSTCARD;
    }
    if (wrd == 'pharos//p') {
        topic = T_POSTCARD;
    }
    if (wrd == 'device//p') {
        topic = T_POSTCARD;
    }
    if (wrd == 'sacrifice') {
        topic = T_JOSHUA;
    }
    if (wrd == 'luck') {
        topic = T_ISAAC;
    }
    if (wrd == 'fire') {
        topic = T_ARCANUM;
    }
    return topic;
];

[ routine_13e76 ;	! 81526 / 0x13e76
    DemonQuestion(noun_word);	! not popped
    @pop;
    rtrue;
];

[ routine_13e80 ;	! 81536 / 0x13e80
    AngelQuestion(noun_word);	! not popped
    @pop;
    rtrue;
];

[ DemonQuestion local1 local2 ;	! 81546 / 0x13e8a
    local2 = DevilConsultTopic(local1);
    if (local2 ~= 0) {
        DevilAnswer(local2);	! not popped
        @pop;
        local2 = 1[?];
        return local2;
    }
    local2 = AngelConsultTopic(local1);
    if (local2 ~= 0) {
        print "~That's a question you'd better put to my colleague in the Other Place,~ says the demon smoothly. ~Try something else.~^";
        local2 = 0;
        return local2;
    }
    print "~That's not something I am empowered to answer,~ says the demon with a nervous glance behind him. ~Try something else.~^";
    local2 = 0;
    return local2;
];

[ AngelQuestion local1 local2 ;	! 81776 / 0x13f70
    local2 = AngelConsultTopic(local1);
    if (local2 ~= 0) {
        AngelAnswer(local2);	! not popped
        @pop;
        local2 = 1[?];
        return local2;
    }
    local2 = DevilConsultTopic(local1);
    if (local2 ~= 0) {
        print "~That's a question you'd better put to my colleague in the Other Place,~ says the angel smoothly. ~Try something else.~^";
        local2 = 0;
        return local2;
    }
    print "~That's not something I am empowered to answer,~ says the angel with a beatific smile upward. ~Try something else.~^";
    local2 = 0;
    return local2;
];

[ Keyboard local1 local2 local3 local4 local5 local6 local7 ;	! 82004 / 0x14054
  .label82019;
    local4 = 0;
    --local4;
  .label82024;
    if (local4 < 9) {
        ++local4;
        global63->local4 = local2->local4;
        jump label82024;
    }
    new_line;
    print '>';
    @sread local1 local2;
    local3 = local2->1;
    local5 = local2-->1;
    if (local3 == 0) {
        print "I beg your pardon?^";
        jump label82019;
    }
    if (local5 == 15034['oops//p'?]) {
        ! no code
    } else if (local5 ~= 14971['o//p'?]) {
        return local3;
    }
    if (global61 == 0) {
        print "Sorry, that can't be corrected.^";
        jump label82019;
    }
    if (local3 == 1[?]) {
        print "Think nothing of it.^";
        jump label82019;
    }
    if (local3 > 2) {
        print "~Oops~ can only correct a single word.^";
        jump label82019;
    }
    local6 = local2-->3;
    local7 = local2-->4;
    local4 = 0;
    --local4;
  .label82215;
    if (local4 < 9) {
        ++local4;
        local2->local4 = global63->local4;
        jump label82215;
    }
    local5 = 2 * global61 - 1;
    local2-->local5 = local6;
    ++local5;
    local2-->local5 = local6;
    return local3;
];

[ Parser results syntax line num_lines line_address i j token l m local11 etype_local local13 local14 local15 ;	! 82256 / 0x14150
    if (notheld_mode == true) {
        i = 0;
        --i;
      .label82297;
        if (i < 7) {
            ++i;
            results->i = global71->i;
            jump label82297;
        }
        notheld_mode = false;
        rtrue;
    }
  .label82320;
    Keyboard(buffer,parse);	! not popped
    @pop;
  .label82328;
    num_words = parse->1;
    etype_local = 1;
    global69 = 1[?];
    global6 = player;
  .label82341;
    global49 = global69;
    verb_word = routine_150fa();
    if (verb_word == 'g//p') {
        verb_word = 'again//p';
    }
    if (verb_word == 'again//p') {
        rtrue;
    }
    if (verb_word == 0) {
        etype_local = 11;
    } else {
        i = verb_word->4 & 1;
        if (i == 0) {
            global49 = global69;
            l = routine_14b48(1[?],0,0);
            if (l == 1000[?]) {
                jump label82328;
            }
            if (l ~= 0) {
                results->1 = 1[?];
                results->0 = 17[Meldrews_History?];
                results->2 = l;
                rtrue;
            }
            if (global6 == player) {
                j = 2[?];
                --j;
              .label82445;
                if (j < num_words) {
                    ++j;
                    i = routine_150fa();
                    if (i == 16987['xcommand//p'?]) {
                        jump label82476;
                    }
                    jump label82445;
                }
            }
            etype_local = 11;
            jump label83687;
          .label82476;
            j = global49 - 1;
            token = 6[ne_obj?];
            if (j == 1[?]) {
                print "You can't begin with a comma.^";
                jump label82320;
            }
            global49 = 1[?];
            l = routine_14b48(player,location,token);
            if (l == 1000[?]) {
                jump label82328;
            }
            if (l == 0) {
                print "You seem to want to talk to someone, but I can't see whom.^";
                jump label82320;
            }
            if (l has talkable) {
                ! no code
            } else if (l hasnt animate) {
                print "You can't talk to ";
                Defart(l);	! not popped
                @pop;
                print ".^";
                jump label82320;
            }
            if (global49 ~= j) {
                print "To talk to someone, try ~someone, hello~ or some such.^";
                jump label82320;
            }
            global69 = j + 1;
            global6 = l;
            jump label82341;
        }
        i = 255 - verb_word->5;
        syntax = 0-->7-->i;
        num_lines = syntax->0 - 1;
        line = 0;
        --line;
      .label82723;
        if (line < num_lines) {
            ++line;
            global70 = 0;
            global49 = global69 + 1;
            line_address = syntax + (1 + line * 8);
            global59 = 0;
            j = 0;
            global53 = 0;
            global57 = 1[?];
            --global57;
          .label82763;
            if (global57 < 6) {
                ++global57;
                global55-->global57 = 0;
                token = line_address->global57;
                if (token > 7) {
                    global55-->global57 = 1000 + token;
                    if (global49 > num_words) {
                        if (global59 == 0 && j < line_address->0) {
                            global59 = global57;
                            global60 = token;
                        }
                        if (global59 == 0) {
                            jump label83684;
                        }
                    }
                    if (global49 <= num_words && token ~= routine_150d4(parse)) {
                        jump label83684;
                    }
                } else {
                    if (j == line_address->0) {
                        if (global49 < num_words + 1) {
                            m = 0;
                            --m;
                          .label82873;
                            if (m < 7) {
                                ++m;
                                global56-->m = global55-->m;
                                jump label82873;
                            }
                            global58 = global57;
                            etype_local = 2;
                            jump label83684;
                        }
                        if (global53 == 1[?]) {
                            global49 = local14;
                            token = local15;
                            jump label83023;
                        }
                      .label82915;
                        results->1 = line_address->0;
                        results->0 = line_address->7;
                        if (j > 0) {
                            global4 = results->2;
                        }
                        global61 = 0;
                        if (global70 ~= 0) {
                            notheld_mode = true;
                            i = 0;
                            --i;
                          .label82958;
                            if (i < 7) {
                                ++i;
                                global71->i = results->i;
                                jump label82958;
                            }
                            results->1 = 1[?];
                            results->0 = 2[?];
                            results->2 = global70;
                            print "(first taking ";
                            Defart(global70);	! not popped
                            @pop;
                            print ")^";
                            rtrue;
                        }
                        rtrue;
                    }
                    global51 = 0;
                    local13 = 0;
                  .label83023;
                    local11 = routine_150fa();
                    --global49;
                    if (local11 == 14418['it//p'?] && global4 == 0) {
                        etype_local = 8;
                        jump label83684;
                    }
                    if (local11 == 16483['them//p'?] && global4 == 0) {
                        etype_local = 8;
                        jump label83684;
                    }
                    global68 = 0;
                    if (local11 == 16476['the//p'?]) {
                        ++global49;
                        jump label83023;
                    }
                    if (local11 == 12374['a//p'?]) {
                        ++global49;
                        global68 = 1[?];
                    }
                    if (local11 == 12430['an//p'?]) {
                        ++global49;
                        global68 = 1[?];
                    }
                    if (token == 7[nw_obj?]) {
                        current_year = routine_151aa(global49);
                        noun_word = routine_150fa();
                        results->(j + 2) = 255[carbolic_soap?];
                        j = j + 1;
                        global55-->global57 = 255[carbolic_soap?];
                    } else {
                        global52 = 0;
                        if (local11 == 15615['rods//p'?]) {
                            local11 = 12416['all//p'?];
                            global52 = 18[antique_jewellery_box?];
                        }
                        if (local11 == 12920['cards//p'?]) {
                            local11 = 12416['all//p'?];
                            global52 = 27[servants_bed?];
                        }
                        if (local11 == 13669['everything//p'?]) {
                            local11 = 12416['all//p'?];
                        }
                        if (local11 == 12773['both//p'?]) {
                            local11 = 12416['all//p'?];
                        }
                        if (local11 == 12416['all//p'?]) {
                            if (token < 2) {
                                etype_local = 6;
                                jump label83684;
                            }
                            if (token >= 6) {
                                etype_local = 6;
                                jump label83684;
                            }
                            ++global53;
                            if (global53 > 2) {
                                etype_local = 7;
                                jump label83684;
                            }
                            if (global53 == 2[?]) {
                                if (token == 5[w_obj?]) {
                                    routine_14a68(results->3);	! not popped
                                    @pop;
                                }
                                if (token == 4[e_obj?]) {
                                    routine_14a68(global6);	! not popped
                                    @pop;
                                    local11 = parent(results->3);
                                    if (local11 == global6) {
                                        routine_14a12(results->3);	! not popped
                                        @pop;
                                    }
                                }
                                if (token == 2[?]) {
                                    routine_14a68(location);	! not popped
                                    @pop;
                                }
                                if (token == 3[s_obj?]) {
                                    routine_14a68(global6);	! not popped
                                    @pop;
                                }
                                if (global52 ~= 0) {
                                    routine_149e2(global52);	! not popped
                                    @pop;
                                }
                            }
                            if (global53 == 1[?]) {
                                local14 = global49;
                                local15 = token;
                                routine_14a68(location);	! not popped
                                @pop;
                            }
                            ++global49;
                            jump label84205;
                        }
                        global61 = global49;
                        if (token ~= 1[?]) {
                            l = routine_14b48(location,global6,token);
                            if (l == 1000[?]) {
                                jump label82328;
                            }
                            if (l == 0) {
                                etype_local = routine_14972();
                                jump label83684;
                            }
                            if (token == 6[ne_obj?] && l hasnt animate) {
                                etype_local = 10;
                                jump label83684;
                            }
                            if (local13 == 0) {
                                results->(j + 2) = l;
                                j = j + 1;
                                global55-->global57 = l;
                            }
                            if (local13 == 1[?]) {
                                routine_149a6(l);	! not popped
                                @pop;
                            }
                            if (local13 == 2[?]) {
                                m = routine_14a12(l);
                                if (global53 ~= 1[?] && m ~= 0) {
                                    etype_local = m;
                                    jump label83684;
                                }
                            }
                        }
                        if (token == 1[?]) {
                            l = routine_14b48(global6,location,token);
                            if (l == 1000[?]) {
                                jump label82328;
                            }
                            if (l == 0) {
                                etype_local = routine_14972();
                                jump label83684;
                            }
                            local11 = parent(l);
                            if (local11 ~= global6) {
                                if (notheld_mode == true) {
                                    global62 = global61;
                                    etype_local = 5;
                                    jump label83684;
                                }
                                global70 = l;
                            }
                            results->(j + 2) = l;
                            j = j + 1;
                            global55-->global57 = l;
                        }
                    }
                  .label83552;
                    local11 = routine_150fa();
                    if (0 ~= routine_15060(l,local11)) {
                        jump label83552;
                    }
                    if (local11 == 16987['xcommand//p'?]) {
                        local11 = 12444['and//p'?];
                    }
                    if (local11 == 12444['and//p'?]) {
                        if (token < 2) {
                            etype_local = 6;
                            jump label83684;
                        }
                        if (token >= 6) {
                            etype_local = 6;
                            jump label83684;
                        }
                        if (global51 == 0) {
                            global17->0 = 1[?];
                            global17->1 = l;
                            j = j - 1;
                            global51 = 1[?];
                        }
                        if (local13 == 0) {
                            local13 = 1[?];
                        }
                        jump label83023;
                    }
                    global49 = global49 - 1;
                  .label83650;
                    if (global53 == 2[?]) {
                        jump label82915;
                    }
                    if (global51 == 1[?]) {
                        results->(j + 2) = 0;
                        global55-->global57 = 0;
                        j = j + 1;
                    }
                }
                jump label82763;
            }
          .label83684;
            jump label82723;
        }
    }
  .label83687;
    if (global6 ~= player) {
        current_year = routine_151aa(global69);
        global49 = global69;
        noun_word = routine_150fa();
        verb = ##Answer;
        noun = compass;
        second = global6;
        global6 = player;
        rtrue;
    }
    if (etype_local == 1) {
        print "I didn't understand that sentence.^";
        global61 = 1[?];
    }
    if (etype_local == 2) {
        print "I only understood you as far as wanting to ";
        m = 0;
        --m;
      .label83795;
        if (m < 7) {
            ++m;
            global55-->m = global56-->m;
            jump label83795;
        }
        global57 = global58;
        routine_14da2(0,1[?]);	! not popped
        @pop;
        print ".^";
    }
    if (etype_local == 3) {
        print "You can't see any such thing.^";
        global61 = global62;
    }
    if (etype_local == 4) {
        print "You seem to have said too little!^";
    }
    if (etype_local == 5) {
        print "You aren't holding that!^";
        global61 = global62;
    }
    if (etype_local == 6) {
        print "You can't use multiple objects with that verb.^";
    }
    if (etype_local == 7) {
        print "You can only use multiple objects once on a line.^";
    }
    if (etype_local == 8) {
        print "I'm not sure what 'it' refers to.^";
    }
    if (etype_local == 9) {
        print "You excepted something not included anyway!^";
    }
    if (etype_local == 10) {
        print "You can only do that to something animate.^";
    }
    if (etype_local == 11) {
        print "That's not a verb I recognise.^";
    }
    if (etype_local == 12) {
        print "That's not something you need to refer to in the course of this game.^";
    }
    jump label82320;
  .label84205;
    local11 = routine_150fa();
    if (local11 == 16476['the//p'?]) {
        jump label84205;
    }
    if (local11 == 15615['rods//p'?]) {
        routine_149e2(18[antique_jewellery_box?]);	! not popped
        @pop;
        jump label84205;
    }
    if (local11 == 12920['cards//p'?]) {
        routine_149e2(27[servants_bed?]);	! not popped
        @pop;
        jump label84205;
    }
    if (local11 == 13683['except//p'?]) {
        local11 = 12850['but//p'?];
    }
    if (local11 == 12850['but//p'?]) {
        local13 = 2[?];
        jump label83023;
    }
    global49 = global49 - 1;
    jump label83650;
];

[ routine_1493e local1=1537[?] local2=38406[?] local3='invalidDictWord25094' local4='wiring' local5=10645[?] local6=1590[?] local7=518[?] local8=85[wheel2?] local9=1[?] local10=111[antiquated_wireless?] local11=6656[?] local12=1857[?] local13=1792[?] ;	! 84286 / 0x1493e
    @2OP:0 9[sw_obj?] 178[rod_of_bronze?];
    if (global96 has global62) jump label91691;
    if (++global49 <= 7) jump label84452;
    if (167 & 7 == 7) jump label84365;
    @2OP:31 second global124;
    @check_arg_count ?label83231;
    @2OP:0 3[s_obj?] 0;
    @2OP:0 0 0;
    @2OP:0 0 45[solid_glass_ball?];
    move global61 to crook;
    local1 = 1 * 74;
    global124 = Clearing.before;
    @2OP:0 28[old_striped_scarf?] 85[wheel2?];
    if (local1 == 65[Battlements?]) jump label84394;
    @2OP:31 168[poster?] global109;
    if (224 < 43) jump label78274;
    if (2[?] ~= 0) jump label76439;
    @2OP:0 128[Clearing?] 7[nw_obj?];
    local3 = 'invalidDictWord12';
    return local3;
    local3 = 'invalidDictWord3';
    return local3;
    if (0 <= 0) rfalse;
    @2OP:0 0 80[Old_Winery?];
    if (0 ~= local2) rtrue;
    if (16 >= 0) jump label85954;
    local13 = 1 - 176;
    if (1 <= 150) jump label85280;
    if (2 <= 0) jump label88920;
    if (112 <= 33) jump label85192;
    @je local1 SP ?~label84432;
    rtrue;
  .label84432;
    jump label84415;
    local2 = local2 + 1;
    global17->local2 = local1;
    global17->0 = local2;
    rtrue;
    @dec_chk 0 0 ?~rfalse;
    @2OP:0 0 0;
    @2OP:0 80[Old_Winery?] 33[gift_wrapped_parcel?];
    @2OP:0 2[?] 13[Grahams_Lair?];
    if (1 <= 150) jump label85333;
    if (2 <= 0) jump label91277;
    if (112 <= 33) jump label85249;
    if (local4 hasnt local1) {
        routine_14a12(local4);	! not popped
        @pop;
        jump label84459;
    }
    jump label84468;
    rtrue;
    @inc_chk 0 0 ?~rfalse;
    @2OP:0 0 0;
    @2OP:0 0 0;
    local2 = global17->0;
    local3 = 'invalidDictWord1';
    --local3;
  .label84518;
    if (local3 < local2) {
        ++local3;
        if (local1 == global17->local3) {
            local4 = local3;
            --local4;
          .label84539;
            if (local4 < local2) {
                ++local4;
                global17->local4 = global17->(local4 + 1);
                jump label84539;
            }
            local2 = local2 - 1;
            global17->0 = local2;
            local5 = 0;
            return local5;
        }
        jump label84518;
    }
    local5 = 9[sw_obj?];
    return local5;
    if (0 >= 0) rfalse;
    global51 = 1[?];
    global17->0 = 0;
    local1 = child(local1);
  .label84601;
    if (local1 ~= 0) {
        if (local1 hasnt concealed && local1 hasnt worn) {
            routine_149a6(local1);	! not popped
            @pop;
        }
        local1 = sibling(local1);
        jump label84601;
    }
    rtrue;
    @2OP:0 7[nw_obj?] 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 85[wheel2?] 81[demijohn?];
    if (3[s_obj?] == 13[Grahams_Lair?]) {
        local5 = global64->0;
        local2 = 0;
        --local2;
      .label84663;
        if (local2 < local3) {
            ++local2;
            local7 = global64->local2;
            if (local7 has concealed) {
                ! no code
            } else {
                local6 = parent(local7);
                if (local1 == 1[?] && local6 == global6) {
                    ++local4;
                    local5 = local7;
                }
                if (local1 == 3[s_obj?] && local6 == global6) {
                    ++local4;
                    local5 = local7;
                }
                if (local1 == 4[e_obj?] && local6 == global6) {
                    ++local4;
                    local5 = local7;
                }
                if (local1 == 5[w_obj?] && local6 == global6) {
                    ++local4;
                    local5 = local7;
                }
                if (local1 == 6[ne_obj?] && local7 has animate) {
                    ++local4;
                    local5 = local7;
                }
                if (local1 == 0 && local6 == location) {
                    ++local4;
                    local5 = local7;
                }
                if (local1 == 2[?] && local6 == location) {
                    ++local4;
                    local5 = local7;
                }
            }
            jump label84663;
        }
        if (local4 == 'invalidDictWord1') {
            return local5;
        }
        if (global68 == 1[?]) {
            return local5;
        }
        rfalse;
        0 | 0;	! not popped
        @2OP:0 0 0;
        @2OP:0 0 0;
        @2OP:0 0 0;
        @2OP:0 0 0;
        @2OP:0 13[Grahams_Lair?] 82[nasty_battery?];
        @2OP:0 13[Grahams_Lair?] 81[demijohn?];
        @2OP:0 45[solid_glass_ball?] 83[tourist_map?];
        if (global208 == romantic_novel) jump label78655;
        if (0 == 185[Chatelet_les_Halles?]) jump label84872;
        local2 = invalidArray167-->global203;
        @2OP:0 185[Chatelet_les_Halles?] 116[Premonition?];
        global49 = get_next_prop(global66,prop65);
        @get_prop SP 0 -> local5;
        ++global49;
        rfalse;
        if (global67 <= num_words) {
            local4 = global64->0;
            if (global65 == 1[?]) {
                return local4;
            }
        }
        if (global65 > 1) {
            local4 = routine_14a98(local3);
        }
        if (local4 ~= 0) {
            if (global59 == 0) {
                global59 = global57;
            }
            global55-->global57 = local4;
            print "(";
            routine_14da2(global59,0);	! not popped
            @pop;
            print ")^";
            return local4;
        }
        if (global67 > num_words) {
            ! no code
        } else {
            print "Which do you mean, ";
            local5 = global65 - 1;
            local4 = 0;
            --local4;
          .label84955;
            if (local4 < local5) {
                ++local4;
                local6 = global64->local4;
                Defart(local6);	! not popped
                @pop;
                if (local4 < local5 - 1) {
                    print ", ";
                }
                if (local4 == local5 - 1) {
                    print " or ";
                }
                jump label84955;
            }
            print "?^";
          .label85007;
            local8 = Keyboard(global11,global12);
            local5 = global12-->1;
            if (local5 == 12773['both//p'?]) {
                local5 = 12416['all//p'?];
            }
            if (local5 == 13669['everything//p'?]) {
                local5 = 12416['all//p'?];
            }
            if (local5 == 12416['all//p'?]) {
                print "Sorry, that's beyond my abilities. Which one exactly?^";
                jump label85007;
            }
            local5 = local5->4;
            if (0 ~= local5 & 1) {
                routine_152b4(buffer,global11);	! not popped
                @pop;
                routine_152b4(parse,global12);	! not popped
                @pop;
                local6 = 1000[?];
                return local6;
            }
            local7 = parse->1;
            parse->1 = local8 + local7;
            local6 = local7 + local8;
          .label85148;
            if (local6 > global67) {
                local4 = local6 - local8;
                routine_14f66(local6,parse,local4);	! not popped
                @pop;
                --local6;
                jump label85148;
            }
            local6 = 1[?];
            --local6;
          .label85176;
            if (local6 < local8) {
                ++local6;
                local4 = global67 + (local6 - 1);
                routine_14f66(local4,global12,local6);	! not popped
                @pop;
                jump label85176;
            }
            local6 = 1000[?];
            return local6;
        }
        print "What do you want ";
        if (global6 ~= player) {
            Defart(global6);	! not popped
            @pop;
        }
        print "to ";
        routine_14da2(0,1[?]);	! not popped
        @pop;
        print "?^";
        local8 = Keyboard(global11,global12);
        local5 = global12-->1;
        local5 = local5->4;
        if (0 ~= local5 & 1) {
            routine_152b4(buffer,global11);	! not popped
            @pop;
            routine_152b4(parse,global12);	! not popped
            @pop;
            local6 = 1000[?];
            return local6;
        }
        local7 = parse->1;
        if (global59 == 0) {
            local6 = 1[?];
            --local6;
          .label85312;
            if (local6 < local8) {
                ++local6;
                local4 = global67 + (local6 - 1);
                routine_14f66(local4,global12,local6);	! not popped
                @pop;
                jump label85312;
            }
        }
        if (global59 ~= 0) {
            local6 = 1[?];
            --local6;
          .label85349;
            if (local6 < local8) {
                ++local6;
                local4 = global67 + local6;
                routine_14f66(local4,global12,local6);	! not popped
                @pop;
                jump label85349;
            }
            global12-->1 = routine_14f3e(global60);
            routine_14f66(global67,global12,1[?]);	! not popped
            @pop;
            ++local8;
        }
        parse->1 = local8 + local7;
        local6 = 1000[?];
        return local6;
        0 | 0;	! not popped
        @2OP:0 0 0;
        @2OP:0 0 0;
        @2OP:0 0 0;
        @2OP:0 0 0;
        @2OP:0 65[Battlements?] 1[?];
        @2OP:0 1[?] 36[postcard?];
        local3 = parse-->1;
        local1 = 1[?];
        local6 = 1[?];
        if (local3 == 'inventory') {
            print "take an inventory";
            jump label85722;
        }
        if (local3 == 'examine') {
            print "examine";
            jump label85722;
        }
        if (local3 == 'extrac') {
            print "extract";
            jump label85722;
        }
        if (local3 == 'discard') {
            print "discard";
            jump label85722;
        }
        if (local3 == 'swallow') {
            print "swallow";
            jump label85722;
        }
        if (local3 == 'embrace') {
            print "embrace";
            jump label85722;
        }
        if (local3 == 'squeez') {
            print "squeeze";
            jump label85722;
        }
        if (local3 == 'purchase') {
            print "purchase";
            jump label85722;
        }
        if (local3 == 'consul') {
            print "consult";
            jump label85722;
        }
        if (local3 == 'unscrew') {
            print "unscrew";
            jump label85722;
        }
        if (local3 == 'describe') {
            print "describ";
            jump label85722;
        }
        if (local3 == 'uncovered') {
            print "uncover";
            jump label85722;
        }
        if (local3 == 'discard') {
            print "discard";
            jump label85722;
        }
        if (local3 ~= 'exhibition') jump label85686;
    }
    print "exhibit";
    jump label85722;
  .label85686;
    if (local3 == 'disrobe') {
        print "disrobe";
    } else if (local3 == 'transfer') {
        print "transfer";
    } else {
        print (address) local3;
    }
  .label85722;
    local4 = global57 - local2;
    local5 = local1;
    --local5;
  .label85731;
    if (local5 < local4) {
        ++local5;
        if (local6 == 1[?]) {
            print ' ';
        }
        local3 = global55-->local5;
        if (local3 == 0) {
            print "those things";
        } else if (local3 == 'invalidDictWord255') {
            print "that";
        } else {
            if (local3 < 256) {
                Defart(local3);	! not popped
                @pop;
            }
            if (local3 >= 1000) {
                local3 = local3 - 1000;
                print (address) routine_14f3e(local3);
            }
        }
        local6 = 1[?];
        jump label85731;
    }
    rtrue;
    if (0 <= 0) rfalse;
    @2OP:0 0 205[Wall_of_Thorns?];
    local11 = local3-->48;
  .label85834;
    if (1[?] == 1[?]) {
        local2 = local3-->1;
        if (local2 == local1) {
            local3 = local3-->0;
            return local3;
        }
        local3 = local3 + 4;
        jump label85834;
    }
    rtrue;
    @inc_chk 0 0 ?~rfalse;
    @2OP:0 0 0;
    @2OP:0 0 0;
    local4 = local1 * 2 - 1;
    local5 = local3 * 2 - 1;
    parse-->local4 = local2-->local5;
    ++local4;
    ++local5;
    parse-->local4 = local2-->local5;
    rtrue;
    if (0 >= 0) rfalse;
    if (local2 < global66) {
        rtrue;
    }
    if (local2 > global66) {
        global66 = local2;
        global65 = 0;
    }
    global64->global65 = local1;
    ++global65;
    rtrue;
    if (0 & 0 ~= 0) rfalse;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 97[rod_of_returning?] 1[?];
    global208 = 0->8;
    @2OP:31 167[Shadowy_Hallway?] 219[Spur_of_Rock?];
    if (2[?] ~= 162[goat?]) jump label86226;
    if (1 < 128 or 34659 or 83) {
        ! no code
    }
    @2OP:0 13[Grahams_Lair?] 224[Valley_Prospect?];
    if (167 & global188 ~= global188) jump label86243;
    @2OP:0 185[Chatelet_les_Halles?] 140[Catacomb_Passage?];
    @2OP:0 76[windows?] 45[solid_glass_ball?];
    if (global67 ~= 224[Valley_Prospect?]) jump label85909;
    give local2 invalidAttrib65;
    if (1 >= 0) jump label89942;
    local10 = 1 + 0;
    routine_14f98(global4,1[?]);	! not popped
    @pop;
    if (0 == routine_15060(local1,local2)) {
        ! no code
    } else {
        local7 = 0;
      .label86037;
        ++local7;
        local5 = routine_150fa();
        if (0 ~= routine_15060(local1,local5)) {
            jump label86037;
        }
        routine_14f98(local1,local7);	! not popped
        @pop;
    }
    if (local1 has container) {
        if (local1 has open) {
            ! no code
        } else if (local1 has transparent) {
            jump label86103;
        }
        local4 = child(local1);
        if (local4 ~= 0) {
            local4 = routine_14fb6(local1);
        }
    }
  .label86103;
    local1 = sibling(local1);
    jump label85972;
    rfalse;
    @2OP:0 6[ne_obj?] 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 82[nasty_battery?];
    if (1[?] == 4[e_obj?]) jump label78965;
    @2OP:0 87[dark_shaft_obj?] 0;
    if (0 >= 85) rtrue;
    if (++local13 <= 6) jump label86292;
    if (robot_mouse notin ne_obj) jump label87427;
    global95 = rod_of_stalking.after;
    if (--local6 >= 3) jump label86188;
    if (3 >= 0) jump label87104;
    jump label86145;
    rfalse;
    if (0 <= 0) rfalse;
    @2OP:0 0 13[Grahams_Lair?];
    if (0 ~= 224[Valley_Prospect?]) jump label86089;
    @2OP:29 local2 global177;
    global66 = ~568;
    @2OP:0 7[nw_obj?] 13[Grahams_Lair?];
    if (1 <= 171) jump label87153;
    global83 = ~576;
    @2OP:0 7[nw_obj?] 13[Grahams_Lair?];
    if (1 <= 171) jump label87037;
    if (0 >= 0) jump label87154;
    local3 = local2-->4;
    if (local3 & 128 == 0) {
        rfalse;
    }
    return local2;
    @2OP:0 3[s_obj?] 0;
    @2OP:0 0 0;
    @2OP:0 0 224[Valley_Prospect?];
    @2OP:31 168[poster?] global109;
    if (65 <= 3) rfalse;
    if (177 <= 80) jump label87019;
    if (73 >= 2) jump label88300;
    @je SP 0 ?~label86260;
    rfalse;
  .label86260;
    return local3->6;
    if (0 <= 0) rfalse;
    @2OP:0 0 80[Old_Winery?];
    routine2(0);
    @jg global49 SP ?~label86287;
    global49 = global49 + 1;
    rfalse;
  .label86287;
    local1 = global49 * 2 - 1;
    global49 = global49 + 1;
    local2 = parse-->local1;
    if (local2 == 0) {
        local3 = global49 * 4 - 3;
        local1 = buffer->(parse->local3);
        if (local1 == 44[Disused_Observatory?]) {
            local2 = 16987['xcommand//p'?];
        }
    }
    return local2;
    @dec_chk 0 0 ?~rfalse;
    @2OP:0 0 0;
    @2OP:0 85[wheel2?] 65[Battlements?];
    if (4[e_obj?] ~= 80[Old_Winery?]) jump label93007;
    @2OP:0 99[Cellars_South?] 4[e_obj?];
    @2OP:0 0 3[s_obj?];
    rfalse;
    local1 = local4 * 4;
    local2 = parse->local1;
    local3 = parse->(local1 + 1);
    local3 = local3 + local2;
    print "Word ", local4, " ends with ";
  .label86396;
    local1 = buffer->local3;
    if (local1 == 32[scratched_cupboard?]) {
        ++local3;
        jump label86396;
    }
    if (local1 == 44[Disused_Observatory?]) {
        print "a comma^";
        local3 = 'invalidDictWord1';
        return local3;
    }
    print "no comma^";
    local3 = 0;
    return local3;
    @2OP:0 10[ceiling?] 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 86[dumbwaiter?] 1[?];
    @dec_chk 0 84 ?~label1;
    if (112 >= 26) jump label86988;
    local5 = local3 + buffer;
    local6 = parse->(local2 - 1);
    if (local6 >= 4) {
        local7 = 1000[?];
    }
    if (local6 == 3[s_obj?]) {
        local7 = 100[hole_in_the_wall?];
    }
    if (local6 == 2[?]) {
        local7 = 10[ceiling?];
    }
    if (local6 == 1[?]) {
        local7 = 1[?];
    }
    local8 = 0;
    local4 = 0;
    local6 = local6 - 1;
    local4 = 0;
    --local4;
  .label86536;
    if (local4 < local6) {
        ++local4;
        local10 = local5->local4;
        if (local10 == 48[poetry_book?]) {
            local9 = 0;
        } else if (local10 == 49[Souvenirs_Room?]) {
            local9 = 1[?];
        } else if (local10 == 50[slide_projector?]) {
            local9 = 2[?];
        } else if (local10 == 51[south_wall?]) {
            local9 = 3[s_obj?];
        } else if (local10 == 52[East_Annexe?]) {
            local9 = 4[e_obj?];
        } else if (local10 == 53[insulation_rolls?]) {
            local9 = 5[w_obj?];
        } else if (local10 == 54[new_battery?]) {
            local9 = 6[ne_obj?];
        } else if (local10 == 55[cupboard_door?]) {
            local9 = 7[nw_obj?];
        } else if (local10 == 56[Dead_End?]) {
            local9 = 8[se_obj?];
        } else if (local10 == 57[canvas_rucksack?]) {
            local9 = 9[sw_obj?];
        } else {
            rfalse;
        }
        local8 = local8 + local7 * local9;
        local7 = local7 / 10;
        jump label86536;
    }
    return local8;
    @2OP:0 3[s_obj?] 0;
    @2OP:0 0 0;
    @2OP:0 0 80[Old_Winery?];
    if (0 ~= 3[s_obj?]) jump label90017;
    if (150[Up_the_Beanstalk?] ~= 2[?]) jump label86725;
    if (3 >= 0) jump label89917;
    if (226 >= 167) jump label86959;
    @2OP:0 140[Catacomb_Passage?] 255[carbolic_soap?];
    @output_stream local4;
    @2OP:0 0 0;
    @2OP:0 0 0;
    @2OP:0 0 80[Old_Winery?];
    if (0 ~= 4[e_obj?]) jump label90052;
    if (150[Up_the_Beanstalk?] ~= 3[s_obj?]) jump label86759;
    if (4 <= 0) jump label90975;
    if (112 <= 2) jump label87503;
    @storeb local1 local3 SP;
    jump label86726;
    rtrue;
    if (0 >= 0) rfalse;
    print "Dump at ";
    routine_1530e(local1);	! not popped
    @pop;
    new_line;
    local2 = 0;
    --local2;
  .label86771;
    if (local2 < 31) {
        ++local2;
        routine_1530e(local1->local2);	! not popped
        @pop;
        print " ";
        jump label86771;
    }
    new_line;
    rtrue;
    @2OP:0 2[?] 0;
    @2OP:0 0 0;
    local2 = local1 / 16 / 16;
    if (local2 ~= 0) {
        routine_15346(local2 / 16);	! not popped
        @pop;
        routine_15346(local2);	! not popped
        @pop;
    }
    routine_15346(local1 / 16);	! not popped
    @pop;
    routine_15346(local1);	! not popped
    @pop;
    rtrue;
    @2OP:0 1[?] 0;
    @2OP:0 88[pulley_ropes?] 1[?];
    local1 = 1->66;
    if (nothing hasnt open) jump label86885;
    if (48[poetry_book?] == 0) jump label86906;
    @piracy ?~label87048;
    local1 + (97 - 10);	! not popped
];

! StringArea 0x1536e 0x1ccd8

! 86894 (0x1536e): "a"
! 86896 (0x15370): "You can't go that way."
! 86914 (0x15382): "the"
! 86916 (0x15384): "the"
! 86918 (0x15386): "the"
! 86920 (0x15388): "the"
! 86922 (0x1538a): "the"
! 86924 (0x1538c): "the"
! 86926 (0x1538e): "the"
! 86928 (0x15390): "the"
! 86930 (0x15392): "the"
! 86932 (0x15394): "the"
! 86934 (0x15396): "It is pitch dark, and you can't see a thing."
! 86966 (0x153b6): "A home for the bewildered. NE to stream, NW to lighthouse, SE to cupboard, SW to Folly, N to onboat, S to projector room, E to Shaftmid, W to Infroom, U to cliffs, D to cave."
! 87102 (0x1543e): "The attics, full of low beams and awkward angles, begin here in a relatively tidy area which extends north, south and east. The wooden floorboards seem fairly sound, just as well considering how heavy all these teachests are. But the old wiring went years ago, and there's no electric light."
! 87304 (0x15508): "A hinged trapdoor in the floor stands open, and light streams in from below."
! 87358 (0x1553e): "There is a closed trapdoor in the middle of the floor."
! 87396 (0x15564): "some"
! 87400 (0x15568): "Open-topped. You could easily look inside, if so minded."
! 87442 (0x15592): "the"
! 87444 (0x15594): "It was to have been the Honourable Peter Meldrew's life's work, a two-volume edition giving the definitive family history. Unfortunately, although he claimed to have hunted for evidence to the ends of the earth, he never could find a detail he wanted for volume I, and it was never published. Somehow, this typifies your family, and consulting this worthy book about your ancestors makes you realise what an uncanny knack they had for never quite achieving anything.^^Unless, of course, you count having an awful lot of children. So many Meldrews are listed here that you'll have to look them up individually."
! 87870 (0x1573e): "What a boring old book!  There's nobody worth looking up."
! 87912 (0x15768): "an"
! 87914 (0x1576a): "A graceful lady's box, bearing the initials A. M. and engraved with a drawing of what seems to be a rabbit's foot."
! 87996 (0x157bc): "In one corner is a jewellery box, which had previously been hidden by the open trapdoor."
! 88058 (0x157fa): "Try investigating the world of the romantic novel, out on the balconies of life."
! 88114 (0x15832): "The fabulously lucky plant has a long stalk."
! 88146 (0x15852): "Not much use as it is, is it?"
! 88168 (0x15868): "the"
! 88170 (0x1586a): "Well, if there's such a thing as luck, maybe this would help."
! 88214 (0x15896): "the"
! 88216 (0x15898): "Perfect for little pointy forks."
! 88240 (0x158b0): "Please, please. This isn't that kind of afterlife."
! 88278 (0x158d6): "   Things to do:^   1. Find map^   2. Phone airport to check parking^   3. Health forms...^and so on. Let's face it, 1. is more enticing than the rest put together."
! 88404 (0x15954): "Immensely useful, that."
! 88422 (0x15966): "an"
! 88424 (0x15968): "The torch has a battery compartment which can be reached by opening it up."
! 88476 (0x1599c): "Pity you can't change the batteries."
! 88502 (0x159b6): "an"
! 88504 (0x159b8): "Oatmeal covered with plain chocolate, since you ask."
! 88542 (0x159de): "I bet you didn't know that chocolate biscuit manufacturers are damned in perpetuity?  I'm afraid the chapters about that in the Old Testaments were lost, though, and now no-one can remember why."
! 88680 (0x15a68): "Once upon a time, servants in great houses lived in awful little crevices and excuses for rooms like this one. They must have been in permanent danger of suffocation, for there are no windows and only a doorway to the west. A bed is still kept here, and the sight of it brings on drowsiness in all this warm stuffy air. All you want to do is curl up and sleep."
! 88928 (0x15b60): "an"
! 88930 (0x15b62): "Made by Dunn and Co., naturally, with four stripes: royal blue, emerald, dark grey and scarlet."
! 89000 (0x15ba8): "An old striped scarf is hung up behind the doorway."
! 89036 (0x15bcc): "The very height of fashion, if you ignore the colours and wear it regardless."
! 89090 (0x15c02): "Scruffy old furniture is piled up here: armchairs with springs coming out, umbrella stands, a badly scratched cupboard, a table with one leg missing... You try to remember why you keep all this rubbish, and fail. Anyway the attic continues to the southeast."
! 89270 (0x15cb6): "Nothing there, but that cupboard looks interesting."
! 89306 (0x15cda): "Shame the wrapping paper won't come off."
! 89336 (0x15cf8): "Far too nice to give to anybody else. In fact..."
! 89372 (0x15d1c): "some"
! 89376 (0x15d20): "The reindeer have enormous significance."
! 89404 (0x15d3c): "It is addressed to the house, and postmarked 1963, but has no message. Odd, that."
! 89466 (0x15d7a): "There's no message there to read."
! 89490 (0x15d92): "These bottles can even survive long drops, so perhaps you should try fire."
! 89542 (0x15dc6): "This drug is for fun, it isn't an antidote. And it tastes gorgeous..."
! 89594 (0x15dfa): "The air is dusty and warm, almost making you choke in this rather empty area. The attic turns from northwest to east, and there is also a tight doorway leading west. A short flight of wooden steps leads down and to the south."
! 89750 (0x15e96): "This is a roughly-furnished photographer's dark room, used by your grandfather years ago. There's nothing much here now, since you threw the chemicals out in case the children found them."
! 89882 (0x15f1a): "The only doorway is back east."
! 89904 (0x15f30): "It is attached to the ceiling."
! 89926 (0x15f46): "You bump your head on the cord hanging from the ceiling, for the umpteenth time."
! 89982 (0x15f7e): "the old"
! 89988 (0x15f84): "Mounted on a plaque is an old sepia photograph of a man."
! 90028 (0x15fac): "The photograph is one of the very early ones which looks as if it was taken in the dark because the chemicals have gradually oxidised. The poor man in the frame (Mr Roger Meldrew, Esquire) looks as if he was propped up by a big clamp to hold him still for five minutes, and that's because he was."
! 90234 (0x1607a): "When you can get this working, perhaps you should take it somewhere prominent."
! 90288 (0x160b0): "It has an openable compartment on the side to hold a battery and a timer mechanism."
! 90346 (0x160ea): "A rather more modern photographer's flash lies on a shelf to one side."
! 90396 (0x1611c): "Once upon a time, this small circular room had a dome and a telescope, but it leaked dreadfully and so now there's a proper roof. A circular mural painted with the signs of the zodiac is interrupted by a short flight of stairs leading up to the north, a west doorway to a shadowy alcove and the continuation of the stairs down and to the south."
! 90632 (0x16208): "Mounted on the old telescope stand is what looks like a solid glass ball."
! 90682 (0x1623a): "The ball is scratched and misted up."
! 90708 (0x16254): "Once upon a time, the house library was used as a gun-room, and all the unwanted books kept up here. Now this is just another awkward cranny."
! 90808 (0x162b8): "From here, you can only squeeze back east to the observatory."
! 90852 (0x162e4): "Don't bother reading or thinking about it. Nothing to do with your family."
! 90906 (0x1631a): "~Coronets for the Cotton Girl~, by Miss Marie Swelldon, published London, 1912. It's all about the happy-go-lucky daughter of a Yorkshire mill owner and her adventures marrying into the aristocracy."
! 91054 (0x163ae): "My my, a golden age for clear, simple poetry. At last, the dreary obscurity of Tennyson, Kipling, and [frothing at the mouth] Hardy gives way..."
! 91164 (0x1641c): "This is where you ought to have left the wretched map, in the family lumber-room of souvenirs and holiday snaps. You checked it thoroughly earlier, and can't bear the thought of searching it all again. A slide projector is aimed at the whitewashed south wall, one of the outside walls of the house. The only way to go is back up to the observatory."
! 91406 (0x1650e): "It has an on/off switch on the side, and a slot for holding whatever is to be projected."
! 91468 (0x1654c): "This tight annexe at the eastern end of the house is piled up with old loft insulation rolls, left over from the last time the job was done (whenever that was). A gap between the tiles of the roof (which you really must mend before winter) lets a little natural light in, but the attics to the west and south are dark."
! 91688 (0x16628): "some"
! 91692 (0x1662c): "That is a difficult puzzle, yes."
! 91716 (0x16644): "In the north wall is an open cupboard door, large enough to step inside."
! 91766 (0x16676): "In the north wall is an intriguing closed cupboard door."
! 91806 (0x1669e): "The winding attic comes to a dead end here, and particularly dirty it is too, what with soot everywhere from the broken old chimney-sweeping gear."
! 91908 (0x16704): "It might be handy, if only it could carry anything."
! 91944 (0x16728): "Great Scott!  That old canvas rucksack must be the very one your famous ancestor, the African explorer Ebenezer Meldrew, brought back from the Zambeze Expedition of 1882!"
! 92068 (0x167a4): "On second thoughts, now you look at more closely, it seems to be the rucksack you bought to go to Paris with five years ago."
! 92154 (0x167fa): "A secret door stands open in the south wall!"
! 92186 (0x1681a): "The secret door is closed."
! 92206 (0x1682e): "This is a surprisingly spacious cupboard, which you can't recall ever visiting before today. You really ought to use this convenient empty room for something..."
! 92318 (0x1689e): "Carry this with you everywhere you go."
! 92346 (0x168ba): "A large painting of Mad Isaac Meldrewe, your eighteenth-century ancestor, is propped up against the west wall."
! 92426 (0x1690a): "It used to hang in the downstairs landing, and the red, deranged eyes annoyed everybody who passed. Then Aunt Jemima picked up the ridiculous idea that it was by Sir Joshua Reynolds and had it valued. Happily it wasn't and, to cut a long story long, it ended up here."
! 92616 (0x169c8): "There is a big iron fireplace in the west wall."
! 92650 (0x169ea): "The skylight above is open, and the sky does indeed light the room."
! 92698 (0x16a1a): "Above you is a blacked-out skylight with a crank handle."
! 92738 (0x16a42): "It was painted out black during the first wave of Zeppelin air raids in World War One. This is completely irrelevant, but you did ask."
! 92834 (0x16aa2): "The cork filters have gone. It's useless now."
! 92868 (0x16ac4): "This is a recessed area of the roof, open to the skies but screened from below. There used to be a flagpole here, but not any more. An open skylight leads down, and a fairly safe catwalk leads northwest. However, the red-tiled roof is vertiginous and you have vertigo, which makes it especially annoying that there's an odd little balcony too far away to the south."
! 93122 (0x16bc2): "William Wordsworth once described poetry as emotion recollected in tranquillity. If so, hospitals must be full of people turning out verses about what it was like to fall off the roof of a high building. Perhaps it might be better not to join them."
! 93294 (0x16c6e): "The old crenellated battlements of the house. An Englishman's home is, of course, his castle, but Meldrew Hall never saw much fighting and these military-looking features were just a seventeenth-century fashion. They also weren't intended for standing on, and the only safe way to proceed is back southeast.^^It is peculiarly cold here."
! 93532 (0x16d5c): "The rooftop is far too dangerous in that direction."
! 93568 (0x16d80): "Unfortunately, what you need this for is a very long way away."
! 93612 (0x16dac): "He is dressed in a grey shadow of Georgian finery."
! 93648 (0x16dd0): "The chimney is cramped, sooty, unpleasant and has no floor to speak of, so you are held up only by jamming your feet against the walls. To the east, through the fireplace, is the cupboard."
! 93780 (0x16e54): "Not a chance!"
! 93790 (0x16e5e): "Wedged loosely in beside you is a sooty old stick."
! 93826 (0x16e82): "It's exactly what it seems."
! 93846 (0x16e96): "the"
! 93848 (0x16e98): "This is rather dangerous, I'm afraid. Use only on vegetative matter."
! 93898 (0x16eca): "Good heavens, so the house has a priest hole after all!  It was always a family legend but nobody seemed to know quite where it was. Apart from a cross painted on one wall and a padded floor (to absorb the noise), this spartan cranny is featureless. Nevertheless there is a spooky air of the supernatural about... A narrow crawl leads up into the chimney."
! 94146 (0x16fc2): "An open hatch-door in the floor reveals a chute leading down into darkness."
! 94198 (0x16ff6): "Low down on one wall is little hatch door, which if it were open would be large enough to enter."
! 94264 (0x17038): "Perhaps the attic key might unlock it?  It does look modern compared to everything else here."
! 94330 (0x1707a): "The really good research was in his earlier years."
! 94366 (0x1709e): "The dust and grime on the floor almost obscures an ancient prayer book."
! 94416 (0x170d0): "Despite appearances, this is not a prayer book after all but is Mad Isaac's diary of supernatural investigations!  The script is cursive and cursory as he rambles on through all those theories about the Curse. There's so much of it that you'd better just look up particular years."
! 94612 (0x17194): "A pleasantly furnished, if now mildewed, box room. A rather small door leads back north into the attics. The room is provided with a comfortable bed, which looks very inviting."
! 94736 (0x17210): "There's just the secret north door, unless of course you count the windows."
! 94790 (0x17246): "Black-latticed windows open on a beautiful summer's day."
! 94830 (0x1726e): "Blue skies can be seen through south-facing windows, latticed with black lead and shut tight."
! 94896 (0x172b0): "A tiny balcony around Miss Alison's windows, offering fresh air, blue skies and a magnificent view over the gardens down to the droning motorway in the distance. The roof is too perilous to scale even if you had a good reason (which you haven't), so you had better go back north."
! 95092 (0x17374): "The rooftop is far too dangerous in that direction."
! 95128 (0x17398): "The balcony is only a foot or so beneath the window-sill, and only about four feet square."
! 95192 (0x173d8): "Gold and lead are naturally related, so you want to find a lead box to open."
! 95246 (0x1740e): "This small cavity at the north end of the attic once housed all manner of home-made wine paraphernalia, now lost and unlamented. Steps, provided with a good strong banister rail, lead down and to the west, and the banister rail continues along a passage east."
! 95426 (0x174c2): "Faded ink on the label reads: Elderberry '63."
! 95462 (0x174e6): "It's provided for your torch, and not for anything else."
! 95502 (0x1750e): "On the side is the word ~Achtung~."
! 95528 (0x17528): "Purely decorative."
! 95542 (0x17536): "The good news is that it has excellent grid references, which are easy to look up. The bad news is that it is a map of central Hamburg."
! 95636 (0x17594): "A disused storage room off the winery. In one wall is an opening onto an ominous dark shaft, and beside it is a big Victorian-steam-engine style wheel with a handle on."
! 95754 (0x1760a): "The only doorway is back west to the winery."
! 95786 (0x1762a): "There is a concealed safety catch (poorly) hidden on the wheel."
! 95832 (0x17658): "the old"
! 95838 (0x1765e): "Inside the dark shaft is the old dumbwaiter."
! 95870 (0x1767e): "Uninviting."
! 95880 (0x17688): "the"
! 95882 (0x1768a): "The dumbwaiter hangs on strong pulley ropes which stretch up and down from here."
! 95938 (0x176c2): "It isn't even mentioned in any of the books I've read."
! 95978 (0x176ea): "The half which didn't get the wish, actually."
! 96012 (0x1770c): "Halfway up, or else halfway down, and a dreary place it is too: nothing but a dark corridor leading north."
! 96086 (0x17756): "A passage which slants very slightly down to the south, which is full of coal dust, to which you are unfortunately allergic. Not somewhere to linger."
! 96190 (0x177be): "At the north end is a metal door, standing open."
! 96224 (0x177e0): "At the north end is a closed metal door."
! 96252 (0x177fc): "Cobwebbed old cellars. There is nothing to see except an opening in one wall onto a dark shaft, and a big Victorian-steam-engine style wheel beside it with a handle on. The cellar continues west and south."
! 96396 (0x1788c): "There is a concealed safety catch on the wheel axle."
! 96432 (0x178b0): "Uninviting."
! 96442 (0x178ba): "an"
! 96444 (0x178bc): "A plain old piece of timber."
! 96464 (0x178d0): "the"
! 96466 (0x178d2): "Well, that's not very useful, is it?  I'd go on strike if I were you."
! 96518 (0x17906): "It can't even follow orders."
! 96540 (0x1791c): "In one corner is a dust-covered robot mouse."
! 96572 (0x1793c): "Remember the late 1970s, when a craze for home-made robots swept the home computing world?  No, perhaps not, but here is a left-over from it anyway. The mouse is quite large (almost a foot wide and tall), and has a big smile painted on its metal chassis."
! 96754 (0x179f2): "The bricking-up of this cellar seems incomplete, because there is a hole about ten or eleven inches across in the west wall. You peer at this with interest but nothing is within reach inside, and it is far too small for you to wriggle through. The cellars go back north, and so, it would appear, do you."
! 96964 (0x17ac4): "It isn't the attic key, I fear."
! 96988 (0x17adc): "Lying where the mouse dropped it is a small brass key."
! 97026 (0x17b02): "The west end of a disused and shadowy old cellar. It used to be a wine cellar, but was bricked up when you were a child - you never did find out why. Perhaps the golden, jewelled staircase leading down into smoky mists to the south might be something to do with it."
! 97210 (0x17bba): "In the northwest wall the iron door stands open."
! 97244 (0x17bdc): "In the northwest wall is a heavy, imposing Gothic iron door."
! 97288 (0x17c08): "An eerie, dark cave carved from crystal icicles of rock and strewn with great spiders' webs hung from the ragged stone, inhabited only by dead white insects. A narrow crevice opens out to an iron doorway and the warmth of the house.^^The rough stone floor levels out to a perfectly round, smooth white marble disc about five yards across, inscribed with a black lemniscus (or infinity) symbol.^^You shiver with foreboding, but inexplicably feel that the map you're looking for must be somewhere near here."
! 97640 (0x17d68): "This used to be called the Conservatory, before Aunt Jemima took it over to potter about with plants, painting and indeed (on occasion) pottery. She has filled the place with objets trouves and bric-a-brac, and hung up a home-made calendar of watercolours. Even the old airing cupboard to the south is cluttered.^^An open doorway leads back southwest onto the upstairs landing, and you can hear the chaotic noise of suitcases being manhandled about - good thing nobody's seen you. A narrow staircase leads up and to the east into the attic.^^Jemima herself seems to be in the potting room to the west."
! 98062 (0x17f0e): "A space about six feet square. The old drying racks now contain odd ceramic sculptures almost but not quite unrecognisable as coffee mugs. One corner is filled with an enormous pile of tie-dyed sheets, from Aunt Jemima's infamous Sixties Revival period of last October."
! 98252 (0x17fcc): "The only way to go from here is back north."
! 98282 (0x17fea): "an"
! 98284 (0x17fec): "It rolls on casters, and has a bakelite on/off switch."
! 98324 (0x18014): "To one side is a heavy cabinet on casters containing an antiquated wireless, the kind with glowing valves inside. On the top is a bakelite on-off switch."
! 98430 (0x1807e): "To one side is a heavy cabinet on casters containing an antiquated wireless, the kind with valves inside. On the top is a bakelite on-off switch."
! 98532 (0x180e4): "This light room is full of pot plants, flowers, seeds, ornamental trowels and other miscellaneous garden implements."
! 98614 (0x18136): "The only exit is back east to the conservatory."
! 98648 (0x18158): "some"
! 98652 (0x1815c): "Good for nothing. Why would you want gloves on?"
! 98686 (0x1817e): "A pair of yellow rubber gloves hangs from a hook on one wall."
! 98728 (0x181a8): "Aunt"
! 98732 (0x181ac): "She's been fiddling about with those cut flowers all afternoon. And she's a bit upset at being left alone in the house while you're off on holiday, so best not to get on her bad side. You really ought to make it up to her somehow."
! 98892 (0x1824c): "Aunt Jemima, who has for years collected varieties of daisy, is engaged in her regular annual pastime of deciding which species make the best chains."
! 98996 (0x182b4): "Dangerous to wear. But at least any sort of daisies will do."
! 99040 (0x182e0): "It is a frosty, clear night, but there is a scent of camp-fires burning in the distance. You are passing through the landscape as if a ghost, and all seems faintly unreal. To the east is one side of an animal-hide tent, but there is no way in from here. To southwest, some soldiers sit around the embers of a fire. There is a terrible sense of something about to happen."
! 99298 (0x183e2): "This is the tent of a thin, reedy man who wears no uniform but has an obvious and commanding presence. He has an aquiline, patrician nose and, at five feet four, is taller than anyone else present. The others are advisers, junior officers, scheming politicians and their like. A strange, more solid figure stands by a trestle table at the north end of the tent."
! 99550 (0x184de): "Beside the table is a more substantial adviser, as if she too walks in this strange spirit plane. She is wearing frightening druidical robes, of strange pelts and furs, with nasty-looking charms around her neck. Every so often, she seems to catch sight of you out of the corner of her eye, but then look round and see nothing. The military men do not believe in her power, and yet... they treat her with respect."
! 99838 (0x185fe): "An absolute essential."
! 99854 (0x1860e): "On the table is a heavy iron mascot of some kind."
! 99888 (0x18630): "The mascot is in the shape of an ankh, with a lemniscus (or infinity) symbol moulded onto it."
! 99954 (0x18672): "You can almost smell fear here. A motley platoon of soldiers are sitting about the embers of a fire. None are talking or sleeping, and the false good humour of the evening has died away. At first light, you realise, there will be a battle. It isn't a risk you'd like to run in their place. And there is a strange light already in the east... not yet a dawn, for the soldiers seem unaware of it."
! 100232 (0x18788): "A standing stone, perhaps a glacial erratic, stands here and on top of it is a shining blue stone, whose brightness almost blinds you. You feel irresistably drawn to it, and your hand reaches out..."
! 100372 (0x18814): "In the lush, verdant (which is to say, under-cared for) gardens of Meldrew House, where a stream gurgles pleasantly as it meanders through reeds. The house rises up high above you to the south and you do not dare go east for fear of being recaptured by the rest of the family, so you'll have to go northwest, deeper into the gardens."
! 100604 (0x188fc): "Better not go that way... you might get caught."
! 100640 (0x18920): "On the house wall is a coal bunker, whose door stands open."
! 100682 (0x1894a): "On the house wall is a coal bunker, whose loading door is shut."
! 100726 (0x18976): "You stand in the shade of a great plane tree, seedlings for which were brought back from Spain by an ancestor of yours in 1806. To the southeast is a stream, to the west is a small clearing and to the north a single break in the green privet hedge marks the entrance to the famously difficult Meldrew House Maze. A signpost reading ~To the Mosaic~ points east."
! 100980 (0x18a74): "This sunken corner of the garden has been excavated and then covered over with tough perspex to protect it from visitor's shoes. It consists of a time-worn Roman mosaic, divided into four quadrants, each showing scenes of idealised Roman life. There was probably a villa on this site, but your family has never been keen on archaeologists."
! 101216 (0x18b60): "From here you can only climb back up to the plane tree."
! 101254 (0x18b86): "Made of terra-cotta and ceramic fragments, it has held together surprisingly well."
! 101312 (0x18bc0): "A clearing at the edge of the garden, surrounded by walls and the privet hedges of the maze. To the east is the plane tree, to the west an opening in the wall makes a garage entrance and to the south is a small vegetable garden."
! 101468 (0x18c5c): "A recently-turned vegetable garden, using up a shady corner of the garden. The patch testifies more to good intentions than horticulture."
! 101564 (0x18cbc): "From this corner, you can only go back to the clearing."
! 101604 (0x18ce4): "A giant runner-bean plant leads up vertiginously into the sky from here."
! 101654 (0x18d16): "Only a runner-bean plant graces the vegetable garden."
! 101692 (0x18d3c): "A modest brick garage, built into the garden walls. A big open doorway leads east onto the clearing."
! 101762 (0x18d82): "A motorised garden roller of the kind you sit inside, among whose simple controls is a big on/off switch."
! 101836 (0x18dcc): "The garden roller sits here, its engine still running."
! 101874 (0x18df2): "A big motorised garden roller is parked here."
! 101906 (0x18e12): "The funny thing is, they didn't have weedkillers in the early nineteenth century, and yet they still planned some marvellous gardens."
! 101998 (0x18e6e): "If squeezed, it squirts weed killer over the ground. There are many warning labels about getting it on one's hands."
! 102080 (0x18ec0): "In the shadows is a weed killer bottle."
! 102108 (0x18edc): "A magnificent view of the gardens would be yours, were it not for the branches and leaves which surround you. You can make out Aunt Jemima up at the conservatory window, but hide from her view. Down below, the privet-hedge layout of the maze can be seen through the lower branches."
! 102304 (0x18fa0): "No, don't go out on a limb."
! 102326 (0x18fb6): "A maze of green privet passages, all alike."
! 102358 (0x18fd6): "The privet hedges are in the way."
! 102382 (0x18fee): "This is an old stone patio in the heart of the garden maze. A missing flagstone offers an intriguing dark prospect beneath."
! 102468 (0x19044): "The privet hedges are in the way."
! 102492 (0x1905c): "A dismal crypt, disused, full of leaves and rainswept. Light streams in from the square hole in the roof. There are no bones or urns on show."
! 102592 (0x190c0): "The mural stands slightly to one side, revealing a passage leading downward."
! 102646 (0x190f6): "The north wall forms a giant bronze mural, which has stood the test of time."
! 102700 (0x1912c): "The mural depicts an old bearded wise man following a star in the western sky. He has his right arm around an attractive young woman and holds a bundle of wands with his left hand. Around the border are astrological symbols of all kinds, from Tarot suits to zodiacal constellations."
! 102894 (0x191ee): "An eerie passage, running down from an opening at the south to murky depths in the north. The walls are jagged, uneven and decorated with bones."
! 102994 (0x19252): "You really should try to be more awestruck, for this is Merlin's cave, the hub of Creation. Every visitor perceives this place differently, according to his or her own myths and beliefs. Your particular creed being science, it is an unimpressive collection of gauges, dials and machines. A single passage leads up and out to the south."
! 103228 (0x1933c): "Particularly prominent are a large dial, like the volume control on an expensive hi-fi amplifier, and a big electrician's switch. Both are labelled in small print."
! 103342 (0x193ae): "Above the dial is a lower-case letter h with a slashed line through it. It is currently turned to 1.055 or thereabouts. There is something worryingly dangerous about its matter-of-factness."
! 103478 (0x19436): "The lower, on, position is labelled ~Determinism~. The upper, off, position is labelled ~Chance~."
! 103552 (0x19480): "This flagstoned rampart on the hillside looks across the valley, down (unfortunately) to the motorway below. Coaches pass by, reminding you of the rapidly approaching time when visitors will have to be let in again for the summer. The only safe way to go is back east into the maze. To one side is a plaque."
! 103766 (0x19556): "The hillside is too steep."
! 103786 (0x1956a): "~This viewpoint, one of the finest in the county, was laid down by Capability Meldrew, a well-known landscape gardener of his day. It was intended as one of the rewards of the garden maze, and was constructed c. 1808 after an earlier folly on the site collapsed.~"
! 103974 (0x19626): "A miniature plastic etching rests on the plaque."
! 104008 (0x19648): "What's the point of a drawing so small it might almost be a playing card?"
! 104060 (0x1967c): "No larger than a playing card, it depicts the Folly which used to stand on the hillside outcrop."
! 104128 (0x196c0): "This is a rampart on the hillside, a natural ledge leading east. Down below in the valley, rough cottages surround a church. Labourers toil in the fields, and a hay wain is being pulled across the river far below.^^Towering over you is a monstrously awful piece of architecture, a Folly. The freestanding tower has no appreciable purpose and no apparent entrance. The latter is just as well since it looks extremely unsafe."
! 104424 (0x197e8): "The hillside is too steep."
! 104444 (0x197fc): "Whatever you do, it'll always be a bean pole."
! 104478 (0x1981e): "A bean pole, of the kind used to grow climbing plants, rests against the side of the tower."
! 104542 (0x1985e): "the"
! 104544 (0x19860): "It has no horticultural application."
! 104570 (0x1987a): "At the top of the beanstalk, in amongst the clouds. There is no safe way to go from here except back down, not surprisingly. A dangerous way might be to step out onto the clouds to the north, but even if this is a fairy-tale it would be taking a lot on trust."
! 104750 (0x1992e): "The clouds are too tenuous that way."
! 104776 (0x19948): "A square grid of plots of grass and seedbeds, all alike."
! 104816 (0x19970): "Capability Meldrew and his gang of workmen are delicately planting a sapling plane tree here. Your disturbance annoys them immensely and you are immediately arrested for vagrancy and theft. After a few months in prison, you are hauled up before the County Assizes and sentenced..."
! 105012 (0x19a34): "A dark hall, deserted after nightfall. Outside it is a stormy October night, and rain beats against the windowpanes. Shadows swoop and dive in the air like bats."
! 105126 (0x19aa6): "There's no apparent way out of here."
! 105152 (0x19ac0): "There's nothing worthwhile in it."
! 105176 (0x19ad8): "the"
! 105178 (0x19ada): "A stone castle on a hill."
! 105196 (0x19aec): "It leads nowhere."
! 105210 (0x19afa): "the"
! 105212 (0x19afc): "A single bright light in the darkness."
! 105240 (0x19b18): "Ugh, what a nasty bright light. Good thing you'll never go there."
! 105288 (0x19b48): "the"
! 105290 (0x19b4a): "There's less to this card than meets the eye."
! 105322 (0x19b6a): "the"
! 105324 (0x19b6c): "Well, where might you have seen infinity before?"
! 105358 (0x19b8e): "the"
! 105360 (0x19b90): "Andromeda chained to a rock on the sea-shore."
! 105392 (0x19bb0): "What an ugly girl!  Bet she's good for a laugh though."
! 105432 (0x19bd8): "the"
! 105434 (0x19bda): "It leads nowhere."
! 105448 (0x19be8): "It shows a great many crystal-glass cups and glasses."
! 105486 (0x19c0e): "An old administrative office of the museum, emptied and made into a prison cell: amateur but effective."
! 105558 (0x19c56): "There's definitely no way out of here."
! 105586 (0x19c72): "an"
! 105588 (0x19c74): "Just a crook. And what's wrong with crooks, that's what I say."
! 105636 (0x19ca4): "the"
! 105638 (0x19ca6): "Perhaps you should look up ~husbandry~ in a dictionary."
! 105678 (0x19cce): "The door to the south stands open."
! 105702 (0x19ce6): "As you might expect, the cell door is closed."
! 105734 (0x19d06): "This is a city side street, but as if seen through the grey of despair. People stream by, some of whom you almost recognise, as if dead. The street runs east-west, and to the north is a doorway into a grubby tenement building."
! 105892 (0x19da4): "A filthy wooden staircase leads up from here, off the street to the south. Peeling-away posters have been stuck up on top of each other on the walls, in such a way that you can only read the most recent."
! 106032 (0x19e30): "~Bateaux Phlebas - toujours le dernier mot~. You briefly wish you had a dog called Toto, so as to be able to say ~Toto, I've got a feeling we're not in England any more.~"
! 106158 (0x19eae): "What a very useful piece of paper. Pity there's writing on it."
! 106204 (0x19edc): "The stairs end at a shabby room, with screened windows, lit by incense sticks and sevenbranched candelabra. A doorway with a hanging bead curtain leads west. In the centre of the room is a table, on which is an electric bell push and a wicked Tarot pack."
! 106380 (0x19f8c): "She has a bad cold, but nevertheless is known to be the wisest woman in Europe."
! 106436 (0x19fc4): "the"
! 106438 (0x19fc6): "Hood, scythe, skeleton, implacable grin: yes, it's the Reaper all right."
! 106492 (0x19ffc): "It's vital you slide right along with this one."
! 106526 (0x1a01e): "the"
! 106528 (0x1a020): "Don't worry, he won't slide down the cliff."
! 106560 (0x1a040): "The Fool is a man looking directly ahead as he steps off the edge of a cliff."
! 106614 (0x1a076): "the"
! 106616 (0x1a078): "He's one of my colleagues now, of course."
! 106646 (0x1a096): "Those are pearls that were his eyes..."
! 106674 (0x1a0b2): "Shoddy workmanship, but never mind, it's only a staff and who needs those any more?"
! 106734 (0x1a0ee): "the"
! 106736 (0x1a0f0): "Bronze is the key here. Have you seen any other bronze anywhere?"
! 106782 (0x1a11e): "Down at the end of the street, the brown urban waters carry by unpleasant rubbish, and rats scuttle up and over the mounds washed up around you."
! 106882 (0x1a182): "People had no style in those days, before they invented paper tissues. I mean this tatty cloth wouldn't attract anyone, would it?"
! 106974 (0x1a1de): "On one especially repellent mound is, of all things, a fine silk handkerchief."
! 107030 (0x1a216): "Monogrammed J. A. P., but that's no great matter."
! 107070 (0x1a23e): "The side reads: PHLEBAS."
! 107094 (0x1a256): "Moored close to the bank is a glass-roofed tourist boat."
! 107134 (0x1a27e): "On the far bank is a glass-roofed tourist boat. As much as you like to explore, you can't see how to attract its attention."
! 107222 (0x1a2d6): "A tourist river-boat, glass-roofed. You can climb out to the shore to the east. At the helm is a very strange man, at times almost a straw dummy, almost perhaps a hollow cut-out made of paper. He (or it) turns the wheel and casts his eyes to windward."
! 107400 (0x1a388): "the"
! 107402 (0x1a38a): "Every now and then he whimpers."
! 107424 (0x1a3a0): "The hollow man mechanically says: ~Where to, guv'nor?  Me with my big mouth, I gone and done it again, calling you the guv'nor. I was down Margate Sands way once, had a bloke come on board, he thought any old destination would do, like a real place, like anywhere was real... We are the hollow men, I says, he didn't like that... Hurry up, please, it's time.~"
! 107688 (0x1a4a8): "A dry, desolate waste of buildings borders here on a main road, so full of black-suited pedestrians off to work at banks that you can't force your way any further east. Once in a while a few of the bowler-hatted army step into the street and down some steps below a Metropolitan sign."
! 107884 (0x1a56c): "You can't force your way through the tide of bankers."
! 107922 (0x1a592): "This is a vast underground station in great rectangular caverns, deep beneath the streets. You are outside the ticket gates, near a flight of steps back up to the city, and since you haven't a ticket you're likely to stay that way."
! 108082 (0x1a632): "Back up the stairs for you. Call yourself a traveller..."
! 108124 (0x1a65c): "Behind a kiosk, a surly-looking man is selling guide books and maps."
! 108172 (0x1a68c): "His jumper is unstriped, and there are no onions around his neck. Nonetheless he has a rather Gallic, disgruntled look to him. Perhaps he's a former Socialist cabinet minister."
! 108298 (0x1a70a): "Burn it!  Burn it at once!"
! 108318 (0x1a71e): "What a very useful map!  Now you can go on holiday."
! 108356 (0x1a744): "Just the way you remember yours having been."
! 108388 (0x1a764): "This crowded, bohemian cafe bears only a passing resemblance to the ruined castle of the Tarot card: the decor imitates castle walls and arrowslits. You find yourself sitting at a table for one in the centre of the cafe floor. It is noisy, bustling and cheery, and a string quartet plays Strauss under the chattering of German voices. Your chances of attracting a waiter are very slight."
! 108656 (0x1a870): "The crowd is lively and exciting, but also inconsiderate and bulky."
! 108704 (0x1a8a0): "It contains a timer-detonater, a bundle of plastic explosives and many, many wires. The most obvious ones are green, red, blue and black. They would pull out of their loose sockets in the timer easily, so perhaps this bomb disposal nonsense isn't as tricky as people make out."
! 108898 (0x1a962): "Taped loosely to the underside of the table is a complicated-looking bomb."
! 108950 (0x1a996): "Time flies down here, you know. Eternity simply breezes by."
! 108994 (0x1a9c2): "Good photographic gear that. You didn't get it from a... well, a bomb, I hope."
! 109054 (0x1a9fe): "This basement room is filled with crate after crate of glasses and cups, enough for an entire hotel, or restaurant perhaps. A little light comes in from an opaque skylight which is at street level outdoors. There is no way out of here, since the only door is shut tight."
! 109240 (0x1aab8): "There's no apparent way out of here."
! 109266 (0x1aad2): "Through the square window in the door you can see a bar at which staff are serving, and a very crowded and lively cafe-restaurant beyond. The cabaret act has her back to you, and a considerable amount of her front to the diners."
! 109424 (0x1ab70): "A rough rocky sea shore below barely-climbable cliffs, against which an inviting deep blue sea laps. It seems to be early morning, soon after dawn, from the look of the sun on the water."
! 109554 (0x1abf2): "The rocks are too dangerous. You'll have to scale the cliff."
! 109598 (0x1ac1e): "Chained to the cliff face is the beautiful Andromeda, looking nobly out to sea as she awaits her fate."
! 109670 (0x1ac66): "Andromeda's"
! 109680 (0x1ac70): "A long clasp of amber, pefect for long straggly Greek hair."
! 109722 (0x1ac9a): "Mmm... it still has her perfume on it. Hehehehe. Bet she's dead now."
! 109774 (0x1acce): "the"
! 109776 (0x1acd0): "Far, far too dangerous. The age of martyrs in the church is long gone, you know."
! 109834 (0x1ad0a): "On top of some exposed cliffs on the Mediterranean. A dangerous slither down leads on one side to the shore, all other ways down being even more hazardous. Atop the cliffs is the Pharos tower, a round stone pinnacle lighthouse, but there is no way in from here. A grassy walk leads east."
! 110034 (0x1add2): "There's only dull grassland that way."
! 110062 (0x1adee): "A long clifftop walk by the sea, from the lighthouse to the west to the village not far east. These fields are occupied by herds of hardy mountain goats, continually butting each other and frisking. To the south a path leads across sparse grassland to a great outgrowth of some kind."
! 110256 (0x1aeb0): "There's only dull grassland that way."
! 110284 (0x1aecc): "The rather sparse rolling landscape is dominated here by a massive, and suspiciously unnatural, wall of thorns, which forms a great ring about an area perhaps a hundred yards in diameter. There are goat pastures to the north."
! 110440 (0x1af68): "There's only dull grassland that way."
! 110468 (0x1af84): "A ragged gap in the wall has been burnt out to the south."
! 110508 (0x1afac): "The wall rustles and clashes its thorns like a beast alive."
! 110550 (0x1afd6): "It's hard to imagine what could possibly shift a wall like that."
! 110596 (0x1b004): "Here inside the thorn wall, a north-south path leads across sacred earth into the imposing marble Temple of Zeus. You feel distinctly uneasy walking on such hallowed turf. There are any number of myths about gods getting cross about that sort of thing."
! 110772 (0x1b0b4): "The wall of thorns hems you in."
! 110794 (0x1b0ca): "The beautiful candle-lit Temple of Zeus, a cavern of marble pillars which is quite empty and featureless save for the entrance at the north. So much for all the rumours about hoards of treasure - it looks as if Zeus (who is, by the way howling with anger outside) was bluffing all along."
! 110994 (0x1b192): "Unfortunately for you (since Zeus is watching it), the temple has only one entrance."
! 111054 (0x1b1ce): "one"
! 111056 (0x1b1d0): "This currency is only valid in ancient Greece. Where on earth have you been?"
! 111110 (0x1b206): "A long walk along the cliffs from the lighthouse leads naturally here, just outside the Eraina Taverna, whose open doorway lies to the south."
! 111208 (0x1b268): "There's only dull grassland that way."
! 111236 (0x1b284): "A plain but cheery taverna, fill of miserable and rather ashamed men who are drinking retsina heavily. The day is dawning outside the north door, but they strangely do not share your uplifted feeling at the sight."
! 111382 (0x1b316): "The tavern entrance is to the north."
! 111408 (0x1b330): "A speciality dessert of the Taverna: ice cream, kateifi, raspberry sauce, cream. An acquired taste."
! 111480 (0x1b378): "Left untouched on one table is an Ekmek Special dessert."
! 111520 (0x1b3a0): "Better with chocolate ice cream, I think."
! 111550 (0x1b3be): "Doesn't somebody else need this more than you?"
! 111584 (0x1b3e0): "Morose and unconvivial at the best of times. This is not the best of times."
! 111638 (0x1b416): "Behind the bar, a depressed bartender polishes glasses."
! 111678 (0x1b43e): "You stand atop a pinnacle of stone, on an early Pharos, or lighthouse. Inconsiderately enough, the builders have provided no obvious way down from here. Still, there's a fine view out across the Mediterranean sea into the dim dawning sun. It's going to be a nice day, you can't help thinking.^^In the centre of the pinnacle is a marvellous device of polished bronze mirrors, its open end pointed out across the bay. There seems to be very little traffic at the moment, though a smudge on the horizon might possibly be a quinquireme."
! 112050 (0x1b5b2): "Being a lighthouse, this pinnacle is way up in the air. Point taken?"
! 112100 (0x1b5e4): "This is a murky hillside cave, whose mouth opens to the northeast, though a tight squeeze might lead a little way west. Outside is a clear starry night. There is no traffic noise, and the air smells fresh."
! 112244 (0x1b674): "Hanging up on an iron bracket is a flaming torch."
! 112278 (0x1b696): "an"
! 112280 (0x1b698): "It is a summary of the writings of a polemical monk called Gildas, and relates to events following the fall of the tyrant Vortigern at the turn of the fifth century A.D. After dark decades of pillage by Saxon mercenaries, Britain was reunited by Ambrosius Aurelianus and then defended at the Battle of Badon Hill, some time in the early years of the sixth century.^^This remarkable victory was of no religious significance, so Gildas does not dwell upon it. He tends only to mention bad kings and leaders, and then only to insult them. (Talking about Gildas is an excellent way to annoy an Anglo-Saxon historian.)  Nobody even knows where Badon Hill is any more, or anything else about it, although some students of Welsh poetry believe Ambrosius was the source of the legend of King Arthur."
! 112838 (0x1b8c6): "An uncomfortable spur of rock on the hillside crags. The only natural access to this spot is a crevice in the hill to the east, but there is also a securely fastened rope hanging down into the darkness."
! 112976 (0x1b950): "The crags are too precipitous."
! 112998 (0x1b966): "You are hanging perilously on a hemp rope, suspended from an overhang of rock above, which drops down into the darkness of the valley. On the tracks below, patrols of men can be heard, and you feel instinctively that they are not friendly."
! 113164 (0x1ba0c): "Up and down are it, quite frankly."
! 113190 (0x1ba26): "A single yellow daisy grows from a little tuft of grass on the crags."
! 113238 (0x1ba56): "The geography is strangely familiar here. You are on a natural shelf on the hillside, overlooking the valley below. An all-but invisible cleft in the rock leads to a cave to the southwest, and the slope can safely be traversed to the east.^^It is a brightly moonlit night, cool as in late spring. There will be a sharp frost tomorrow. Down in the valley, a great cartwheel circle of camp fires illuminate some dark shapes, perhaps crude encampments. There is no other sign of civilisation."
! 113580 (0x1bbac): "The hillside is too steep."
! 113600 (0x1bbc0): "You stand beside a Roman villa, whose columns cast shadows of an Empire in the moonlight. It is thirty years since the fall of the West, and Britain is cut off from the continent, where soon even the existence of the Anglis will become a myth. This villa has survived the pestilence and devastation of the civil war, and although it must be a couple of centuries old, it is still standing. From here you could cut across the hillside east to west, or slip in through a none-too-secure timber door."
! 113946 (0x1bd1a): "A stream runs past the villa and cascades down the hillside here, to join the river far below, near the Roman road which will, in 1500 years time, become the motorway which so spoils the view from your back garden. A rough ladder of wood lashed together with leather rests against the villa at the lowest point of the tiled roof."
! 114174 (0x1bdfe): "The shadowy cloisters of the villa's atrium. You disturb a fieldmouse, and hear the scratching of tiny claws on stone. Moonlight filters in from the central courtyard to the south, and a rotten timber door leads back north."
! 114330 (0x1be9a): "Resting against one pillar is a horn made from a tusk, mounted on a long spear-like pole."
! 114392 (0x1bed8): "the"
! 114394 (0x1beda): "The central well of the villa, ringed with columns. On the north side is a cloister and stone-linteled doorways lead east, south and west. The central floor area is commanded by a beautiful Roman mosaic, quartered into individual scenes, around the edges of which are vents from the hypocaust. There is no roof over the courtyard, and the atrium is lit by moonlight."
! 114648 (0x1bfd8): "The four quarters show white-beards in the Forum, farmers in Italian fields, a military fortification and a grain ship unloading at Ossia."
! 114746 (0x1c03a): "Whatever function this spacious room once had, now it is evidently home to military men, for it is filled with crude armour, spears, rough blankets which are little more than animal hides. Fortunately for you the guards are absent."
! 114906 (0x1c0da): "A crude six-sided die made from animal bone."
! 114938 (0x1c0fa): "a pair of"
! 114944 (0x1c100): "What was once the villa's triclinium, or kitchen, is now deserted and long since ransacked for metal. (Nobody lives on their own in this century, and this villa wouldn't be easy to defend.)  A doorway to the west gives onto the atrium."
! 115110 (0x1c1a6): "The well has a hinged wooden cover. You can't tell by looking how deep it is."
! 115166 (0x1c1de): "The hinged wooden cover is raised, revealing a circular well about a yard in diameter. It is very dark inside."
! 115244 (0x1c22c): "In one corner is a hinged wooden cover of some kind, which is shut."
! 115292 (0x1c25c): "You are clinging perilously to the walls of the deep and dangerous well. You can hardly see a thing, even with the aid of the torch, but curiously enough you feel warm air blowing across you from the west."
! 115434 (0x1c2ea): "Too risky. There might not be anything that way, for all you know."
! 115482 (0x1c31a): "This very low almost-cellar underneath the atrium is a tiny access space for log fires which are kept going to provide a form of central heating for the villa. They are lit and going away nicely, interestingly. It isn't very warm by twentieth-century standards, but you have to admit it works. A tiny amount of light filters in from the vents in the roof, but nowhere near enough to see by. The only way in seems to be the way you came."
! 115784 (0x1c448): "The log fires are hot, and anyway the only way out large enough for you is back east."
! 115844 (0x1c484): "A well-flagstoned forecourt at the villa entrance, surrounded by lesser wooden buildings. Some of these are in use as stables, and figures of men slip between them. You hide from sight, not wishing to draw attention to yourself. Up on the hill, where Meldrew House will one day be built, men on horseback can be seen circling the access track. For a deserted villa, this is certainly well-guarded."
! 116122 (0x1c59a): "Well, here you are, imprisoned again. This time the cell is a tent of stitched animal hides, perhaps twenty feet in diameter, supported by a central pole. You have no idea where the entrance is, because you were blindfolded on the way in. There is at least a dim light from the camp-fires outside the tent."
! 116336 (0x1c670): "This tent doesn't seem to have an exit, either."
! 116370 (0x1c692): "the"
! 116372 (0x1c694): "He is dishevelled, wiry and unconscious. He is also covered with dust and leaves, as if he has been lying down on his front outdoors for hours."
! 116472 (0x1c6f8): "An unconscious Saxon spy is slumped on the ground. Occasionally faint noises can be heard from him."
! 116542 (0x1c73e): "Luckily for you the tent, now collapsed, was hardly being watched at all, because all the attention is diverted to a ghastly ritual being carried out over beyond the camp-fires. But your luck cannot hold for long. You are so surrounded by hostile territory that you simply have nowhere to run or hide. Things are, not to put too fine a point on it, looking grim."
! 116794 (0x1c83a): "Far, far too risky."
! 116810 (0x1c84a): "An erratic glacial rock, which seems in the feverish firelight to make a natural dolmen, can be made out to the east, on the other side of an almost-extinguished campfire of hot coals."
! 116938 (0x1c8ca): "You stand beside the eerie dolmen, surrounded by the terrible noises and incantations of a druidic rite."
! 117010 (0x1c912): "Far, far too risky."
! 117026 (0x1c922): "Resting on top of the dolmen is a polished blue stone."
! 117064 (0x1c948): "Hell, you always imagined, would contain fiery, sulphurous pits and a great many gentlemen with forked tails. You were right about the last part. A demon is sitting behind a flame-proofed desk at the bottom of the stairs. There are some disconcerting screams from further away, but nothing to worry about. Not in this life, anyway."
! 117296 (0x1ca30): "That direction is not for the living."
! 117322 (0x1ca4a): "If you were to cast a film of your adventures so far, you would hire Donald Sutherland to play this gentleman."
! 117400 (0x1ca98): "Heaven, you always imagined, would be a world of marble pillars, fluffy clouds, harps and angelic ladies with serene expressions. You were right about the last part. An angel is sitting here behind some new office furniture, next to a blue Tourist Information sign. A bridge of cloud extends south across the sky to the beanstalk. There is some choral singing going on somewhere, but not loud enough for you to hear properly. Not in this life, anyway."
! 117716 (0x1cbd4): "That direction is not for the living."
! 117742 (0x1cbee): "If you were to cast a film of your adventures so far, you would hire Dame Judi Dench to play this lady."
! 117816 (0x1cc38): "a cake of"
! 117822 (0x1cc3e): "That's the spirit, keep it up!"
! 117846 (0x1cc56): "Really!  How disgraceful!"
! 117866 (0x1cc6a): "~For foulmouths everywhere~."
! 117888 (0x1cc80): "The wireless fills the air with Jemima's favourite station, ~Mild-n-Breezy FM~, about which the least said the better."
